(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=Symbol.for("react.transitional.element"),Wh=Symbol.for("react.fragment");function _d(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:$h,type:e,key:i,ref:t!==void 0?t:null,props:n}}Wo.Fragment=Wh;Wo.jsx=_d;Wo.jsxs=_d;Ed.exports=Wo;var g=Ed.exports,Cd={exports:{}},z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.transitional.element"),jh=Symbol.for("react.portal"),eg=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),ig=Symbol.for("react.consumer"),lg=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),sg=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),ug=Symbol.for("react.activity"),Sr=Symbol.iterator;function rg(e){return e===null||typeof e!="object"?null:(e=Sr&&e[Sr]||e["@@iterator"],typeof e=="function"?e:null)}var xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Md={};function Mi(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||xd}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rd(){}Rd.prototype=Mi.prototype;function fu(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||xd}var du=fu.prototype=new Rd;du.constructor=fu;Nd(du,Mi.prototype);du.isPureReactComponent=!0;var Er=Array.isArray;function os(){}var oe={H:null,A:null,T:null,S:null},wd=Object.prototype.hasOwnProperty;function pu(e,t,n){var i=n.ref;return{$$typeof:cu,type:e,key:t,ref:i!==void 0?i:null,props:n}}function cg(e,t){return pu(e.type,t,e.props)}function mu(e){return typeof e=="object"&&e!==null&&e.$$typeof===cu}function fg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _r=/\/+/g;function _a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fg(""+e.key):t.toString(36)}function dg(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(os,os):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Fn(e,t,n,i,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case cu:case jh:a=!0;break;case Ad:return a=e._init,Fn(a(e._payload),t,n,i,l)}}if(a)return l=l(e),a=i===""?"."+_a(e,0):i,Er(l)?(n="",a!=null&&(n=a.replace(_r,"$&/")+"/"),Fn(l,t,n,"",function(f){return f})):l!=null&&(mu(l)&&(l=cg(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(_r,"$&/")+"/")+a)),t.push(l)),1;a=0;var r=i===""?".":i+":";if(Er(e))for(var c=0;c<e.length;c++)i=e[c],o=r+_a(i,c),a+=Fn(i,t,n,o,l);else if(c=rg(e),typeof c=="function")for(e=c.call(e),c=0;!(i=e.next()).done;)i=i.value,o=r+_a(i,c++),a+=Fn(i,t,n,o,l);else if(o==="object"){if(typeof e.then=="function")return Fn(dg(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function zl(e,t,n){if(e==null)return e;var i=[],l=0;return Fn(e,i,"","",function(o){return t.call(n,o,l++)}),i}function pg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mg={map:zl,forEach:function(e,t,n){zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!mu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Activity=ug;z.Children=mg;z.Component=Mi;z.Fragment=eg;z.Profiler=ng;z.PureComponent=fu;z.StrictMode=tg;z.Suspense=ag;z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return oe.H.useMemoCache(e)}};z.cache=function(e){return function(){return e.apply(null,arguments)}};z.cacheSignal=function(){return null};z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Nd({},e.props),l=e.key;if(t!=null)for(o in t.key!==void 0&&(l=""+t.key),t)!wd.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(i[o]=t[o]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),r=0;r<o;r++)a[r]=arguments[r+2];i.children=a}return pu(e.type,l,i)};z.createContext=function(e){return e={$$typeof:lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ig,_context:e},e};z.createElement=function(e,t,n){var i,l={},o=null;if(t!=null)for(i in t.key!==void 0&&(o=""+t.key),t)wd.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var r=Array(a),c=0;c<a;c++)r[c]=arguments[c+2];l.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return pu(e,o,l)};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:og,render:e}};z.isValidElement=mu;z.lazy=function(e){return{$$typeof:Ad,_payload:{_status:-1,_result:e},_init:pg}};z.memo=function(e,t){return{$$typeof:sg,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=oe.T,n={};oe.T=n;try{var i=e(),l=oe.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(os,Cr)}catch(o){Cr(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),oe.T=t}};z.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};z.use=function(e){return oe.H.use(e)};z.useActionState=function(e,t,n){return oe.H.useActionState(e,t,n)};z.useCallback=function(e,t){return oe.H.useCallback(e,t)};z.useContext=function(e){return oe.H.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e,t){return oe.H.useDeferredValue(e,t)};z.useEffect=function(e,t){return oe.H.useEffect(e,t)};z.useEffectEvent=function(e){return oe.H.useEffectEvent(e)};z.useId=function(){return oe.H.useId()};z.useImperativeHandle=function(e,t,n){return oe.H.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return oe.H.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return oe.H.useLayoutEffect(e,t)};z.useMemo=function(e,t){return oe.H.useMemo(e,t)};z.useOptimistic=function(e,t){return oe.H.useOptimistic(e,t)};z.useReducer=function(e,t,n){return oe.H.useReducer(e,t,n)};z.useRef=function(e){return oe.H.useRef(e)};z.useState=function(e){return oe.H.useState(e)};z.useSyncExternalStore=function(e,t,n){return oe.H.useSyncExternalStore(e,t,n)};z.useTransition=function(){return oe.H.useTransition()};z.version="19.2.0";Cd.exports=z;var O=Cd.exports;const hg=Sd(O);var Id={exports:{}},jo={},Dd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,q){var H=D.length;D.push(q);e:for(;0<H;){var re=H-1>>>1,he=D[re];if(0<l(he,q))D[re]=q,D[H]=he,H=re;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var q=D[0],H=D.pop();if(H!==q){D[0]=H;e:for(var re=0,he=D.length,rt=he>>>1;re<rt;){var Et=2*(re+1)-1,Ea=D[Et],Tn=Et+1,Vl=D[Tn];if(0>l(Ea,H))Tn<he&&0>l(Vl,Ea)?(D[re]=Vl,D[Tn]=H,re=Tn):(D[re]=Ea,D[Et]=H,re=Et);else if(Tn<he&&0>l(Vl,H))D[re]=Vl,D[Tn]=H,re=Tn;else break e}}return q}function l(D,q){var H=D.sortIndex-q.sortIndex;return H!==0?H:D.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var c=[],f=[],d=1,m=null,p=3,h=!1,E=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function S(D){for(var q=n(f);q!==null;){if(q.callback===null)i(f);else if(q.startTime<=D)i(f),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(f)}}function N(D){if(_=!1,S(D),!E)if(n(c)!==null)E=!0,I||(I=!0,x());else{var q=n(f);q!==null&&se(N,q.startTime-D)}}var I=!1,C=-1,b=5,R=-1;function U(){return w?!0:!(e.unstable_now()-R<b)}function A(){if(w=!1,I){var D=e.unstable_now();R=D;var q=!0;try{e:{E=!1,_&&(_=!1,y(C),C=-1),h=!0;var H=p;try{t:{for(S(D),m=n(c);m!==null&&!(m.expirationTime>D&&U());){var re=m.callback;if(typeof re=="function"){m.callback=null,p=m.priorityLevel;var he=re(m.expirationTime<=D);if(D=e.unstable_now(),typeof he=="function"){m.callback=he,S(D),q=!0;break t}m===n(c)&&i(c),S(D)}else i(c);m=n(c)}if(m!==null)q=!0;else{var rt=n(f);rt!==null&&se(N,rt.startTime-D),q=!1}}break e}finally{m=null,p=H,h=!1}q=void 0}}finally{q?x():I=!1}}}var x;if(typeof v=="function")x=function(){v(A)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,P=G.port2;G.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){T(A,0)};function se(D,q){C=T(function(){D(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var H=p;p=q;try{return D()}finally{p=H}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return q()}finally{p=H}},e.unstable_scheduleCallback=function(D,q,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=H+he,D={id:d++,callback:q,priorityLevel:D,startTime:H,expirationTime:he,sortIndex:-1},H>re?(D.sortIndex=H,t(f,D),n(c)===null&&D===n(f)&&(_?(y(C),C=-1):_=!0,se(N,H-re))):(D.sortIndex=he,t(c,D),E||h||(E=!0,I||(I=!0,x()))),D},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(D){var q=p;return function(){var H=p;p=q;try{return D.apply(this,arguments)}finally{p=H}}}})(Ud);Dd.exports=Ud;var gg=Dd.exports,bd={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=O;function Ld(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ot(){}var Ue={d:{f:Ot,r:function(){throw Error(Ld(522))},D:Ot,C:Ot,L:Ot,m:Ot,X:Ot,S:Ot,M:Ot},p:0,findDOMNode:null},vg=Symbol.for("react.portal");function Tg(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vg,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var $i=yg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ea(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ld(299));return Tg(e,t,null,n)};be.flushSync=function(e){var t=$i.T,n=Ue.p;try{if($i.T=null,Ue.p=2,e)return e()}finally{$i.T=t,Ue.p=n,Ue.d.f()}};be.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ue.d.C(e,t))};be.prefetchDNS=function(e){typeof e=="string"&&Ue.d.D(e)};be.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=ea(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ue.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):n==="script"&&Ue.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};be.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=ea(t.as,t.crossOrigin);Ue.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ue.d.M(e)};be.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=ea(n,t.crossOrigin);Ue.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};be.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=ea(t.as,t.crossOrigin);Ue.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ue.d.m(e)};be.requestFormReset=function(e){Ue.d.r(e)};be.unstable_batchedUpdates=function(e,t){return e(t)};be.useFormState=function(e,t,n){return $i.H.useFormState(e,t,n)};be.useFormStatus=function(){return $i.H.useHostTransitionStatus()};be.version="19.2.0";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(e){console.error(e)}}Gd(),bd.exports=be;var Sg=bd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee=gg,qd=O,Eg=Sg;function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zd(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ar(e){if(Nl(e)!==e)throw Error(M(188))}function _g(e){var t=e.alternate;if(!t){if(t=Nl(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Ar(l),e;if(o===i)return Ar(l),t;o=o.sibling}throw Error(M(188))}if(n.return!==i.return)n=l,i=o;else{for(var a=!1,r=l.child;r;){if(r===n){a=!0,n=l,i=o;break}if(r===i){a=!0,i=l,n=o;break}r=r.sibling}if(!a){for(r=o.child;r;){if(r===n){a=!0,n=o,i=l;break}if(r===i){a=!0,i=o,n=l;break}r=r.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Bd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Bd(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,Cg=Symbol.for("react.element"),Bl=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),Pd=Symbol.for("react.strict_mode"),as=Symbol.for("react.profiler"),kd=Symbol.for("react.consumer"),wt=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),ss=Symbol.for("react.suspense"),us=Symbol.for("react.suspense_list"),gu=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),rs=Symbol.for("react.activity"),Ag=Symbol.for("react.memo_cache_sentinel"),xr=Symbol.iterator;function Vi(e){return e===null||typeof e!="object"?null:(e=xr&&e[xr]||e["@@iterator"],typeof e=="function"?e:null)}var xg=Symbol.for("react.client.reference");function cs(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xg?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case as:return"Profiler";case Pd:return"StrictMode";case ss:return"Suspense";case us:return"SuspenseList";case rs:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ji:return"Portal";case wt:return e.displayName||"Context";case kd:return(e._context.displayName||"Context")+".Consumer";case hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gu:return t=e.displayName||null,t!==null?t:cs(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return cs(e(t))}catch{}}return null}var Ki=Array.isArray,V=qd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Eg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xn={pending:!1,data:null,method:null,action:null},fs=[],Kn=-1;function Tt(e){return{current:e}}function Ae(e){0>Kn||(e.current=fs[Kn],fs[Kn]=null,Kn--)}function te(e,t){Kn++,fs[Kn]=e.current,e.current=t}var vt=Tt(null),dl=Tt(null),nn=Tt(null),To=Tt(null);function So(e,t){switch(te(nn,t),te(dl,e),te(vt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dc(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dc(t),e=uh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ae(vt),te(vt,e)}function gi(){Ae(vt),Ae(dl),Ae(nn)}function ds(e){e.memoizedState!==null&&te(To,e);var t=vt.current,n=uh(t,e.type);t!==n&&(te(dl,e),te(vt,n))}function Eo(e){dl.current===e&&(Ae(vt),Ae(dl)),To.current===e&&(Ae(To),Cl._currentValue=xn)}var Ca,Nr;function En(e){if(Ca===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ca=t&&t[1]||"",Nr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+e+Nr}var Aa=!1;function xa(e,t){if(!e||Aa)return"";Aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(h){var p=h}Reflect.construct(e,[],m)}else{try{m.call()}catch(h){p=h}e.call(m.prototype)}}else{try{throw Error()}catch(h){p=h}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(h){if(h&&p&&typeof h.stack=="string")return[h.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),a=o[0],r=o[1];if(a&&r){var c=a.split(`
`),f=r.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=l);break}}}finally{Aa=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?En(n):""}function Ng(e,t){switch(e.tag){case 26:case 27:case 5:return En(e.type);case 16:return En("Lazy");case 13:return e.child!==t&&t!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return xa(e.type,!1);case 11:return xa(e.type.render,!1);case 1:return xa(e.type,!0);case 31:return En("Activity");default:return""}}function Mr(e){try{var t="",n=null;do t+=Ng(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ps=Object.prototype.hasOwnProperty,yu=Ee.unstable_scheduleCallback,Na=Ee.unstable_cancelCallback,Mg=Ee.unstable_shouldYield,Rg=Ee.unstable_requestPaint,Je=Ee.unstable_now,wg=Ee.unstable_getCurrentPriorityLevel,Fd=Ee.unstable_ImmediatePriority,Od=Ee.unstable_UserBlockingPriority,_o=Ee.unstable_NormalPriority,Ig=Ee.unstable_LowPriority,Yd=Ee.unstable_IdlePriority,Dg=Ee.log,Ug=Ee.unstable_setDisableYieldValue,Ml=null,Ke=null;function $t(e){if(typeof Dg=="function"&&Ug(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Ml,e)}catch{}}var Qe=Math.clz32?Math.clz32:Gg,bg=Math.log,Lg=Math.LN2;function Gg(e){return e>>>=0,e===0?32:31-(bg(e)/Lg|0)|0}var Pl=256,kl=262144,Fl=4194304;function _n(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ta(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~o,i!==0?l=_n(i):(a&=r,a!==0?l=_n(a):n||(n=r&~e,n!==0&&(l=_n(n))))):(r=i&~o,r!==0?l=_n(r):a!==0?l=_n(a):n||(n=i&~e,n!==0&&(l=_n(n)))),l===0?0:t!==0&&t!==l&&!(t&o)&&(o=l&-l,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:l}function Rl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jd(){var e=Fl;return Fl<<=1,!(Fl&62914560)&&(Fl=4194304),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hg(e,t,n,i,l,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,f=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Qe(n),m=1<<d;r[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var h=p[d];h!==null&&(h.lane&=-536870913)}n&=~m}i!==0&&Kd(e,i,0),o!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=o&~(a&~t))}function Kd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Qe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Qd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Qe(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function Xd(e,t){var n=t&-t;return n=n&42?1:vu(n),n&(e.suspendedLanes|t)?0:n}function vu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Zd(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Th(e.type))}function Rr(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var gn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+gn,ze="__reactProps$"+gn,Ri="__reactContainer$"+gn,ms="__reactEvents$"+gn,Vg="__reactListeners$"+gn,zg="__reactHandles$"+gn,wr="__reactResources$"+gn,Il="__reactMarker$"+gn;function Su(e){delete e[Ne],delete e[ze],delete e[ms],delete e[Vg],delete e[zg]}function Qn(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ri]||n[Ne]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qc(e);e!==null;){if(n=e[Ne])return n;e=qc(e)}return t}e=n,n=e.parentNode}return null}function wi(e){if(e=e[Ne]||e[Ri]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function oi(e){var t=e[wr];return t||(t=e[wr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ce(e){e[Il]=!0}var $d=new Set,Wd={};function Gn(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(Wd[e]=t,e=0;e<t.length;e++)$d.add(t[e])}var Bg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Dr={};function Pg(e){return ps.call(Dr,e)?!0:ps.call(Ir,e)?!1:Bg.test(e)?Dr[e]=!0:(Ir[e]=!0,!1)}function to(e,t,n){if(Pg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ol(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _t(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kg(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hs(e){if(!e._valueTracker){var t=jd(e)?"checked":"value";e._valueTracker=kg(e,t,""+e[t])}}function ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=jd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fg=/[\n"\\]/g;function nt(e){return e.replace(Fg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gs(e,t,n,i,l,o,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+je(t)):e.value!==""+je(t)&&(e.value=""+je(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?ys(e,a,je(t)):n!=null?ys(e,a,je(n)):i!=null&&e.removeAttribute("value"),l==null&&o!=null&&(e.defaultChecked=!!o),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+je(r):e.removeAttribute("name")}function tp(e,t,n,i,l,o,a,r){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){hs(e);return}n=n!=null?""+je(n):"",t=t!=null?""+je(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),hs(e)}function ys(e,t,n){t==="number"&&Co(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ai(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+je(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function np(e,t,n){if(t!=null&&(t=""+je(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+je(n):""}function ip(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(M(92));if(Ki(i)){if(1<i.length)throw Error(M(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=je(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),hs(e)}function vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Og=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Og.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function lp(e,t,n){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&Ur(e,l,i)}else for(var o in t)t.hasOwnProperty(o)&&Ur(e,o,t[o])}function Eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(e){return Jg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var vs=null;function _u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,si=null;function br(e){var t=wi(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+nt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[ze]||null;if(!l)throw Error(M(90));gs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ep(i)}break e;case"textarea":np(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ai(e,!!n.multiple,t,!1)}}}var Ra=!1;function op(e,t,n){if(Ra)return e(t,n);Ra=!0;try{var i=e(t);return i}finally{if(Ra=!1,(Xn!==null||si!==null)&&(pa(),Xn&&(t=Xn,e=si,si=Xn=null,br(t),e)))for(t=0;t<e.length;t++)br(e[t])}}function pl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ze]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Gt)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Ts=!1}var Wt=null,Cu=null,io=null;function ap(){if(io)return io;var e,t=Cu,n=t.length,i,l="value"in Wt?Wt.value:Wt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===l[o-i];i++);return io=l.slice(e,1<i?1-i:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Lr(){return!1}function Be(e){function t(n,i,l,o,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(o):o[r]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yl:Lr,this.isPropagationStopped=Lr,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Be(qn),Dl=ae({},qn,{view:0,detail:0}),Kg=Be(Dl),wa,Ia,Bi,ia=ae({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(wa=e.screenX-Bi.screenX,Ia=e.screenY-Bi.screenY):Ia=wa=0,Bi=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),Gr=Be(ia),Qg=ae({},ia,{dataTransfer:0}),Xg=Be(Qg),Zg=ae({},Dl,{relatedTarget:0}),Da=Be(Zg),$g=ae({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=Be($g),jg=ae({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ey=Be(jg),ty=ae({},qn,{data:0}),qr=Be(ty),ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ly[e])?!!t[e]:!1}function Au(){return oy}var ay=ae({},Dl,{key:function(e){if(e.key){var t=ny[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sy=Be(ay),uy=ae({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hr=Be(uy),ry=ae({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),cy=Be(ry),fy=ae({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dy=Be(fy),py=ae({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),my=Be(py),hy=ae({},qn,{newState:0,oldState:0}),gy=Be(hy),yy=[9,13,27,32],xu=Gt&&"CompositionEvent"in window,Wi=null;Gt&&"documentMode"in document&&(Wi=document.documentMode);var vy=Gt&&"TextEvent"in window&&!Wi,sp=Gt&&(!xu||Wi&&8<Wi&&11>=Wi),Vr=" ",zr=!1;function up(e,t){switch(e){case"keyup":return yy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function Ty(e,t){switch(e){case"compositionend":return rp(t);case"keypress":return t.which!==32?null:(zr=!0,Vr);case"textInput":return e=t.data,e===Vr&&zr?null:e;default:return null}}function Sy(e,t){if(Zn)return e==="compositionend"||!xu&&up(e,t)?(e=ap(),io=Cu=Wt=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sp&&t.locale!=="ko"?null:t.data;default:return null}}var Ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ey[e.type]:t==="textarea"}function cp(e,t,n,i){Xn?si?si.push(i):si=[i]:Xn=i,t=Po(t,"onChange"),0<t.length&&(n=new na("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ji=null,ml=null;function _y(e){oh(e,0)}function la(e){var t=Qi(e);if(ep(t))return e}function Pr(e,t){if(e==="change")return t}var fp=!1;if(Gt){var Ua;if(Gt){var ba="oninput"in document;if(!ba){var kr=document.createElement("div");kr.setAttribute("oninput","return;"),ba=typeof kr.oninput=="function"}Ua=ba}else Ua=!1;fp=Ua&&(!document.documentMode||9<document.documentMode)}function Fr(){ji&&(ji.detachEvent("onpropertychange",dp),ml=ji=null)}function dp(e){if(e.propertyName==="value"&&la(ml)){var t=[];cp(t,ml,e,_u(e)),op(_y,t)}}function Cy(e,t,n){e==="focusin"?(Fr(),ji=t,ml=n,ji.attachEvent("onpropertychange",dp)):e==="focusout"&&Fr()}function Ay(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return la(ml)}function xy(e,t){if(e==="click")return la(t)}function Ny(e,t){if(e==="input"||e==="change")return la(t)}function My(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ze=typeof Object.is=="function"?Object.is:My;function hl(e,t){if(Ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!ps.call(t,l)||!Ze(e[l],t[l]))return!1}return!0}function Or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var n=Or(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Or(n)}}function pp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Co(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Co(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ry=Gt&&"documentMode"in document&&11>=document.documentMode,$n=null,Ss=null,el=null,Es=!1;function Jr(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Es||$n==null||$n!==Co(i)||(i=$n,"selectionStart"in i&&Nu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),el&&hl(el,i)||(el=i,i=Po(Ss,"onSelect"),0<i.length&&(t=new na("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=$n)))}function Sn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},La={},hp={};Gt&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Hn(e){if(La[e])return La[e];if(!Wn[e])return e;var t=Wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hp)return La[e]=t[n];return e}var gp=Hn("animationend"),yp=Hn("animationiteration"),vp=Hn("animationstart"),wy=Hn("transitionrun"),Iy=Hn("transitionstart"),Dy=Hn("transitioncancel"),Tp=Hn("transitionend"),Sp=new Map,_s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_s.push("scrollEnd");function pt(e,t){Sp.set(e,t),Gn(t,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],jn=0,Mu=0;function oa(){for(var e=jn,t=Mu=jn=0;t<e;){var n=We[t];We[t++]=null;var i=We[t];We[t++]=null;var l=We[t];We[t++]=null;var o=We[t];if(We[t++]=null,i!==null&&l!==null){var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}o!==0&&Ep(n,l,o)}}function aa(e,t,n,i){We[jn++]=e,We[jn++]=t,We[jn++]=n,We[jn++]=i,Mu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ru(e,t,n,i){return aa(e,t,n,i),xo(e)}function Vn(e,t){return aa(e,null,null,t),xo(e)}function Ep(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(l=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,l&&t!==null&&(l=31-Qe(n),e=o.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),o):null}function xo(e){if(50<rl)throw rl=0,Fs=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function Uy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,i){return new Uy(e,t,n,i)}function wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ut(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _p(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oo(e,t,n,i,l,o){var a=0;if(i=e,typeof e=="function")wu(e)&&(a=1);else if(typeof e=="string")a=H0(e,n,vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case rs:return e=Oe(31,n,t,l),e.elementType=rs,e.lanes=o,e;case Jn:return Nn(n.children,l,o,t);case Pd:a=8,l|=24;break;case as:return e=Oe(12,n,t,l|2),e.elementType=as,e.lanes=o,e;case ss:return e=Oe(13,n,t,l),e.elementType=ss,e.lanes=o,e;case us:return e=Oe(19,n,t,l),e.elementType=us,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wt:a=10;break e;case kd:a=9;break e;case hu:a=11;break e;case gu:a=14;break e;case Yt:a=16,i=null;break e}a=29,n=Error(M(130,e===null?"null":typeof e,"")),i=null}return t=Oe(a,n,t,l),t.elementType=e,t.type=i,t.lanes=o,t}function Nn(e,t,n,i){return e=Oe(7,e,i,t),e.lanes=n,e}function Ga(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function Cp(e){var t=Oe(18,null,null,0);return t.stateNode=e,t}function qa(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function it(e,t){if(typeof e=="object"&&e!==null){var n=Kr.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Mr(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:Mr(t)}}var ti=[],ni=0,No=null,gl=0,et=[],tt=0,dn=null,ht=1,gt="";function Mt(e,t){ti[ni++]=gl,ti[ni++]=No,No=e,gl=t}function Ap(e,t,n){et[tt++]=ht,et[tt++]=gt,et[tt++]=dn,dn=e;var i=ht;e=gt;var l=32-Qe(i)-1;i&=~(1<<l),n+=1;var o=32-Qe(t)+l;if(30<o){var a=l-l%5;o=(i&(1<<a)-1).toString(32),i>>=a,l-=a,ht=1<<32-Qe(t)+l|n<<l|i,gt=o+e}else ht=1<<o|n<<l|i,gt=e}function Iu(e){e.return!==null&&(Mt(e,1),Ap(e,1,0))}function Du(e){for(;e===No;)No=ti[--ni],ti[ni]=null,gl=ti[--ni],ti[ni]=null;for(;e===dn;)dn=et[--tt],et[tt]=null,gt=et[--tt],et[tt]=null,ht=et[--tt],et[tt]=null}function xp(e,t){et[tt++]=ht,et[tt++]=gt,et[tt++]=dn,ht=t.id,gt=t.overflow,dn=e}var Me=null,le=null,J=!1,ln=null,lt=!1,Cs=Error(M(519));function pn(e){var t=Error(M(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(it(t,e)),Cs}function Qr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ne]=e,t[ze]=i,n){case"dialog":k("cancel",t),k("close",t);break;case"iframe":case"object":case"embed":k("load",t);break;case"video":case"audio":for(n=0;n<El.length;n++)k(El[n],t);break;case"source":k("error",t);break;case"img":case"image":case"link":k("error",t),k("load",t);break;case"details":k("toggle",t);break;case"input":k("invalid",t),tp(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":k("invalid",t);break;case"textarea":k("invalid",t),ip(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||sh(t.textContent,n)?(i.popover!=null&&(k("beforetoggle",t),k("toggle",t)),i.onScroll!=null&&k("scroll",t),i.onScrollEnd!=null&&k("scrollend",t),i.onClick!=null&&(t.onclick=It),t=!0):t=!1,t||pn(e,!0)}function Xr(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 31:case 13:lt=!1;return;case 27:case 3:lt=!0;return;default:Me=Me.return}}function Pn(e){if(e!==Me)return!1;if(!J)return Xr(e),J=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Qs(e.type,e.memoizedProps)),n=!n),n&&le&&pn(e),Xr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));le=Gc(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));le=Gc(e)}else t===27?(t=le,yn(e.type)?(e=Ws,Ws=null,le=e):le=t):le=Me?at(e.stateNode.nextSibling):null;return!0}function In(){le=Me=null,J=!1}function Ha(){var e=ln;return e!==null&&(He===null?He=e:He.push.apply(He,e),ln=null),e}function yl(e){ln===null?ln=[e]:ln.push(e)}var As=Tt(null),zn=null,Dt=null;function Kt(e,t,n){te(As,t._currentValue),t._currentValue=n}function bt(e){e._currentValue=As.current,Ae(As)}function xs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var o=l.dependencies;if(o!==null){var a=l.child;o=o.firstContext;e:for(;o!==null;){var r=o;o=l;for(var c=0;c<t.length;c++)if(r.context===t[c]){o.lanes|=n,r=o.alternate,r!==null&&(r.lanes|=n),xs(o.return,n,e),i||(a=null);break e}o=r.next}}else if(l.tag===18){if(a=l.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),xs(a,n,e),a=null}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}}function Ii(e,t,n,i){e=null;for(var l=t,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var a=l.alternate;if(a===null)throw Error(M(387));if(a=a.memoizedProps,a!==null){var r=l.type;Ze(l.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(l===To.current){if(a=l.alternate,a===null)throw Error(M(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}l=l.return}e!==null&&Ns(t,e,n,i),t.flags|=262144}function Mo(e){for(e=e.firstContext;e!==null;){if(!Ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dn(e){zn=e,Dt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return Np(zn,e)}function Jl(e,t){return zn===null&&Dn(e),Np(e,t)}function Np(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Dt===null){if(e===null)throw Error(M(308));Dt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dt=Dt.next=t;return n}var by=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ly=Ee.unstable_scheduleCallback,Gy=Ee.unstable_NormalPriority,ve={$$typeof:wt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new by,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&Ly(Gy,function(){e.controller.abort()})}var tl=null,Ms=0,Ti=0,ui=null;function qy(e,t){if(tl===null){var n=tl=[];Ms=0,Ti=ir(),ui={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ms++,t.then(Zr,Zr),t}function Zr(){if(--Ms===0&&tl!==null){ui!==null&&(ui.status="fulfilled");var e=tl;tl=null,Ti=0,ui=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hy(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var $r=V.S;V.S=function(e,t){Bm=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qy(e,t),$r!==null&&$r(e,t)};var Mn=Tt(null);function bu(){var e=Mn.current;return e!==null?e:ee.pooledCache}function ao(e,t){t===null?te(Mn,Mn.current):te(Mn,t.pool)}function Mp(){var e=bu();return e===null?null:{parent:ve._currentValue,pool:e}}var Di=Error(M(460)),Lu=Error(M(474)),sa=Error(M(542)),Ro={then:function(){}};function Wr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ec(e),e;default:if(typeof t.status=="string")t.then(It,It);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ec(e),e}throw Rn=t,Di}}function Cn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Rn=n,Di):n}}var Rn=null;function jr(){if(Rn===null)throw Error(M(459));var e=Rn;return Rn=null,e}function ec(e){if(e===Di||e===sa)throw Error(M(483))}var ri=null,vl=0;function Kl(e){var t=vl;return vl+=1,ri===null&&(ri=[]),Rp(ri,e,t)}function Pi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ql(e,t){throw t.$$typeof===Cg?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wp(e){function t(T,y){if(e){var v=T.deletions;v===null?(T.deletions=[y],T.flags|=16):v.push(y)}}function n(T,y){if(!e)return null;for(;y!==null;)t(T,y),y=y.sibling;return null}function i(T){for(var y=new Map;T!==null;)T.key!==null?y.set(T.key,T):y.set(T.index,T),T=T.sibling;return y}function l(T,y){return T=Ut(T,y),T.index=0,T.sibling=null,T}function o(T,y,v){return T.index=v,e?(v=T.alternate,v!==null?(v=v.index,v<y?(T.flags|=67108866,y):v):(T.flags|=67108866,y)):(T.flags|=1048576,y)}function a(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function r(T,y,v,S){return y===null||y.tag!==6?(y=Ga(v,T.mode,S),y.return=T,y):(y=l(y,v),y.return=T,y)}function c(T,y,v,S){var N=v.type;return N===Jn?d(T,y,v.props.children,S,v.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yt&&Cn(N)===y.type)?(y=l(y,v.props),Pi(y,v),y.return=T,y):(y=oo(v.type,v.key,v.props,null,T.mode,S),Pi(y,v),y.return=T,y)}function f(T,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=qa(v,T.mode,S),y.return=T,y):(y=l(y,v.children||[]),y.return=T,y)}function d(T,y,v,S,N){return y===null||y.tag!==7?(y=Nn(v,T.mode,S,N),y.return=T,y):(y=l(y,v),y.return=T,y)}function m(T,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Ga(""+y,T.mode,v),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bl:return v=oo(y.type,y.key,y.props,null,T.mode,v),Pi(v,y),v.return=T,v;case Ji:return y=qa(y,T.mode,v),y.return=T,y;case Yt:return y=Cn(y),m(T,y,v)}if(Ki(y)||Vi(y))return y=Nn(y,T.mode,v,null),y.return=T,y;if(typeof y.then=="function")return m(T,Kl(y),v);if(y.$$typeof===wt)return m(T,Jl(T,y),v);Ql(T,y)}return null}function p(T,y,v,S){var N=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return N!==null?null:r(T,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bl:return v.key===N?c(T,y,v,S):null;case Ji:return v.key===N?f(T,y,v,S):null;case Yt:return v=Cn(v),p(T,y,v,S)}if(Ki(v)||Vi(v))return N!==null?null:d(T,y,v,S,null);if(typeof v.then=="function")return p(T,y,Kl(v),S);if(v.$$typeof===wt)return p(T,y,Jl(T,v),S);Ql(T,v)}return null}function h(T,y,v,S,N){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return T=T.get(v)||null,r(y,T,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bl:return T=T.get(S.key===null?v:S.key)||null,c(y,T,S,N);case Ji:return T=T.get(S.key===null?v:S.key)||null,f(y,T,S,N);case Yt:return S=Cn(S),h(T,y,v,S,N)}if(Ki(S)||Vi(S))return T=T.get(v)||null,d(y,T,S,N,null);if(typeof S.then=="function")return h(T,y,v,Kl(S),N);if(S.$$typeof===wt)return h(T,y,v,Jl(y,S),N);Ql(y,S)}return null}function E(T,y,v,S){for(var N=null,I=null,C=y,b=y=0,R=null;C!==null&&b<v.length;b++){C.index>b?(R=C,C=null):R=C.sibling;var U=p(T,C,v[b],S);if(U===null){C===null&&(C=R);break}e&&C&&U.alternate===null&&t(T,C),y=o(U,y,b),I===null?N=U:I.sibling=U,I=U,C=R}if(b===v.length)return n(T,C),J&&Mt(T,b),N;if(C===null){for(;b<v.length;b++)C=m(T,v[b],S),C!==null&&(y=o(C,y,b),I===null?N=C:I.sibling=C,I=C);return J&&Mt(T,b),N}for(C=i(C);b<v.length;b++)R=h(C,T,b,v[b],S),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?b:R.key),y=o(R,y,b),I===null?N=R:I.sibling=R,I=R);return e&&C.forEach(function(A){return t(T,A)}),J&&Mt(T,b),N}function _(T,y,v,S){if(v==null)throw Error(M(151));for(var N=null,I=null,C=y,b=y=0,R=null,U=v.next();C!==null&&!U.done;b++,U=v.next()){C.index>b?(R=C,C=null):R=C.sibling;var A=p(T,C,U.value,S);if(A===null){C===null&&(C=R);break}e&&C&&A.alternate===null&&t(T,C),y=o(A,y,b),I===null?N=A:I.sibling=A,I=A,C=R}if(U.done)return n(T,C),J&&Mt(T,b),N;if(C===null){for(;!U.done;b++,U=v.next())U=m(T,U.value,S),U!==null&&(y=o(U,y,b),I===null?N=U:I.sibling=U,I=U);return J&&Mt(T,b),N}for(C=i(C);!U.done;b++,U=v.next())U=h(C,T,b,U.value,S),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?b:U.key),y=o(U,y,b),I===null?N=U:I.sibling=U,I=U);return e&&C.forEach(function(x){return t(T,x)}),J&&Mt(T,b),N}function w(T,y,v,S){if(typeof v=="object"&&v!==null&&v.type===Jn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Bl:e:{for(var N=v.key;y!==null;){if(y.key===N){if(N=v.type,N===Jn){if(y.tag===7){n(T,y.sibling),S=l(y,v.props.children),S.return=T,T=S;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yt&&Cn(N)===y.type){n(T,y.sibling),S=l(y,v.props),Pi(S,v),S.return=T,T=S;break e}n(T,y);break}else t(T,y);y=y.sibling}v.type===Jn?(S=Nn(v.props.children,T.mode,S,v.key),S.return=T,T=S):(S=oo(v.type,v.key,v.props,null,T.mode,S),Pi(S,v),S.return=T,T=S)}return a(T);case Ji:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(T,y.sibling),S=l(y,v.children||[]),S.return=T,T=S;break e}else{n(T,y);break}else t(T,y);y=y.sibling}S=qa(v,T.mode,S),S.return=T,T=S}return a(T);case Yt:return v=Cn(v),w(T,y,v,S)}if(Ki(v))return E(T,y,v,S);if(Vi(v)){if(N=Vi(v),typeof N!="function")throw Error(M(150));return v=N.call(v),_(T,y,v,S)}if(typeof v.then=="function")return w(T,y,Kl(v),S);if(v.$$typeof===wt)return w(T,y,Jl(T,v),S);Ql(T,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(T,y.sibling),S=l(y,v),S.return=T,T=S):(n(T,y),S=Ga(v,T.mode,S),S.return=T,T=S),a(T)):n(T,y)}return function(T,y,v,S){try{vl=0;var N=w(T,y,v,S);return ri=null,N}catch(C){if(C===Di||C===sa)throw C;var I=Oe(29,C,null,T.mode);return I.lanes=S,I.return=T,I}finally{}}}var Un=wp(!0),Ip=wp(!1),Jt=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function on(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=xo(e),Ep(e,null,n),t}return aa(e,i,t,n),xo(e)}function nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Qd(e,n)}}function Va(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ws=!1;function il(){if(ws){var e=ui;if(e!==null)throw e}}function ll(e,t,n,i){ws=!1;var l=e.updateQueue;Jt=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var c=r,f=c.next;c.next=null,a===null?o=f:a.next=f,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==a&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;a=0,d=f=c=null,r=o;do{var p=r.lane&-536870913,h=p!==r.lane;if(h?(Y&p)===p:(i&p)===p){p!==0&&p===Ti&&(ws=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var E=e,_=r;p=t;var w=n;switch(_.tag){case 1:if(E=_.payload,typeof E=="function"){m=E.call(w,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(w,m,p):E,p==null)break e;m=ae({},m,p);break e;case 2:Jt=!0}}p=r.callback,p!==null&&(e.flags|=64,h&&(e.flags|=8192),h=l.callbacks,h===null?l.callbacks=[p]:h.push(p))}else h={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=h,c=m):d=d.next=h,a|=p;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;h=r,r=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),hn|=a,e.lanes=a,e.memoizedState=m}}function Dp(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function Up(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Dp(n[e],t)}var Si=Tt(null),wo=Tt(0);function tc(e,t){e=zt,te(wo,e),te(Si,t),zt=e|t.baseLanes}function Is(){te(wo,zt),te(Si,Si.current)}function qu(){zt=wo.current,Ae(Si),Ae(wo)}var $e=Tt(null),ot=null;function Qt(e){var t=e.alternate;te(pe,pe.current&1),te($e,e),ot===null&&(t===null||Si.current!==null||t.memoizedState!==null)&&(ot=e)}function Ds(e){te(pe,pe.current),te($e,e),ot===null&&(ot=e)}function bp(e){e.tag===22?(te(pe,pe.current),te($e,e),ot===null&&(ot=e)):Xt()}function Xt(){te(pe,pe.current),te($e,$e.current)}function Fe(e){Ae($e),ot===e&&(ot=null),Ae(pe)}var pe=Tt(0);function Io(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zs(n)||$s(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qt=0,B=null,j=null,ge=null,Do=!1,ci=!1,bn=!1,Uo=0,Tl=0,fi=null,Vy=0;function ce(){throw Error(M(321))}function Hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ze(e[n],t[n]))return!1;return!0}function Vu(e,t,n,i,l,o){return qt=o,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?cm:Xu,bn=!1,o=n(i,l),bn=!1,ci&&(o=Gp(t,n,i,l)),Lp(e),o}function Lp(e){V.H=Sl;var t=j!==null&&j.next!==null;if(qt=0,ge=j=B=null,Do=!1,Tl=0,fi=null,t)throw Error(M(300));e===null||Te||(e=e.dependencies,e!==null&&Mo(e)&&(Te=!0))}function Gp(e,t,n,i){B=e;var l=0;do{if(ci&&(fi=null),Tl=0,ci=!1,25<=l)throw Error(M(301));if(l+=1,ge=j=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}V.H=fm,o=t(n,i)}while(ci);return o}function zy(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?bl(t):t,e=e.useState()[0],(j!==null?j.memoizedState:null)!==e&&(B.flags|=1024),t}function zu(){var e=Uo!==0;return Uo=0,e}function Bu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Pu(e){if(Do){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Do=!1}qt=0,ge=j=B=null,ci=!1,Tl=Uo=0,fi=null}function De(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?B.memoizedState=ge=e:ge=ge.next=e,ge}function me(){if(j===null){var e=B.alternate;e=e!==null?e.memoizedState:null}else e=j.next;var t=ge===null?B.memoizedState:ge.next;if(t!==null)ge=t,j=e;else{if(e===null)throw B.alternate===null?Error(M(467)):Error(M(310));j=e,e={memoizedState:j.memoizedState,baseState:j.baseState,baseQueue:j.baseQueue,queue:j.queue,next:null},ge===null?B.memoizedState=ge=e:ge=ge.next=e}return ge}function ua(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(e){var t=Tl;return Tl+=1,fi===null&&(fi=[]),e=Rp(fi,e,t),t=B,(ge===null?t.memoizedState:ge.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?cm:Xu),e}function ra(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===wt)return Re(e)}throw Error(M(438,String(e)))}function ku(e){var t=null,n=B.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=B.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ua(),B.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ag;return t.index++,n}function Ht(e,t){return typeof t=="function"?t(e):t}function so(e){var t=me();return Fu(t,j,e)}function Fu(e,t,n){var i=e.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=n;var l=e.baseQueue,o=i.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}t.baseQueue=l=o,i.pending=null}if(o=e.baseState,l===null)e.memoizedState=o;else{t=l.next;var r=a=null,c=null,f=t,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(Y&m)===m:(qt&m)===m){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===Ti&&(d=!0);else if((qt&p)===p){f=f.next,p===Ti&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=m,a=o):c=c.next=m,B.lanes|=p,hn|=p;m=f.action,bn&&n(o,m),o=f.hasEagerState?f.eagerState:n(o,m)}else p={lane:m,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,a=o):c=c.next=p,B.lanes|=m,hn|=m;f=f.next}while(f!==null&&f!==t);if(c===null?a=o:c.next=r,!Ze(o,e.memoizedState)&&(Te=!0,d&&(n=ui,n!==null)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function za(e){var t=me(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);Ze(o,t.memoizedState)||(Te=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function qp(e,t,n){var i=B,l=me(),o=J;if(o){if(n===void 0)throw Error(M(407));n=n()}else n=t();var a=!Ze((j||l).memoizedState,n);if(a&&(l.memoizedState=n,Te=!0),l=l.queue,Ou(zp.bind(null,i,l,e),[e]),l.getSnapshot!==t||a||ge!==null&&ge.memoizedState.tag&1){if(i.flags|=2048,Ei(9,{destroy:void 0},Vp.bind(null,i,l,n,t),null),ee===null)throw Error(M(349));o||qt&127||Hp(i,t,n)}return n}function Hp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=B.updateQueue,t===null?(t=ua(),B.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vp(e,t,n,i){t.value=n,t.getSnapshot=i,Bp(t)&&Pp(e)}function zp(e,t,n){return n(function(){Bp(t)&&Pp(e)})}function Bp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ze(e,n)}catch{return!0}}function Pp(e){var t=Vn(e,2);t!==null&&Ve(t,e,2)}function Us(e){var t=De();if(typeof e=="function"){var n=e;if(e=n(),bn){$t(!0);try{n()}finally{$t(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ht,lastRenderedState:e},t}function kp(e,t,n,i){return e.baseState=n,Fu(e,j,typeof i=="function"?i:Ht)}function By(e,t,n,i,l){if(fa(e))throw Error(M(485));if(e=t.action,e!==null){var o={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};V.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,Fp(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Fp(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var o=V.T,a={};V.T=a;try{var r=n(l,i),c=V.S;c!==null&&c(a,r),nc(e,t,r)}catch(f){bs(e,t,f)}finally{o!==null&&a.types!==null&&(o.types=a.types),V.T=o}}else try{o=n(l,i),nc(e,t,o)}catch(f){bs(e,t,f)}}function nc(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ic(e,t,i)},function(i){return bs(e,t,i)}):ic(e,t,n)}function ic(e,t,n){t.status="fulfilled",t.value=n,Op(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Fp(e,n)))}function bs(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Op(t),t=t.next;while(t!==i)}e.action=null}function Op(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yp(e,t){return t}function lc(e,t){if(J){var n=ee.formState;if(n!==null){e:{var i=B;if(J){if(le){t:{for(var l=le,o=lt;l.nodeType!==8;){if(!o){l=null;break t}if(l=at(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){le=at(l.nextSibling),i=l.data==="F!";break e}}pn(i)}i=!1}i&&(t=n[0])}}return n=De(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:t},n.queue=i,n=sm.bind(null,B,i),i.dispatch=n,i=Us(!1),o=Qu.bind(null,B,!1,i.queue),i=De(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=By.bind(null,B,l,o,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function oc(e){var t=me();return Jp(t,j,e)}function Jp(e,t,n){if(t=Fu(e,t,Yp)[0],e=so(Ht)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=bl(t)}catch(a){throw a===Di?sa:a}else i=t;t=me();var l=t.queue,o=l.dispatch;return n!==t.memoizedState&&(B.flags|=2048,Ei(9,{destroy:void 0},Py.bind(null,l,n),null)),[i,o,e]}function Py(e,t){e.action=t}function ac(e){var t=me(),n=j;if(n!==null)return Jp(t,n,e);me(),t=t.memoizedState,n=me();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ei(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=B.updateQueue,t===null&&(t=ua(),B.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Kp(){return me().memoizedState}function uo(e,t,n,i){var l=De();B.flags|=e,l.memoizedState=Ei(1|t,{destroy:void 0},n,i===void 0?null:i)}function ca(e,t,n,i){var l=me();i=i===void 0?null:i;var o=l.memoizedState.inst;j!==null&&i!==null&&Hu(i,j.memoizedState.deps)?l.memoizedState=Ei(t,o,n,i):(B.flags|=e,l.memoizedState=Ei(1|t,o,n,i))}function sc(e,t){uo(8390656,8,e,t)}function Ou(e,t){ca(2048,8,e,t)}function ky(e){B.flags|=4;var t=B.updateQueue;if(t===null)t=ua(),B.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qp(e){var t=me().memoizedState;return ky({ref:t,nextImpl:e}),function(){if(Q&2)throw Error(M(440));return t.impl.apply(void 0,arguments)}}function Xp(e,t){return ca(4,2,e,t)}function Zp(e,t){return ca(4,4,e,t)}function $p(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wp(e,t,n){n=n!=null?n.concat([e]):null,ca(4,4,$p.bind(null,t,e),n)}function Yu(){}function jp(e,t){var n=me();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Hu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function em(e,t){var n=me();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Hu(t,i[1]))return i[0];if(i=e(),bn){$t(!0);try{e()}finally{$t(!1)}}return n.memoizedState=[i,t],i}function Ju(e,t,n){return n===void 0||qt&1073741824&&!(Y&261930)?e.memoizedState=t:(e.memoizedState=n,e=km(),B.lanes|=e,hn|=e,n)}function tm(e,t,n,i){return Ze(n,t)?n:Si.current!==null?(e=Ju(e,n,i),Ze(e,t)||(Te=!0),e):!(qt&42)||qt&1073741824&&!(Y&261930)?(Te=!0,e.memoizedState=n):(e=km(),B.lanes|=e,hn|=e,t)}function nm(e,t,n,i,l){var o=X.p;X.p=o!==0&&8>o?o:8;var a=V.T,r={};V.T=r,Qu(e,!1,t,n);try{var c=l(),f=V.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Hy(c,i);ol(e,t,d,Xe(e))}else ol(e,t,i,Xe(e))}catch(m){ol(e,t,{then:function(){},status:"rejected",reason:m},Xe())}finally{X.p=o,a!==null&&r.types!==null&&(a.types=r.types),V.T=a}}function Fy(){}function Ls(e,t,n,i){if(e.tag!==5)throw Error(M(476));var l=im(e).queue;nm(e,l,t,xn,n===null?Fy:function(){return lm(e),n(i)})}function im(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xn,baseState:xn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ht,lastRenderedState:xn},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ht,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lm(e){var t=im(e);t.next===null&&(t=e.alternate.memoizedState),ol(e,t.next.queue,{},Xe())}function Ku(){return Re(Cl)}function om(){return me().memoizedState}function am(){return me().memoizedState}function Oy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xe();e=on(n);var i=an(t,e,n);i!==null&&(Ve(i,t,n),nl(i,t,n)),t={cache:Uu()},e.payload=t;return}t=t.return}}function Yy(e,t,n){var i=Xe();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fa(e)?um(t,n):(n=Ru(e,t,n,i),n!==null&&(Ve(n,e,i),rm(n,t,i)))}function sm(e,t,n){var i=Xe();ol(e,t,n,i)}function ol(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(e))um(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,r=o(a,n);if(l.hasEagerState=!0,l.eagerState=r,Ze(r,a))return aa(e,t,l,0),ee===null&&oa(),!1}catch{}finally{}if(n=Ru(e,t,l,i),n!==null)return Ve(n,e,i),rm(n,t,i),!0}return!1}function Qu(e,t,n,i){if(i={lane:2,revertLane:ir(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(t)throw Error(M(479))}else t=Ru(e,n,i,2),t!==null&&Ve(t,e,2)}function fa(e){var t=e.alternate;return e===B||t!==null&&t===B}function um(e,t){ci=Do=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rm(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Qd(e,n)}}var Sl={readContext:Re,use:ra,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Sl.useEffectEvent=ce;var cm={readContext:Re,use:ra,useCallback:function(e,t){return De().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:sc,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,uo(4194308,4,$p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uo(4194308,4,e,t)},useInsertionEffect:function(e,t){uo(4,2,e,t)},useMemo:function(e,t){var n=De();t=t===void 0?null:t;var i=e();if(bn){$t(!0);try{e()}finally{$t(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=De();if(n!==void 0){var l=n(t);if(bn){$t(!0);try{n(t)}finally{$t(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=Yy.bind(null,B,e),[i.memoizedState,e]},useRef:function(e){var t=De();return e={current:e},t.memoizedState=e},useState:function(e){e=Us(e);var t=e.queue,n=sm.bind(null,B,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yu,useDeferredValue:function(e,t){var n=De();return Ju(n,e,t)},useTransition:function(){var e=Us(!1);return e=nm.bind(null,B,e.queue,!0,!1),De().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=B,l=De();if(J){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),ee===null)throw Error(M(349));Y&127||Hp(i,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,sc(zp.bind(null,i,o,e),[e]),i.flags|=2048,Ei(9,{destroy:void 0},Vp.bind(null,i,o,n,t),null),n},useId:function(){var e=De(),t=ee.identifierPrefix;if(J){var n=gt,i=ht;n=(i&~(1<<32-Qe(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Vy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ku,useFormState:lc,useActionState:lc,useOptimistic:function(e){var t=De();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qu.bind(null,B,!0,n),n.dispatch=t,[e,t]},useMemoCache:ku,useCacheRefresh:function(){return De().memoizedState=Oy.bind(null,B)},useEffectEvent:function(e){var t=De(),n={impl:e};return t.memoizedState=n,function(){if(Q&2)throw Error(M(440));return n.impl.apply(void 0,arguments)}}},Xu={readContext:Re,use:ra,useCallback:jp,useContext:Re,useEffect:Ou,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:em,useReducer:so,useRef:Kp,useState:function(){return so(Ht)},useDebugValue:Yu,useDeferredValue:function(e,t){var n=me();return tm(n,j.memoizedState,e,t)},useTransition:function(){var e=so(Ht)[0],t=me().memoizedState;return[typeof e=="boolean"?e:bl(e),t]},useSyncExternalStore:qp,useId:om,useHostTransitionStatus:Ku,useFormState:oc,useActionState:oc,useOptimistic:function(e,t){var n=me();return kp(n,j,e,t)},useMemoCache:ku,useCacheRefresh:am};Xu.useEffectEvent=Qp;var fm={readContext:Re,use:ra,useCallback:jp,useContext:Re,useEffect:Ou,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:em,useReducer:za,useRef:Kp,useState:function(){return za(Ht)},useDebugValue:Yu,useDeferredValue:function(e,t){var n=me();return j===null?Ju(n,e,t):tm(n,j.memoizedState,e,t)},useTransition:function(){var e=za(Ht)[0],t=me().memoizedState;return[typeof e=="boolean"?e:bl(e),t]},useSyncExternalStore:qp,useId:om,useHostTransitionStatus:Ku,useFormState:ac,useActionState:ac,useOptimistic:function(e,t){var n=me();return j!==null?kp(n,j,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ku,useCacheRefresh:am};fm.useEffectEvent=Qp;function Ba(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gs={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xe(),l=on(i);l.payload=t,n!=null&&(l.callback=n),t=an(e,l,i),t!==null&&(Ve(t,e,i),nl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xe(),l=on(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=an(e,l,i),t!==null&&(Ve(t,e,i),nl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),i=on(n);i.tag=2,t!=null&&(i.callback=t),t=an(e,i,n),t!==null&&(Ve(t,e,n),nl(t,e,n))}};function uc(e,t,n,i,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,a):t.prototype&&t.prototype.isPureReactComponent?!hl(n,i)||!hl(l,o):!0}function rc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Gs.enqueueReplaceState(t,t.state,null)}function Ln(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ae({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function dm(e){Ao(e)}function pm(e){console.error(e)}function mm(e){Ao(e)}function bo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function cc(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function qs(e,t,n){return n=on(n),n.tag=3,n.payload={element:null},n.callback=function(){bo(e,t)},n}function hm(e){return e=on(e),e.tag=3,e}function gm(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;e.payload=function(){return l(o)},e.callback=function(){cc(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){cc(t,n,i),typeof l!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function Jy(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ii(t,n,l,!0),n=$e.current,n!==null){switch(n.tag){case 31:case 13:return ot===null?Vo():n.alternate===null&&de===0&&(de=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===Ro?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),$a(e,i,l)),!1;case 22:return n.flags|=65536,i===Ro?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),$a(e,i,l)),!1}throw Error(M(435,n.tag))}return $a(e,i,l),Vo(),!1}if(J)return t=$e.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==Cs&&(e=Error(M(422),{cause:i}),yl(it(e,n)))):(i!==Cs&&(t=Error(M(423),{cause:i}),yl(it(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=it(i,n),l=qs(e.stateNode,i,l),Va(e,l),de!==4&&(de=2)),!1;var o=Error(M(520),{cause:i});if(o=it(o,n),ul===null?ul=[o]:ul.push(o),de!==4&&(de=2),t===null)return!0;i=it(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=qs(n.stateNode,i,e),Va(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(sn===null||!sn.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,l=hm(l),gm(l,e,n,i),Va(n,l),!1}n=n.return}while(n!==null);return!1}var Zu=Error(M(461)),Te=!1;function xe(e,t,n,i){t.child=e===null?Ip(t,null,n,i):Un(t,e.child,n,i)}function fc(e,t,n,i,l){n=n.render;var o=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return Dn(t),i=Vu(e,t,n,a,o,l),r=zu(),e!==null&&!Te?(Bu(e,t,l),Vt(e,t,l)):(J&&r&&Iu(t),t.flags|=1,xe(e,t,i,l),t.child)}function dc(e,t,n,i,l){if(e===null){var o=n.type;return typeof o=="function"&&!wu(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,ym(e,t,o,i,l)):(e=oo(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!$u(e,l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(a,i)&&e.ref===t.ref)return Vt(e,t,l)}return t.flags|=1,e=Ut(o,i),e.ref=t.ref,e.return=t,t.child=e}function ym(e,t,n,i,l){if(e!==null){var o=e.memoizedProps;if(hl(o,i)&&e.ref===t.ref)if(Te=!1,t.pendingProps=i=o,$u(e,l))e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,Vt(e,t,l)}return Hs(e,t,n,i,l)}function vm(e,t,n,i){var l=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~o}else i=0,t.child=null;return pc(e,t,o,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ao(t,o!==null?o.cachePool:null),o!==null?tc(t,o):Is(),bp(t);else return i=t.lanes=536870912,pc(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(ao(t,o.cachePool),tc(t,o),Xt(),t.memoizedState=null):(e!==null&&ao(t,null),Is(),Xt());return xe(e,t,l,n),t.child}function Xi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pc(e,t,n,i,l){var o=bu();return o=o===null?null:{parent:ve._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&ao(t,null),Is(),bp(t),e!==null&&Ii(e,t,i,!0),t.childLanes=l,null}function ro(e,t){return t=Lo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mc(e,t,n){return Un(t,e.child,null,n),e=ro(t,t.pendingProps),e.flags|=2,Fe(t),t.memoizedState=null,e}function Ky(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(J){if(i.mode==="hidden")return e=ro(t,i),t.lanes=536870912,Xi(null,e);if(Ds(t),(e=le)?(e=ch(e,lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:dn!==null?{id:ht,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},n=Cp(e),n.return=t,t.child=n,Me=t,le=null)):e=null,e===null)throw pn(t);return t.lanes=536870912,null}return ro(t,i)}var o=e.memoizedState;if(o!==null){var a=o.dehydrated;if(Ds(t),l)if(t.flags&256)t.flags&=-257,t=mc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(M(558));else if(Te||Ii(e,t,n,!1),l=(n&e.childLanes)!==0,Te||l){if(i=ee,i!==null&&(a=Xd(i,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Vn(e,a),Ve(i,e,a),Zu;Vo(),t=mc(e,t,n)}else e=o.treeContext,le=at(a.nextSibling),Me=t,J=!0,ln=null,lt=!1,e!==null&&xp(t,e),t=ro(t,i),t.flags|=4096;return t}return e=Ut(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function co(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(M(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Hs(e,t,n,i,l){return Dn(t),n=Vu(e,t,n,i,void 0,l),i=zu(),e!==null&&!Te?(Bu(e,t,l),Vt(e,t,l)):(J&&i&&Iu(t),t.flags|=1,xe(e,t,n,l),t.child)}function hc(e,t,n,i,l,o){return Dn(t),t.updateQueue=null,n=Gp(t,i,n,l),Lp(e),i=zu(),e!==null&&!Te?(Bu(e,t,o),Vt(e,t,o)):(J&&i&&Iu(t),t.flags|=1,xe(e,t,n,o),t.child)}function gc(e,t,n,i,l){if(Dn(t),t.stateNode===null){var o=ei,a=n.contextType;typeof a=="object"&&a!==null&&(o=Re(a)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gs,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Gu(t),a=n.contextType,o.context=typeof a=="object"&&a!==null?Re(a):ei,o.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ba(t,n,a,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&Gs.enqueueReplaceState(o,o.state,null),ll(t,i,o,l),il(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var r=t.memoizedProps,c=Ln(n,r);o.props=c;var f=o.context,d=n.contextType;a=ei,typeof d=="object"&&d!==null&&(a=Re(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r||f!==a)&&rc(t,o,i,a),Jt=!1;var p=t.memoizedState;o.state=p,ll(t,i,o,l),il(),f=t.memoizedState,r||p!==f||Jt?(typeof m=="function"&&(Ba(t,n,m,i),f=t.memoizedState),(c=Jt||uc(t,n,c,i,p,f,a))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=a,i=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Rs(e,t),a=t.memoizedProps,d=Ln(n,a),o.props=d,m=t.pendingProps,p=o.context,f=n.contextType,c=ei,typeof f=="object"&&f!==null&&(c=Re(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==c)&&rc(t,o,i,c),Jt=!1,p=t.memoizedState,o.state=p,ll(t,i,o,l),il();var h=t.memoizedState;a!==m||p!==h||Jt||e!==null&&e.dependencies!==null&&Mo(e.dependencies)?(typeof r=="function"&&(Ba(t,n,r,i),h=t.memoizedState),(d=Jt||uc(t,n,d,i,p,h,c)||e!==null&&e.dependencies!==null&&Mo(e.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),o.props=i,o.state=h,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,co(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=Un(t,e.child,null,l),t.child=Un(t,null,n,l)):xe(e,t,n,l),t.memoizedState=o.state,e=t.child):e=Vt(e,t,l),e}function yc(e,t,n,i){return In(),t.flags|=256,xe(e,t,n,i),t.child}var Pa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ka(e){return{baseLanes:e,cachePool:Mp()}}function Fa(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ye),e}function Tm(e,t,n){var i=t.pendingProps,l=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),a&&(l=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(J){if(l?Qt(t):Xt(),(e=le)?(e=ch(e,lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:dn!==null?{id:ht,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},n=Cp(e),n.return=t,t.child=n,Me=t,le=null)):e=null,e===null)throw pn(t);return $s(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(Xt(),l=t.mode,r=Lo({mode:"hidden",children:r},l),i=Nn(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=ka(n),i.childLanes=Fa(e,a,n),t.memoizedState=Pa,Xi(null,i)):(Qt(t),Vs(t,r))}var c=e.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(o)t.flags&256?(Qt(t),t.flags&=-257,t=Oa(e,t,n)):t.memoizedState!==null?(Xt(),t.child=e.child,t.flags|=128,t=null):(Xt(),r=i.fallback,l=t.mode,i=Lo({mode:"visible",children:i.children},l),r=Nn(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Un(t,e.child,null,n),i=t.child,i.memoizedState=ka(n),i.childLanes=Fa(e,a,n),t.memoizedState=Pa,t=Xi(null,i));else if(Qt(t),$s(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var f=a.dgst;a=f,i=Error(M(419)),i.stack="",i.digest=a,yl({value:i,source:null,stack:null}),t=Oa(e,t,n)}else if(Te||Ii(e,t,n,!1),a=(n&e.childLanes)!==0,Te||a){if(a=ee,a!==null&&(i=Xd(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,Vn(e,i),Ve(a,e,i),Zu;Zs(r)||Vo(),t=Oa(e,t,n)}else Zs(r)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,le=at(r.nextSibling),Me=t,J=!0,ln=null,lt=!1,e!==null&&xp(t,e),t=Vs(t,i.children),t.flags|=4096);return t}return l?(Xt(),r=i.fallback,l=t.mode,c=e.child,f=c.sibling,i=Ut(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?r=Ut(f,r):(r=Nn(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Xi(null,i),i=t.child,r=e.child.memoizedState,r===null?r=ka(n):(l=r.cachePool,l!==null?(c=ve._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Mp(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=Fa(e,a,n),t.memoizedState=Pa,Xi(e.child,i)):(Qt(t),n=e.child,e=n.sibling,n=Ut(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return t=Lo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lo(e,t){return e=Oe(22,e,null,t),e.lanes=0,e}function Oa(e,t,n){return Un(t,e.child,null,n),e=Vs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),xs(e.return,t,n)}function Ya(e,t,n,i,l,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.treeForkCount=o)}function Sm(e,t,n){var i=t.pendingProps,l=i.revealOrder,o=i.tail;i=i.children;var a=pe.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,te(pe,a),xe(e,t,i,n),i=J?gl:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vc(e,n,t);else if(e.tag===19)vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Io(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ya(t,!1,l,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Io(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ya(t,!0,n,null,o,i);break;case"together":Ya(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ii(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Ut(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ut(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $u(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Mo(e)))}function Qy(e,t,n){switch(t.tag){case 3:So(t,t.stateNode.containerInfo),Kt(t,ve,e.memoizedState.cache),In();break;case 27:case 5:ds(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:Kt(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ds(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Qt(t),t.flags|=128,null):n&t.child.childLanes?Tm(e,t,n):(Qt(t),e=Vt(e,t,n),e!==null?e.sibling:null);Qt(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ii(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return Sm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),te(pe,pe.current),i)break;return null;case 22:return t.lanes=0,vm(e,t,n,t.pendingProps);case 24:Kt(t,ve,e.memoizedState.cache)}return Vt(e,t,n)}function Em(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Te=!0;else{if(!$u(e,n)&&!(t.flags&128))return Te=!1,Qy(e,t,n);Te=!!(e.flags&131072)}else Te=!1,J&&t.flags&1048576&&Ap(t,gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Cn(t.elementType),t.type=e,typeof e=="function")wu(e)?(i=Ln(e,i),t.tag=1,t=gc(null,t,e,i,n)):(t.tag=0,t=Hs(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===hu){t.tag=11,t=fc(null,t,e,i,n);break e}else if(l===gu){t.tag=14,t=dc(null,t,e,i,n);break e}}throw t=cs(e)||e,Error(M(306,t,""))}}return t;case 0:return Hs(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=Ln(i,t.pendingProps),gc(e,t,i,l,n);case 3:e:{if(So(t,t.stateNode.containerInfo),e===null)throw Error(M(387));i=t.pendingProps;var o=t.memoizedState;l=o.element,Rs(e,t),ll(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Kt(t,ve,i),i!==o.cache&&Ns(t,[ve],n,!0),il(),i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=yc(e,t,i,n);break e}else if(i!==l){l=it(Error(M(424)),t),yl(l),t=yc(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=at(e.firstChild),Me=t,J=!0,ln=null,lt=!0,n=Ip(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(In(),i===l){t=Vt(e,t,n);break e}xe(e,t,i,n)}t=t.child}return t;case 26:return co(e,t),e===null?(n=Vc(t.type,null,t.pendingProps,null))?t.memoizedState=n:J||(n=t.type,e=t.pendingProps,i=ko(nn.current).createElement(n),i[Ne]=t,i[ze]=e,we(i,n,e),Ce(i),t.stateNode=i):t.memoizedState=Vc(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ds(t),e===null&&J&&(i=t.stateNode=fh(t.type,t.pendingProps,nn.current),Me=t,lt=!0,l=le,yn(t.type)?(Ws=l,le=at(i.firstChild)):le=l),xe(e,t,t.pendingProps.children,n),co(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&J&&((l=i=le)&&(i=A0(i,t.type,t.pendingProps,lt),i!==null?(t.stateNode=i,Me=t,le=at(i.firstChild),lt=!1,l=!0):l=!1),l||pn(t)),ds(t),l=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Qs(l,o)?i=null:a!==null&&Qs(l,a)&&(t.flags|=32),t.memoizedState!==null&&(l=Vu(e,t,zy,null,null,n),Cl._currentValue=l),co(e,t),xe(e,t,i,n),t.child;case 6:return e===null&&J&&((e=n=le)&&(n=x0(n,t.pendingProps,lt),n!==null?(t.stateNode=n,Me=t,le=null,e=!0):e=!1),e||pn(t)),null;case 13:return Tm(e,t,n);case 4:return So(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Un(t,null,i,n):xe(e,t,i,n),t.child;case 11:return fc(e,t,t.type,t.pendingProps,n);case 7:return xe(e,t,t.pendingProps,n),t.child;case 8:return xe(e,t,t.pendingProps.children,n),t.child;case 12:return xe(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Kt(t,t.type,i.value),xe(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,Dn(t),l=Re(l),i=i(l),t.flags|=1,xe(e,t,i,n),t.child;case 14:return dc(e,t,t.type,t.pendingProps,n);case 15:return ym(e,t,t.type,t.pendingProps,n);case 19:return Sm(e,t,n);case 31:return Ky(e,t,n);case 22:return vm(e,t,n,t.pendingProps);case 24:return Dn(t),i=Re(ve),e===null?(l=bu(),l===null&&(l=ee,o=Uu(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=n),l=o),t.memoizedState={parent:i,cache:l},Gu(t),Kt(t,ve,l)):(e.lanes&n&&(Rs(e,t),ll(t,null,null,n),il()),l=e.memoizedState,o=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Kt(t,ve,i)):(i=o.cache,Kt(t,ve,i),i!==l.cache&&Ns(t,[ve],n,!0))),xe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}function Ct(e){e.flags|=4}function Ja(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Ym())e.flags|=8192;else throw Rn=Ro,Lu}else e.flags&=-16777217}function Tc(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!mh(t))if(Ym())e.flags|=8192;else throw Rn=Ro,Lu}function Xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jd():536870912,e.lanes|=t,_i|=t)}function ki(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xy(e,t,n){var i=t.pendingProps;switch(Du(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(t),null;case 1:return ne(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bt(ve),gi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pn(t)?Ct(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ha())),ne(t),null;case 26:var l=t.type,o=t.memoizedState;return e===null?(Ct(t),o!==null?(ne(t),Tc(t,o)):(ne(t),Ja(t,l,null,i,n))):o?o!==e.memoizedState?(Ct(t),ne(t),Tc(t,o)):(ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ct(t),ne(t),Ja(t,l,e,i,n)),null;case 27:if(Eo(t),n=nn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ct(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return ne(t),null}e=vt.current,Pn(t)?Qr(t):(e=fh(l,i,n),t.stateNode=e,Ct(t))}return ne(t),null;case 5:if(Eo(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ct(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return ne(t),null}if(o=vt.current,Pn(t))Qr(t);else{var a=ko(nn.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?a.createElement(l,{is:i.is}):a.createElement(l)}}o[Ne]=t,o[ze]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(we(o,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ct(t)}}return ne(t),Ja(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ct(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(M(166));if(e=nn.current,Pn(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Me,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[Ne]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||sh(e.nodeValue,n)),e||pn(t,!0)}else e=ko(e).createTextNode(i),e[Ne]=t,t.stateNode=e}return ne(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Pn(t),n!==null){if(e===null){if(!i)throw Error(M(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(557));e[Ne]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ne(t),e=!1}else n=Ha(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Fe(t),t):(Fe(t),null);if(t.flags&128)throw Error(M(558))}return ne(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Pn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(M(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[Ne]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ne(t),l=!1}else l=Ha(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Fe(t),t):(Fe(t),null)}return Fe(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xl(t,t.updateQueue),ne(t),null);case 4:return gi(),e===null&&lr(t.stateNode.containerInfo),ne(t),null;case 10:return bt(t.type),ne(t),null;case 19:if(Ae(pe),i=t.memoizedState,i===null)return ne(t),null;if(l=(t.flags&128)!==0,o=i.rendering,o===null)if(l)ki(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Io(e),o!==null){for(t.flags|=128,ki(i,!1),e=o.updateQueue,t.updateQueue=e,Xl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)_p(n,e),n=n.sibling;return te(pe,pe.current&1|2),J&&Mt(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Je()>qo&&(t.flags|=128,l=!0,ki(i,!1),t.lanes=4194304)}else{if(!l)if(e=Io(o),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Xl(t,e),ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ne(t),null}else 2*Je()-i.renderingStartTime>qo&&n!==536870912&&(t.flags|=128,l=!0,ki(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Je(),e.sibling=null,n=pe.current,te(pe,l?n&1|2:n&1),J&&Mt(t,i.treeForkCount),e):(ne(t),null);case 22:case 23:return Fe(t),qu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ne(t),t.subtreeFlags&6&&(t.flags|=8192)):ne(t),n=t.updateQueue,n!==null&&Xl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Ae(Mn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bt(ve),ne(t),null;case 25:return null;case 30:return null}throw Error(M(156,t.tag))}function Zy(e,t){switch(Du(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bt(ve),gi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Eo(t),null;case 31:if(t.memoizedState!==null){if(Fe(t),t.alternate===null)throw Error(M(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(pe),null;case 4:return gi(),null;case 10:return bt(t.type),null;case 22:case 23:return Fe(t),qu(),e!==null&&Ae(Mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bt(ve),null;case 25:return null;default:return null}}function _m(e,t){switch(Du(t),t.tag){case 3:bt(ve),gi();break;case 26:case 27:case 5:Eo(t);break;case 4:gi();break;case 31:t.memoizedState!==null&&Fe(t);break;case 13:Fe(t);break;case 19:Ae(pe);break;case 10:bt(t.type);break;case 22:case 23:Fe(t),qu(),e!==null&&Ae(Mn);break;case 24:bt(ve)}}function Ll(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var o=n.create,a=n.inst;i=o(),a.destroy=i}n=n.next}while(n!==l)}}catch(r){$(t,t.return,r)}}function mn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,l=t;var c=n,f=r;try{f()}catch(d){$(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){$(t,t.return,d)}}function Cm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Up(t,n)}catch(i){$(e,e.return,i)}}}function Am(e,t,n){n.props=Ln(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){$(e,t,i)}}function al(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){$(e,t,l)}}function yt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){$(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){$(e,t,l)}else n.current=null}function xm(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){$(e,e.return,l)}}function Ka(e,t,n){try{var i=e.stateNode;v0(i,e.type,n,t),i[ze]=t}catch(l){$(e,e.return,l)}}function Nm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yn(e.type)||e.tag===4}function Qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=It));else if(i!==4&&(i===27&&yn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zs(e,t,n),e=e.sibling;e!==null;)zs(e,t,n),e=e.sibling}function Go(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&yn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function Mm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);we(t,i,n),t[Ne]=e,t[ze]=n}catch(o){$(e,e.return,o)}}var Rt=!1,ye=!1,Xa=!1,Sc=typeof WeakSet=="function"?WeakSet:Set,_e=null;function $y(e,t){if(e=e.containerInfo,Js=Jo,e=mp(e),Nu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,r=-1,c=-1,f=0,d=0,m=e,p=null;t:for(;;){for(var h;m!==n||l!==0&&m.nodeType!==3||(r=a+l),m!==o||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++f===l&&(r=a),p===o&&++d===i&&(c=a),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ks={focusedElem:e,selectionRange:n},Jo=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){switch(t=_e,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,l=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var E=Ln(n.type,l);e=i.getSnapshotBeforeUpdate(E,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(_){$(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xs(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xs(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}}function Rm(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:xt(e,n),i&4&&Ll(5,n);break;case 1:if(xt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){$(n,n.return,a)}else{var l=Ln(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){$(n,n.return,a)}}i&64&&Cm(n),i&512&&al(n,n.return);break;case 3:if(xt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Up(e,t)}catch(a){$(n,n.return,a)}}break;case 27:t===null&&i&4&&Mm(n);case 26:case 5:xt(e,n),t===null&&i&4&&xm(n),i&512&&al(n,n.return);break;case 12:xt(e,n);break;case 31:xt(e,n),i&4&&Dm(e,n);break;case 13:xt(e,n),i&4&&Um(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=a0.bind(null,n),N0(e,n))));break;case 22:if(i=n.memoizedState!==null||Rt,!i){t=t!==null&&t.memoizedState!==null||ye,l=Rt;var o=ye;Rt=i,(ye=t)&&!o?Nt(e,n,(n.subtreeFlags&8772)!==0):xt(e,n),Rt=l,ye=o}break;case 30:break;default:xt(e,n)}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Su(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,qe=!1;function At(e,t,n){for(n=n.child;n!==null;)Im(e,t,n),n=n.sibling}function Im(e,t,n){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 26:ye||yt(n,t),At(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ye||yt(n,t);var i=ue,l=qe;yn(n.type)&&(ue=n.stateNode,qe=!1),At(e,t,n),cl(n.stateNode),ue=i,qe=l;break;case 5:ye||yt(n,t);case 6:if(i=ue,l=qe,ue=null,At(e,t,n),ue=i,qe=l,ue!==null)if(qe)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(n.stateNode)}catch(o){$(n,t,o)}else try{ue.removeChild(n.stateNode)}catch(o){$(n,t,o)}break;case 18:ue!==null&&(qe?(e=ue,bc(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ni(e)):bc(ue,n.stateNode));break;case 4:i=ue,l=qe,ue=n.stateNode.containerInfo,qe=!0,At(e,t,n),ue=i,qe=l;break;case 0:case 11:case 14:case 15:mn(2,n,t),ye||mn(4,n,t),At(e,t,n);break;case 1:ye||(yt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Am(n,t,i)),At(e,t,n);break;case 21:At(e,t,n);break;case 22:ye=(i=ye)||n.memoizedState!==null,At(e,t,n),ye=i;break;default:At(e,t,n)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ni(e)}catch(n){$(t,t.return,n)}}}function Um(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ni(e)}catch(n){$(t,t.return,n)}}function Wy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sc),t;default:throw Error(M(435,e.tag))}}function Zl(e,t){var n=Wy(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=s0.bind(null,e,i);i.then(l,l)}})}function Le(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],o=e,a=t,r=a;e:for(;r!==null;){switch(r.tag){case 27:if(yn(r.type)){ue=r.stateNode,qe=!1;break e}break;case 5:ue=r.stateNode,qe=!1;break e;case 3:case 4:ue=r.stateNode.containerInfo,qe=!0;break e}r=r.return}if(ue===null)throw Error(M(160));Im(o,a,l),ue=null,qe=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bm(t,e),t=t.sibling}var dt=null;function bm(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Le(t,e),Ge(e),i&4&&(mn(3,e,e.return),Ll(3,e),mn(5,e,e.return));break;case 1:Le(t,e),Ge(e),i&512&&(ye||n===null||yt(n,n.return)),i&64&&Rt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=dt;if(Le(t,e),Ge(e),i&512&&(ye||n===null||yt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Il]||o[Ne]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),we(o,i,n),o[Ne]=e,Ce(o),i=o;break e;case"link":var a=Bc("link","href",l).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(o=a[r],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break t}}o=l.createElement(i),we(o,i,n),l.head.appendChild(o);break;case"meta":if(a=Bc("meta","content",l).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(o=a[r],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break t}}o=l.createElement(i),we(o,i,n),l.head.appendChild(o);break;default:throw Error(M(468,i))}o[Ne]=e,Ce(o),i=o}e.stateNode=i}else Pc(l,e.type,e.stateNode);else e.stateNode=zc(l,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?Pc(l,e.type,e.stateNode):zc(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ka(e,e.memoizedProps,n.memoizedProps)}break;case 27:Le(t,e),Ge(e),i&512&&(ye||n===null||yt(n,n.return)),n!==null&&i&4&&Ka(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Le(t,e),Ge(e),i&512&&(ye||n===null||yt(n,n.return)),e.flags&32){l=e.stateNode;try{vi(l,"")}catch(E){$(e,e.return,E)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,Ka(e,l,n!==null?n.memoizedProps:l)),i&1024&&(Xa=!0);break;case 6:if(Le(t,e),Ge(e),i&4){if(e.stateNode===null)throw Error(M(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(E){$(e,e.return,E)}}break;case 3:if(mo=null,l=dt,dt=Fo(t.containerInfo),Le(t,e),dt=l,Ge(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(E){$(e,e.return,E)}Xa&&(Xa=!1,Lm(e));break;case 4:i=dt,dt=Fo(e.stateNode.containerInfo),Le(t,e),Ge(e),dt=i;break;case 12:Le(t,e),Ge(e);break;case 31:Le(t,e),Ge(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zl(e,i)));break;case 13:Le(t,e),Ge(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(da=Je()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zl(e,i)));break;case 22:l=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Rt,d=ye;if(Rt=f||l,ye=d||c,Le(t,e),ye=d,Rt=f,Ge(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||c||Rt||ye||An(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(o=c.stateNode,l)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(E){$(c,c.return,E)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(E){$(c,c.return,E)}}}else if(t.tag===18){if(n===null){c=t;try{var h=c.stateNode;l?Lc(h,!0):Lc(c.stateNode,!1)}catch(E){$(c,c.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Zl(e,n))));break;case 19:Le(t,e),Ge(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zl(e,i)));break;case 30:break;case 21:break;default:Le(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Nm(i)){n=i;break}i=i.return}if(n==null)throw Error(M(160));switch(n.tag){case 27:var l=n.stateNode,o=Qa(e);Go(e,o,l);break;case 5:var a=n.stateNode;n.flags&32&&(vi(a,""),n.flags&=-33);var r=Qa(e);Go(e,r,a);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Qa(e);zs(e,f,c);break;default:throw Error(M(161))}}catch(d){$(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rm(e,t.alternate,t),t=t.sibling}function An(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mn(4,t,t.return),An(t);break;case 1:yt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Am(t,t.return,n),An(t);break;case 27:cl(t.stateNode);case 26:case 5:yt(t,t.return),An(t);break;case 22:t.memoizedState===null&&An(t);break;case 30:An(t);break;default:An(t)}e=e.sibling}}function Nt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Nt(l,o,n),Ll(4,o);break;case 1:if(Nt(l,o,n),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){$(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var r=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)Dp(c[l],r)}catch(f){$(i,i.return,f)}}n&&a&64&&Cm(o),al(o,o.return);break;case 27:Mm(o);case 26:case 5:Nt(l,o,n),n&&i===null&&a&4&&xm(o),al(o,o.return);break;case 12:Nt(l,o,n);break;case 31:Nt(l,o,n),n&&a&4&&Dm(l,o);break;case 13:Nt(l,o,n),n&&a&4&&Um(l,o);break;case 22:o.memoizedState===null&&Nt(l,o,n),al(o,o.return);break;case 30:break;default:Nt(l,o,n)}t=t.sibling}}function Wu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ul(n))}function ju(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e))}function ct(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gm(e,t,n,i),t=t.sibling}function Gm(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:ct(e,t,n,i),l&2048&&Ll(9,t);break;case 1:ct(e,t,n,i);break;case 3:ct(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e)));break;case 12:if(l&2048){ct(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,r=o.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){$(t,t.return,c)}}else ct(e,t,n,i);break;case 31:ct(e,t,n,i);break;case 13:ct(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,t.memoizedState!==null?o._visibility&2?ct(e,t,n,i):sl(e,t):o._visibility&2?ct(e,t,n,i):(o._visibility|=2,On(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Wu(a,t);break;case 24:ct(e,t,n,i),l&2048&&ju(t.alternate,t);break;default:ct(e,t,n,i)}}function On(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,a=t,r=n,c=i,f=a.flags;switch(a.tag){case 0:case 11:case 15:On(o,a,r,c,l),Ll(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?On(o,a,r,c,l):sl(o,a):(d._visibility|=2,On(o,a,r,c,l)),l&&f&2048&&Wu(a.alternate,a);break;case 24:On(o,a,r,c,l),l&&f&2048&&ju(a.alternate,a);break;default:On(o,a,r,c,l)}t=t.sibling}}function sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:sl(n,i),l&2048&&Wu(i.alternate,i);break;case 24:sl(n,i),l&2048&&ju(i.alternate,i);break;default:sl(n,i)}t=t.sibling}}var Zi=8192;function kn(e,t,n){if(e.subtreeFlags&Zi)for(e=e.child;e!==null;)qm(e,t,n),e=e.sibling}function qm(e,t,n){switch(e.tag){case 26:kn(e,t,n),e.flags&Zi&&e.memoizedState!==null&&V0(n,dt,e.memoizedState,e.memoizedProps);break;case 5:kn(e,t,n);break;case 3:case 4:var i=dt;dt=Fo(e.stateNode.containerInfo),kn(e,t,n),dt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Zi,Zi=16777216,kn(e,t,n),Zi=i):kn(e,t,n));break;default:kn(e,t,n)}}function Hm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];_e=i,zm(i,e)}Hm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vm(e),e=e.sibling}function Vm(e){switch(e.tag){case 0:case 11:case 15:Fi(e),e.flags&2048&&mn(9,e,e.return);break;case 3:Fi(e);break;case 12:Fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fo(e)):Fi(e);break;default:Fi(e)}}function fo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];_e=i,zm(i,e)}Hm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:mn(8,t,t.return),fo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fo(t));break;default:fo(t)}e=e.sibling}}function zm(e,t){for(;_e!==null;){var n=_e;switch(n.tag){case 0:case 11:case 15:mn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ul(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,_e=i;else e:for(n=e;_e!==null;){i=_e;var l=i.sibling,o=i.return;if(wm(i),i===n){_e=null;break e}if(l!==null){l.return=o,_e=l;break e}_e=o}}}var jy={getCacheForType:function(e){var t=Re(ve),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Re(ve).controller.signal}},e0=typeof WeakMap=="function"?WeakMap:Map,Q=0,ee=null,F=null,Y=0,Z=0,ke=null,jt=!1,Ui=!1,er=!1,zt=0,de=0,hn=0,wn=0,tr=0,Ye=0,_i=0,ul=null,He=null,Bs=!1,da=0,Bm=0,qo=1/0,Ho=null,sn=null,Se=0,un=null,Ci=null,Lt=0,Ps=0,ks=null,Pm=null,rl=0,Fs=null;function Xe(){return Q&2&&Y!==0?Y&-Y:V.T!==null?ir():Zd()}function km(){if(Ye===0)if(!(Y&536870912)||J){var e=kl;kl<<=1,!(kl&3932160)&&(kl=262144),Ye=e}else Ye=536870912;return e=$e.current,e!==null&&(e.flags|=32),Ye}function Ve(e,t,n){(e===ee&&(Z===2||Z===9)||e.cancelPendingCommit!==null)&&(Ai(e,0),en(e,Y,Ye,!1)),wl(e,n),(!(Q&2)||e!==ee)&&(e===ee&&(!(Q&2)&&(wn|=n),de===4&&en(e,Y,Ye,!1)),St(e))}function Fm(e,t,n){if(Q&6)throw Error(M(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Rl(e,t),l=i?i0(e,t):Za(e,t,!0),o=i;do{if(l===0){Ui&&!i&&en(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!t0(n)){l=Za(e,t,!1),o=!1;continue}if(l===2){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var r=e;l=ul;var c=r.current.memoizedState.isDehydrated;if(c&&(Ai(r,a).flags|=256),a=Za(r,a,!1),a!==2){if(er&&!c){r.errorRecoveryDisabledLanes|=o,wn|=o,l=4;break e}o=He,He=l,o!==null&&(He===null?He=o:He.push.apply(He,o))}l=a}if(o=!1,l!==2)continue}}if(l===1){Ai(e,0),en(e,t,0,!0);break}e:{switch(i=e,o=l,o){case 0:case 1:throw Error(M(345));case 4:if((t&4194048)!==t)break;case 6:en(i,t,Ye,!jt);break e;case 2:He=null;break;case 3:case 5:break;default:throw Error(M(329))}if((t&62914560)===t&&(l=da+300-Je(),10<l)){if(en(i,t,Ye,!jt),ta(i,0,!0)!==0)break e;Lt=t,i.timeoutHandle=rh(Ec.bind(null,i,n,He,Ho,Bs,t,Ye,wn,_i,jt,o,"Throttled",-0,0),l);break e}Ec(i,n,He,Ho,Bs,t,Ye,wn,_i,jt,o,null,-0,0)}}break}while(!0);St(e)}function Ec(e,t,n,i,l,o,a,r,c,f,d,m,p,h){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It},qm(t,o,m);var E=(o&62914560)===o?da-Je():(o&4194048)===o?Bm-Je():0;if(E=z0(m,E),E!==null){Lt=o,e.cancelPendingCommit=E(Cc.bind(null,e,t,o,n,i,l,a,r,c,d,m,null,p,h)),en(e,o,a,!f);return}}Cc(e,t,o,n,i,l,a,r,c)}function t0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!Ze(o(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t,n,i){t&=~tr,t&=~wn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var o=31-Qe(l),a=1<<o;i[o]=-1,l&=~a}n!==0&&Kd(e,n,t)}function pa(){return Q&6?!0:(Gl(0),!1)}function nr(){if(F!==null){if(Z===0)var e=F.return;else e=F,Dt=zn=null,Pu(e),ri=null,vl=0,e=F;for(;e!==null;)_m(e.alternate,e),e=e.return;F=null}}function Ai(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,E0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Lt=0,nr(),ee=e,F=n=Ut(e.current,null),Y=t,Z=0,ke=null,jt=!1,Ui=Rl(e,t),er=!1,_i=Ye=tr=wn=hn=de=0,He=ul=null,Bs=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-Qe(i),o=1<<l;t|=e[l],i&=~o}return zt=t,oa(),n}function Om(e,t){B=null,V.H=Sl,t===Di||t===sa?(t=jr(),Z=3):t===Lu?(t=jr(),Z=4):Z=t===Zu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ke=t,F===null&&(de=1,bo(e,it(t,e.current)))}function Ym(){var e=$e.current;return e===null?!0:(Y&4194048)===Y?ot===null:(Y&62914560)===Y||Y&536870912?e===ot:!1}function Jm(){var e=V.H;return V.H=Sl,e===null?Sl:e}function Km(){var e=V.A;return V.A=jy,e}function Vo(){de=4,jt||(Y&4194048)!==Y&&$e.current!==null||(Ui=!0),!(hn&134217727)&&!(wn&134217727)||ee===null||en(ee,Y,Ye,!1)}function Za(e,t,n){var i=Q;Q|=2;var l=Jm(),o=Km();(ee!==e||Y!==t)&&(Ho=null,Ai(e,t)),t=!1;var a=de;e:do try{if(Z!==0&&F!==null){var r=F,c=ke;switch(Z){case 8:nr(),a=6;break e;case 3:case 2:case 9:case 6:$e.current===null&&(t=!0);var f=Z;if(Z=0,ke=null,ii(e,r,c,f),n&&Ui){a=0;break e}break;default:f=Z,Z=0,ke=null,ii(e,r,c,f)}}n0(),a=de;break}catch(d){Om(e,d)}while(!0);return t&&e.shellSuspendCounter++,Dt=zn=null,Q=i,V.H=l,V.A=o,F===null&&(ee=null,Y=0,oa()),a}function n0(){for(;F!==null;)Qm(F)}function i0(e,t){var n=Q;Q|=2;var i=Jm(),l=Km();ee!==e||Y!==t?(Ho=null,qo=Je()+500,Ai(e,t)):Ui=Rl(e,t);e:do try{if(Z!==0&&F!==null){t=F;var o=ke;t:switch(Z){case 1:Z=0,ke=null,ii(e,t,o,1);break;case 2:case 9:if(Wr(o)){Z=0,ke=null,_c(t);break}t=function(){Z!==2&&Z!==9||ee!==e||(Z=7),St(e)},o.then(t,t);break e;case 3:Z=7;break e;case 4:Z=5;break e;case 7:Wr(o)?(Z=0,ke=null,_c(t)):(Z=0,ke=null,ii(e,t,o,7));break;case 5:var a=null;switch(F.tag){case 26:a=F.memoizedState;case 5:case 27:var r=F;if(a?mh(a):r.stateNode.complete){Z=0,ke=null;var c=r.sibling;if(c!==null)F=c;else{var f=r.return;f!==null?(F=f,ma(f)):F=null}break t}}Z=0,ke=null,ii(e,t,o,5);break;case 6:Z=0,ke=null,ii(e,t,o,6);break;case 8:nr(),de=6;break e;default:throw Error(M(462))}}l0();break}catch(d){Om(e,d)}while(!0);return Dt=zn=null,V.H=i,V.A=l,Q=n,F!==null?0:(ee=null,Y=0,oa(),de)}function l0(){for(;F!==null&&!Mg();)Qm(F)}function Qm(e){var t=Em(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?ma(e):F=t}function _c(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hc(n,t,t.pendingProps,t.type,void 0,Y);break;case 11:t=hc(n,t,t.pendingProps,t.type.render,t.ref,Y);break;case 5:Pu(t);default:_m(n,t),t=F=_p(t,zt),t=Em(n,t,zt)}e.memoizedProps=e.pendingProps,t===null?ma(e):F=t}function ii(e,t,n,i){Dt=zn=null,Pu(t),ri=null,vl=0;var l=t.return;try{if(Jy(e,l,t,n,Y)){de=1,bo(e,it(n,e.current)),F=null;return}}catch(o){if(l!==null)throw F=l,o;de=1,bo(e,it(n,e.current)),F=null;return}t.flags&32768?(J||i===1?e=!0:Ui||Y&536870912?e=!1:(jt=e=!0,(i===2||i===9||i===3||i===6)&&(i=$e.current,i!==null&&i.tag===13&&(i.flags|=16384))),Xm(t,e)):ma(t)}function ma(e){var t=e;do{if(t.flags&32768){Xm(t,jt);return}e=t.return;var n=Xy(t.alternate,t,zt);if(n!==null){F=n;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);de===0&&(de=5)}function Xm(e,t){do{var n=Zy(e.alternate,e);if(n!==null){n.flags&=32767,F=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=n}while(e!==null);de=6,F=null}function Cc(e,t,n,i,l,o,a,r,c){e.cancelPendingCommit=null;do ha();while(Se!==0);if(Q&6)throw Error(M(327));if(t!==null){if(t===e.current)throw Error(M(177));if(o=t.lanes|t.childLanes,o|=Mu,Hg(e,n,o,a,r,c),e===ee&&(F=ee=null,Y=0),Ci=t,un=e,Lt=n,Ps=o,ks=l,Pm=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,u0(_o,function(){return eh(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=V.T,V.T=null,l=X.p,X.p=2,a=Q,Q|=4;try{$y(e,t,n)}finally{Q=a,X.p=l,V.T=i}}Se=1,Zm(),$m(),Wm()}}function Zm(){if(Se===1){Se=0;var e=un,t=Ci,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=V.T,V.T=null;var i=X.p;X.p=2;var l=Q;Q|=4;try{bm(t,e);var o=Ks,a=mp(e.containerInfo),r=o.focusedElem,c=o.selectionRange;if(a!==r&&r&&r.ownerDocument&&pp(r.ownerDocument.documentElement,r)){if(c!==null&&Nu(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var m=r.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var h=p.getSelection(),E=r.textContent.length,_=Math.min(c.start,E),w=c.end===void 0?_:Math.min(c.end,E);!h.extend&&_>w&&(a=w,w=_,_=a);var T=Yr(r,_),y=Yr(r,w);if(T&&y&&(h.rangeCount!==1||h.anchorNode!==T.node||h.anchorOffset!==T.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var v=m.createRange();v.setStart(T.node,T.offset),h.removeAllRanges(),_>w?(h.addRange(v),h.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),h.addRange(v))}}}}for(m=[],h=r;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<m.length;r++){var S=m[r];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Jo=!!Js,Ks=Js=null}finally{Q=l,X.p=i,V.T=n}}e.current=t,Se=2}}function $m(){if(Se===2){Se=0;var e=un,t=Ci,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=V.T,V.T=null;var i=X.p;X.p=2;var l=Q;Q|=4;try{Rm(e,t.alternate,t)}finally{Q=l,X.p=i,V.T=n}}Se=3}}function Wm(){if(Se===4||Se===3){Se=0,Rg();var e=un,t=Ci,n=Lt,i=Pm;t.subtreeFlags&10256||t.flags&10256?Se=5:(Se=0,Ci=un=null,jm(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(sn=null),Tu(n),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=V.T,l=X.p,X.p=2,V.T=null;try{for(var o=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];o(r.value,{componentStack:r.stack})}}finally{V.T=t,X.p=l}}Lt&3&&ha(),St(e),l=e.pendingLanes,n&261930&&l&42?e===Fs?rl++:(rl=0,Fs=e):rl=0,Gl(0)}}function jm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ul(t)))}function ha(){return Zm(),$m(),Wm(),eh()}function eh(){if(Se!==5)return!1;var e=un,t=Ps;Ps=0;var n=Tu(Lt),i=V.T,l=X.p;try{X.p=32>n?32:n,V.T=null,n=ks,ks=null;var o=un,a=Lt;if(Se=0,Ci=un=null,Lt=0,Q&6)throw Error(M(331));var r=Q;if(Q|=4,Vm(o.current),Gm(o,o.current,a,n),Q=r,Gl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Ml,o)}catch{}return!0}finally{X.p=l,V.T=i,jm(e,t)}}function Ac(e,t,n){t=it(n,t),t=qs(e.stateNode,t,2),e=an(e,t,2),e!==null&&(wl(e,2),St(e))}function $(e,t,n){if(e.tag===3)Ac(e,e,n);else for(;t!==null;){if(t.tag===3){Ac(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(sn===null||!sn.has(i))){e=it(n,e),n=hm(2),i=an(t,n,2),i!==null&&(gm(n,i,t,e),wl(i,2),St(i));break}}t=t.return}}function $a(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new e0;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(er=!0,l.add(n),e=o0.bind(null,e,t,n),t.then(e,e))}function o0(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ee===e&&(Y&n)===n&&(de===4||de===3&&(Y&62914560)===Y&&300>Je()-da?!(Q&2)&&Ai(e,0):tr|=n,_i===Y&&(_i=0)),St(e)}function th(e,t){t===0&&(t=Jd()),e=Vn(e,t),e!==null&&(wl(e,t),St(e))}function a0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),th(e,n)}function s0(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(t),th(e,n)}function u0(e,t){return yu(e,t)}var zo=null,Yn=null,Os=!1,Bo=!1,Wa=!1,tn=0;function St(e){e!==Yn&&e.next===null&&(Yn===null?zo=Yn=e:Yn=Yn.next=e),Bo=!0,Os||(Os=!0,c0())}function Gl(e,t){if(!Wa&&Bo){Wa=!0;do for(var n=!1,i=zo;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var a=i.suspendedLanes,r=i.pingedLanes;o=(1<<31-Qe(42|e)+1)-1,o&=l&~(a&~r),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,xc(i,o))}else o=Y,o=ta(i,i===ee?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Rl(i,o)||(n=!0,xc(i,o));i=i.next}while(n);Wa=!1}}function r0(){nh()}function nh(){Bo=Os=!1;var e=0;tn!==0&&S0()&&(e=tn);for(var t=Je(),n=null,i=zo;i!==null;){var l=i.next,o=ih(i,t);o===0?(i.next=null,n===null?zo=l:n.next=l,l===null&&(Yn=n)):(n=i,(e!==0||o&3)&&(Bo=!0)),i=l}Se!==0&&Se!==5||Gl(e),tn!==0&&(tn=0)}function ih(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var a=31-Qe(o),r=1<<a,c=l[a];c===-1?(!(r&n)||r&i)&&(l[a]=qg(r,t)):c<=t&&(e.expiredLanes|=r),o&=~r}if(t=ee,n=Y,n=ta(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Z===2||Z===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Na(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Rl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Na(i),Tu(n)){case 2:case 8:n=Od;break;case 32:n=_o;break;case 268435456:n=Yd;break;default:n=_o}return i=lh.bind(null,e),n=yu(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Na(i),e.callbackPriority=2,e.callbackNode=null,2}function lh(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ha()&&e.callbackNode!==n)return null;var i=Y;return i=ta(e,e===ee?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Fm(e,i,t),ih(e,Je()),e.callbackNode!=null&&e.callbackNode===n?lh.bind(null,e):null)}function xc(e,t){if(ha())return null;Fm(e,t,!0)}function c0(){_0(function(){Q&6?yu(Fd,r0):nh()})}function ir(){if(tn===0){var e=Ti;e===0&&(e=Pl,Pl<<=1,!(Pl&261888)&&(Pl=256)),tn=e}return tn}function Nc(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:no(""+e)}function Mc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function f0(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var o=Nc((l[ze]||null).action),a=i.submitter;a&&(t=(t=a[ze]||null)?Nc(t.formAction):a.getAttribute("formAction"),t!==null&&(o=t,a=null));var r=new na("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(tn!==0){var c=a?Mc(l,a):new FormData(l);Ls(n,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(r.preventDefault(),c=a?Mc(l,a):new FormData(l),Ls(n,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var ja=0;ja<_s.length;ja++){var es=_s[ja],d0=es.toLowerCase(),p0=es[0].toUpperCase()+es.slice(1);pt(d0,"on"+p0)}pt(gp,"onAnimationEnd");pt(yp,"onAnimationIteration");pt(vp,"onAnimationStart");pt("dblclick","onDoubleClick");pt("focusin","onFocus");pt("focusout","onBlur");pt(wy,"onTransitionRun");pt(Iy,"onTransitionStart");pt(Dy,"onTransitionCancel");pt(Tp,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==o&&l.isPropagationStopped())break e;o=r,l.currentTarget=f;try{o(l)}catch(d){Ao(d)}l.currentTarget=null,o=c}else for(a=0;a<i.length;a++){if(r=i[a],c=r.instance,f=r.currentTarget,r=r.listener,c!==o&&l.isPropagationStopped())break e;o=r,l.currentTarget=f;try{o(l)}catch(d){Ao(d)}l.currentTarget=null,o=c}}}}function k(e,t){var n=t[ms];n===void 0&&(n=t[ms]=new Set);var i=e+"__bubble";n.has(i)||(ah(t,e,2,!1),n.add(i))}function ts(e,t,n){var i=0;t&&(i|=4),ah(n,e,i,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function lr(e){if(!e[$l]){e[$l]=!0,$d.forEach(function(n){n!=="selectionchange"&&(m0.has(n)||ts(n,!1,e),ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,ts("selectionchange",!1,t))}}function ah(e,t,n,i){switch(Th(t)){case 2:var l=k0;break;case 8:l=F0;break;default:l=ur}n=l.bind(null,t,n,e),l=void 0,!Ts||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ns(e,t,n,i,l){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===l)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===l)return;a=a.return}for(;r!==null;){if(a=Qn(r),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=o=a;continue e}r=r.parentNode}}i=i.return}op(function(){var f=o,d=_u(n),m=[];e:{var p=Sp.get(e);if(p!==void 0){var h=na,E=e;switch(e){case"keypress":if(lo(n)===0)break e;case"keydown":case"keyup":h=sy;break;case"focusin":E="focus",h=Da;break;case"focusout":E="blur",h=Da;break;case"beforeblur":case"afterblur":h=Da;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cy;break;case gp:case yp:case vp:h=Wg;break;case Tp:h=dy;break;case"scroll":case"scrollend":h=Kg;break;case"wheel":h=my;break;case"copy":case"cut":case"paste":h=ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Hr;break;case"toggle":case"beforetoggle":h=gy}var _=(t&4)!==0,w=!_&&(e==="scroll"||e==="scrollend"),T=_?p!==null?p+"Capture":null:p;_=[];for(var y=f,v;y!==null;){var S=y;if(v=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||v===null||T===null||(S=pl(y,T),S!=null&&_.push(_l(y,S,v))),w)break;y=y.return}0<_.length&&(p=new h(p,E,null,n,d),m.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==vs&&(E=n.relatedTarget||n.fromElement)&&(Qn(E)||E[Ri]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=f,E=E?Qn(E):null,E!==null&&(w=Nl(E),_=E.tag,E!==w||_!==5&&_!==27&&_!==6)&&(E=null)):(h=null,E=f),h!==E)){if(_=Gr,S="onMouseLeave",T="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(_=Hr,S="onPointerLeave",T="onPointerEnter",y="pointer"),w=h==null?p:Qi(h),v=E==null?p:Qi(E),p=new _(S,y+"leave",h,n,d),p.target=w,p.relatedTarget=v,S=null,Qn(d)===f&&(_=new _(T,y+"enter",E,n,d),_.target=v,_.relatedTarget=w,S=_),w=S,h&&E)t:{for(_=h0,T=h,y=E,v=0,S=T;S;S=_(S))v++;S=0;for(var N=y;N;N=_(N))S++;for(;0<v-S;)T=_(T),v--;for(;0<S-v;)y=_(y),S--;for(;v--;){if(T===y||y!==null&&T===y.alternate){_=T;break t}T=_(T),y=_(y)}_=null}else _=null;h!==null&&Rc(m,p,h,_,!1),E!==null&&w!==null&&Rc(m,w,E,_,!0)}}e:{if(p=f?Qi(f):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var I=Pr;else if(Br(p))if(fp)I=Ny;else{I=Ay;var C=Cy}else h=p.nodeName,!h||h.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&Eu(f.elementType)&&(I=Pr):I=xy;if(I&&(I=I(e,f))){cp(m,I,n,d);break e}C&&C(e,p,f),e==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&ys(p,"number",p.value)}switch(C=f?Qi(f):window,e){case"focusin":(Br(C)||C.contentEditable==="true")&&($n=C,Ss=f,el=null);break;case"focusout":el=Ss=$n=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Jr(m,n,d);break;case"selectionchange":if(Ry)break;case"keydown":case"keyup":Jr(m,n,d)}var b;if(xu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Zn?up(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(sp&&n.locale!=="ko"&&(Zn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Zn&&(b=ap()):(Wt=d,Cu="value"in Wt?Wt.value:Wt.textContent,Zn=!0)),C=Po(f,R),0<C.length&&(R=new qr(R,e,null,n,d),m.push({event:R,listeners:C}),b?R.data=b:(b=rp(n),b!==null&&(R.data=b)))),(b=vy?Ty(e,n):Sy(e,n))&&(R=Po(f,"onBeforeInput"),0<R.length&&(C=new qr("onBeforeInput","beforeinput",null,n,d),m.push({event:C,listeners:R}),C.data=b)),f0(m,e,f,n,d)}oh(m,t)})}function _l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Po(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=pl(e,n),l!=null&&i.unshift(_l(e,l,o)),l=pl(e,t),l!=null&&i.push(_l(e,l,o))),e.tag===3)return i;e=e.return}return[]}function h0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rc(e,t,n,i,l){for(var o=t._reactName,a=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,l?(f=pl(n,o),f!=null&&a.unshift(_l(n,f,c))):l||(f=pl(n,o),f!=null&&a.push(_l(n,f,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var g0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(g0,`
`).replace(y0,"")}function sh(e,t){return t=wc(t),wc(e)===t}function W(e,t,n,i,l,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||vi(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&vi(e,""+i);break;case"className":Ol(e,"class",i);break;case"tabIndex":Ol(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(e,n,i);break;case"style":lp(e,i,o);break;case"data":if(t!=="object"){Ol(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=no(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&W(e,t,"name",l.name,l,null),W(e,t,"formEncType",l.formEncType,l,null),W(e,t,"formMethod",l.formMethod,l,null),W(e,t,"formTarget",l.formTarget,l,null)):(W(e,t,"encType",l.encType,l,null),W(e,t,"method",l.method,l,null),W(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=no(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=It);break;case"onScroll":i!=null&&k("scroll",e);break;case"onScrollEnd":i!=null&&k("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=no(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":k("beforetoggle",e),k("toggle",e),to(e,"popover",i);break;case"xlinkActuate":_t(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":_t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":_t(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":_t(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":_t(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":_t(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":_t(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":_t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":_t(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":to(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Yg.get(n)||n,to(e,n,i))}}function Ys(e,t,n,i,l,o){switch(n){case"style":lp(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"children":typeof i=="string"?vi(e,i):(typeof i=="number"||typeof i=="bigint")&&vi(e,""+i);break;case"onScroll":i!=null&&k("scroll",e);break;case"onScrollEnd":i!=null&&k("scrollend",e);break;case"onClick":i!=null&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),o=e[ze]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):to(e,n,i)}}}function we(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":k("error",e),k("load",e);var i=!1,l=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:W(e,t,o,a,n,null)}}l&&W(e,t,"srcSet",n.srcSet,n,null),i&&W(e,t,"src",n.src,n,null);return;case"input":k("invalid",e);var r=o=a=l=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":l=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(M(137,t));break;default:W(e,t,i,d,n,null)}}tp(e,o,r,c,f,a,l,!1);return;case"select":k("invalid",e),i=a=o=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":o=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:W(e,t,l,r,n,null)}t=o,n=a,e.multiple=!!i,t!=null?ai(e,!!i,t,!1):n!=null&&ai(e,!!i,n,!0);return;case"textarea":k("invalid",e),o=l=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":l=r;break;case"children":o=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(M(91));break;default:W(e,t,a,r,n,null)}ip(e,i,l,o);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:W(e,t,c,i,n,null)}return;case"dialog":k("beforetoggle",e),k("toggle",e),k("cancel",e),k("close",e);break;case"iframe":case"object":k("load",e);break;case"video":case"audio":for(i=0;i<El.length;i++)k(El[i],e);break;case"image":k("error",e),k("load",e);break;case"details":k("toggle",e);break;case"embed":case"source":case"link":k("error",e),k("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:W(e,t,f,i,n,null)}return;default:if(Eu(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Ys(e,t,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&W(e,t,r,i,n,null))}function v0(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,a=null,r=null,c=null,f=null,d=null;for(h in n){var m=n[h];if(n.hasOwnProperty(h)&&m!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(h)||W(e,t,h,null,i,m)}}for(var p in i){var h=i[p];if(m=n[p],i.hasOwnProperty(p)&&(h!=null||m!=null))switch(p){case"type":o=h;break;case"name":l=h;break;case"checked":f=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,t));break;default:h!==m&&W(e,t,p,h,i,m)}}gs(e,a,r,c,f,d,o,l);return;case"select":h=a=r=p=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":h=c;default:i.hasOwnProperty(o)||W(e,t,o,null,i,c)}for(l in i)if(o=i[l],c=n[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":p=o;break;case"defaultValue":r=o;break;case"multiple":a=o;default:o!==c&&W(e,t,l,o,i,c)}t=r,n=a,i=h,p!=null?ai(e,!!n,p,!1):!!i!=!!n&&(t!=null?ai(e,!!n,t,!0):ai(e,!!n,n?[]:"",!1));return;case"textarea":h=p=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:W(e,t,r,null,i,l)}for(a in i)if(l=i[a],o=n[a],i.hasOwnProperty(a)&&(l!=null||o!=null))switch(a){case"value":p=l;break;case"defaultValue":h=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(M(91));break;default:l!==o&&W(e,t,a,l,i,o)}np(e,p,h);return;case"option":for(var E in n)if(p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E))switch(E){case"selected":e.selected=!1;break;default:W(e,t,E,null,i,p)}for(c in i)if(p=i[c],h=n[c],i.hasOwnProperty(c)&&p!==h&&(p!=null||h!=null))switch(c){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:W(e,t,c,p,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!=null&&!i.hasOwnProperty(_)&&W(e,t,_,null,i,p);for(f in i)if(p=i[f],h=n[f],i.hasOwnProperty(f)&&p!==h&&(p!=null||h!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(M(137,t));break;default:W(e,t,f,p,i,h)}return;default:if(Eu(t)){for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!==void 0&&!i.hasOwnProperty(w)&&Ys(e,t,w,void 0,i,p);for(d in i)p=i[d],h=n[d],!i.hasOwnProperty(d)||p===h||p===void 0&&h===void 0||Ys(e,t,d,p,i,h);return}}for(var T in n)p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T)&&W(e,t,T,null,i,p);for(m in i)p=i[m],h=n[m],!i.hasOwnProperty(m)||p===h||p==null&&h==null||W(e,t,m,p,i,h)}function Ic(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],o=l.transferSize,a=l.initiatorType,r=l.duration;if(o&&r&&Ic(a)){for(a=0,r=l.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>r)break;var d=c.transferSize,m=c.initiatorType;d&&Ic(m)&&(c=c.responseEnd,a+=d*(c<r?1:(r-f)/(c-f)))}if(--i,t+=8*(o+a)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Js=null,Ks=null;function ko(e){return e.nodeType===9?e:e.ownerDocument}function Dc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var is=null;function S0(){var e=window.event;return e&&e.type==="popstate"?e===is?!1:(is=e,!0):(is=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(e){return Uc.resolve(null).then(e).catch(C0)}:rh;function C0(e){setTimeout(function(){throw e})}function yn(e){return e==="head"}function bc(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),Ni(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")cl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,cl(n);for(var o=n.firstChild;o;){var a=o.nextSibling,r=o.nodeName;o[Il]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&cl(e.ownerDocument.body);n=l}while(n);Ni(t)}function Lc(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Xs(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xs(n),Su(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function A0(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=at(e.nextSibling),e===null)break}return null}function x0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=at(e.nextSibling),e===null))return null;return e}function ch(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=at(e.nextSibling),e===null))return null;return e}function Zs(e){return e.data==="$?"||e.data==="$~"}function $s(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function N0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function at(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ws=null;function Gc(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return at(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function fh(e,t,n){switch(t=ko(n),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Su(e)}var ut=new Map,Hc=new Set;function Fo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pt=X.d;X.d={f:M0,r:R0,D:w0,C:I0,L:D0,m:U0,X:L0,S:b0,M:G0};function M0(){var e=Pt.f(),t=pa();return e||t}function R0(e){var t=wi(e);t!==null&&t.tag===5&&t.type==="form"?lm(t):Pt.r(e)}var bi=typeof document>"u"?null:document;function dh(e,t,n){var i=bi;if(i&&typeof t=="string"&&t){var l=nt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Hc.has(l)||(Hc.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),we(t,"link",e),Ce(t),i.head.appendChild(t)))}}function w0(e){Pt.D(e),dh("dns-prefetch",e,null)}function I0(e,t){Pt.C(e,t),dh("preconnect",e,t)}function D0(e,t,n){Pt.L(e,t,n);var i=bi;if(i&&e&&t){var l='link[rel="preload"][as="'+nt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+nt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+nt(n.imageSizes)+'"]')):l+='[href="'+nt(e)+'"]';var o=l;switch(t){case"style":o=xi(e);break;case"script":o=Li(e)}ut.has(o)||(e=ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ut.set(o,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(ql(o))||t==="script"&&i.querySelector(Hl(o))||(t=i.createElement("link"),we(t,"link",e),Ce(t),i.head.appendChild(t)))}}function U0(e,t){Pt.m(e,t);var n=bi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+nt(i)+'"][href="'+nt(e)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Li(e)}if(!ut.has(o)&&(e=ae({rel:"modulepreload",href:e},t),ut.set(o,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Hl(o)))return}i=n.createElement("link"),we(i,"link",e),Ce(i),n.head.appendChild(i)}}}function b0(e,t,n){Pt.S(e,t,n);var i=bi;if(i&&e){var l=oi(i).hoistableStyles,o=xi(e);t=t||"default";var a=l.get(o);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(ql(o)))r.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ut.get(o))&&or(e,n);var c=a=i.createElement("link");Ce(c),we(c,"link",e),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,po(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},l.set(o,a)}}}function L0(e,t){Pt.X(e,t);var n=bi;if(n&&e){var i=oi(n).hoistableScripts,l=Li(e),o=i.get(l);o||(o=n.querySelector(Hl(l)),o||(e=ae({src:e,async:!0},t),(t=ut.get(l))&&ar(e,t),o=n.createElement("script"),Ce(o),we(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function G0(e,t){Pt.M(e,t);var n=bi;if(n&&e){var i=oi(n).hoistableScripts,l=Li(e),o=i.get(l);o||(o=n.querySelector(Hl(l)),o||(e=ae({src:e,async:!0,type:"module"},t),(t=ut.get(l))&&ar(e,t),o=n.createElement("script"),Ce(o),we(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Vc(e,t,n,i){var l=(l=nn.current)?Fo(l):null;if(!l)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xi(n.href),n=oi(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xi(n.href);var o=oi(l).hoistableStyles,a=o.get(e);if(a||(l=l.ownerDocument||l,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=l.querySelector(ql(e)))&&!o._p&&(a.instance=o,a.state.loading=5),ut.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ut.set(e,n),o||q0(l,e,n,a.state))),t&&i===null)throw Error(M(528,""));return a}if(t&&i!==null)throw Error(M(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Li(n),n=oi(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function xi(e){return'href="'+nt(e)+'"'}function ql(e){return'link[rel="stylesheet"]['+e+"]"}function ph(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function q0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),we(t,"link",n),Ce(t),e.head.appendChild(t))}function Li(e){return'[src="'+nt(e)+'"]'}function Hl(e){return"script[async]"+e}function zc(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+nt(n.href)+'"]');if(i)return t.instance=i,Ce(i),i;var l=ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ce(i),we(i,"style",l),po(i,n.precedence,e),t.instance=i;case"stylesheet":l=xi(n.href);var o=e.querySelector(ql(l));if(o)return t.state.loading|=4,t.instance=o,Ce(o),o;i=ph(n),(l=ut.get(l))&&or(i,l),o=(e.ownerDocument||e).createElement("link"),Ce(o);var a=o;return a._p=new Promise(function(r,c){a.onload=r,a.onerror=c}),we(o,"link",i),t.state.loading|=4,po(o,n.precedence,e),t.instance=o;case"script":return o=Li(n.src),(l=e.querySelector(Hl(o)))?(t.instance=l,Ce(l),l):(i=n,(l=ut.get(o))&&(i=ae({},n),ar(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),Ce(l),we(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,po(i,n.precedence,e));return t.instance}function po(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)o=r;else if(o!==l)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function or(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ar(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mo=null;function Bc(e,t,n){if(mo===null){var i=new Map,l=mo=new Map;l.set(n,i)}else l=mo,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var o=n[l];if(!(o[Il]||o[Ne]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(o):i.set(a,[o])}}return i}function Pc(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function H0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mh(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function V0(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=xi(i.href),o=t.querySelector(ql(l));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Oo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Ce(o);return}o=t.ownerDocument||t,i=ph(i),(l=ut.get(l))&&or(i,l),o=o.createElement("link"),Ce(o);var a=o;a._p=new Promise(function(r,c){a.onload=r,a.onerror=c}),we(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Oo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ls=0;function z0(e,t){return e.stylesheets&&e.count===0&&ho(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&ho(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&ls===0&&(ls=62500*T0());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ho(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>ls?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function Oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ho(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yo=null;function ho(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yo=new Map,t.forEach(B0,e),Yo=null,Oo.call(e))}function B0(e,t){if(!(t.state.loading&4)){var n=Yo.get(e);if(n)var i=n.get(null);else{n=new Map,Yo.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var a=l[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}l=t.instance,a=l.getAttribute("data-precedence"),o=n.get(a)||i,o===i&&n.set(null,l),n.set(a,l),this.count++,i=Oo.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Cl={$$typeof:wt,Provider:null,Consumer:null,_currentValue:xn,_currentValue2:xn,_threadCount:0};function P0(e,t,n,i,l,o,a,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function hh(e,t,n,i,l,o,a,r,c,f,d,m){return e=new P0(e,t,n,a,c,f,d,m,r),t=1,o===!0&&(t|=24),o=Oe(3,null,null,t),e.current=o,o.stateNode=e,t=Uu(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Gu(o),e}function gh(e){return e?(e=ei,e):ei}function yh(e,t,n,i,l,o){l=gh(l),i.context===null?i.context=l:i.pendingContext=l,i=on(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=an(e,i,t),n!==null&&(Ve(n,e,t),nl(n,e,t))}function kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sr(e,t){kc(e,t),(e=e.alternate)&&kc(e,t)}function vh(e){if(e.tag===13||e.tag===31){var t=Vn(e,67108864);t!==null&&Ve(t,e,67108864),sr(e,67108864)}}function Fc(e){if(e.tag===13||e.tag===31){var t=Xe();t=vu(t);var n=Vn(e,t);n!==null&&Ve(n,e,t),sr(e,t)}}var Jo=!0;function k0(e,t,n,i){var l=V.T;V.T=null;var o=X.p;try{X.p=2,ur(e,t,n,i)}finally{X.p=o,V.T=l}}function F0(e,t,n,i){var l=V.T;V.T=null;var o=X.p;try{X.p=8,ur(e,t,n,i)}finally{X.p=o,V.T=l}}function ur(e,t,n,i){if(Jo){var l=js(i);if(l===null)ns(e,t,i,Ko,n),Oc(e,i);else if(Y0(l,e,t,n,i))i.stopPropagation();else if(Oc(e,i),t&4&&-1<O0.indexOf(e)){for(;l!==null;){var o=wi(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=_n(o.pendingLanes);if(a!==0){var r=o;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var c=1<<31-Qe(a);r.entanglements[1]|=c,a&=~c}St(o),!(Q&6)&&(qo=Je()+500,Gl(0))}}break;case 31:case 13:r=Vn(o,2),r!==null&&Ve(r,o,2),pa(),sr(o,2)}if(o=js(i),o===null&&ns(e,t,i,Ko,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else ns(e,t,i,null,n)}}function js(e){return e=_u(e),rr(e)}var Ko=null;function rr(e){if(Ko=null,e=Qn(e),e!==null){var t=Nl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Vd(t),e!==null)return e;e=null}else if(n===31){if(e=zd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ko=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wg()){case Fd:return 2;case Od:return 8;case _o:case Ig:return 32;case Yd:return 268435456;default:return 32}default:return 32}}var eu=!1,rn=null,cn=null,fn=null,Al=new Map,xl=new Map,Zt=[],O0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(t.pointerId)}}function Oi(e,t,n,i,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},t!==null&&(t=wi(t),t!==null&&vh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Y0(e,t,n,i,l){switch(t){case"focusin":return rn=Oi(rn,e,t,n,i,l),!0;case"dragenter":return cn=Oi(cn,e,t,n,i,l),!0;case"mouseover":return fn=Oi(fn,e,t,n,i,l),!0;case"pointerover":var o=l.pointerId;return Al.set(o,Oi(Al.get(o)||null,e,t,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,xl.set(o,Oi(xl.get(o)||null,e,t,n,i,l)),!0}return!1}function Sh(e){var t=Qn(e.target);if(t!==null){var n=Nl(t);if(n!==null){if(t=n.tag,t===13){if(t=Vd(n),t!==null){e.blockedOn=t,Rr(e.priority,function(){Fc(n)});return}}else if(t===31){if(t=zd(n),t!==null){e.blockedOn=t,Rr(e.priority,function(){Fc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function go(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=js(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);vs=i,n.target.dispatchEvent(i),vs=null}else return t=wi(n),t!==null&&vh(t),e.blockedOn=n,!1;t.shift()}return!0}function Yc(e,t,n){go(e)&&n.delete(t)}function J0(){eu=!1,rn!==null&&go(rn)&&(rn=null),cn!==null&&go(cn)&&(cn=null),fn!==null&&go(fn)&&(fn=null),Al.forEach(Yc),xl.forEach(Yc)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,J0)))}var jl=null;function Jc(e){jl!==e&&(jl=e,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(rr(i||n)===null)continue;break}var o=wi(n);o!==null&&(e.splice(t,3),t-=3,Ls(o,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function Ni(e){function t(c){return Wl(c,e)}rn!==null&&Wl(rn,e),cn!==null&&Wl(cn,e),fn!==null&&Wl(fn,e),Al.forEach(t),xl.forEach(t);for(var n=0;n<Zt.length;n++){var i=Zt[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Sh(n),n.blockedOn===null&&Zt.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],o=n[i+1],a=l[ze]||null;if(typeof o=="function")a||Jc(n);else if(a){var r=null;if(o&&o.hasAttribute("formAction")){if(l=o,a=o[ze]||null)r=a.formAction;else if(rr(l)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Jc(n)}}}function Eh(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return l=a})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function cr(e){this._internalRoot=e}ga.prototype.render=cr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var n=t.current,i=Xe();yh(n,i,e,t,null,null)};ga.prototype.unmount=cr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yh(e.current,2,null,e,null,null),pa(),t[Ri]=null}};function ga(e){this._internalRoot=e}ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Sh(e)}};var Kc=qd.version;if(Kc!=="19.2.0")throw Error(M(527,Kc,"19.2.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=_g(t),e=e!==null?Bd(e):null,e=e===null?null:e.stateNode,e};var K0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Ml=eo.inject(K0),Ke=eo}catch{}}jo.createRoot=function(e,t){if(!Hd(e))throw Error(M(299));var n=!1,i="",l=dm,o=pm,a=mm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hh(e,1,!1,null,null,n,i,null,l,o,a,Eh),e[Ri]=t.current,lr(e),new cr(t)};jo.hydrateRoot=function(e,t,n){if(!Hd(e))throw Error(M(299));var i=!1,l="",o=dm,a=pm,r=mm,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=hh(e,1,!0,t,n??null,i,l,c,o,a,r,Eh),t.context=gh(null),n=t.current,i=Xe(),i=vu(i),l=on(i),l.callback=null,an(n,l,i),n=i,t.current.lanes=n,wl(t,n),St(t),e[Ri]=t.current,lr(e),new ga(t)};jo.version="19.2.0";function _h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_h)}catch(e){console.error(e)}}_h(),Id.exports=jo;var Q0=Id.exports;const X0=Sd(Q0);var Pe=(e=>(e.IDLE="IDLE",e.LOADING="LOADING",e.PARTIAL_SUCCESS="PARTIAL_SUCCESS",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e))(Pe||{}),ft=(e=>(e.TRANSLATE="TRANSLATE",e.VOCABULARY="VOCABULARY",e.QUIZ="QUIZ",e))(ft||{});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Z0,$0;function W0(){return{geminiUrl:Z0,vertexUrl:$0}}function j0(e,t,n,i){var l,o;if(!(e!=null&&e.baseUrl)){const a=W0();return t?(l=a.vertexUrl)!==null&&l!==void 0?l:n:(o=a.geminiUrl)!==null&&o!==void 0?o:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kt{}function L(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(t,l)){const o=t[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function u(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const r=a.slice(0,-2);if(!(r in e))if(Array.isArray(n))e[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[r])){const c=e[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];u(d,t.slice(o+1),n[f])}else for(const f of c)u(f,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const r=a.slice(0,-3);r in e||(e[r]=[{}]);const c=e[r];u(c[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const i=t[t.length-1],l=e[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const l=t[i];if(l.endsWith("[]")){const o=l.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(r=>s(r,t.slice(i+1),n)):n}else return n}else e=e[l]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function ev(e,t){for(const[n,i]of Object.entries(t)){const l=n.split("."),o=i.split("."),a=new Set;let r=-1;for(let c=0;c<l.length;c++)if(l[c]==="*"){r=c;break}if(r!==-1&&o.length>r)for(let c=r;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}tu(e,l,o,0,a)}}function tu(e,t,n,i,l){if(i>=t.length||typeof e!="object"||e===null)return;const o=t[i];if(o.endsWith("[]")){const a=o.slice(0,-2),r=e;if(a in r&&Array.isArray(r[a]))for(const c of r[a])tu(c,t,n,i+1,l)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,r=Object.keys(a).filter(f=>!f.startsWith("_")&&!l.has(f)),c={};for(const f of r)c[f]=a[f];for(const[f,d]of Object.entries(c)){const m=[];for(const p of n.slice(i))p==="*"?m.push(f):m.push(p);u(a,m,d)}for(const f of r)delete a[f]}}else{const a=e;o in a&&tu(a[o],t,n,i+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fr(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tv(e){const t={},n=s(e,["operationName"]);n!=null&&u(t,["operationName"],n);const i=s(e,["resourceName"]);return i!=null&&u(t,["_url","resourceName"],i),t}function nv(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response","generateVideoResponse"]);return a!=null&&u(t,["response"],lv(a)),t}function iv(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response"]);return a!=null&&u(t,["response"],ov(a)),t}function lv(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>av(a))),u(t,["generatedVideos"],o)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&u(t,["raiMediaFilteredReasons"],l),t}function ov(e){const t={},n=s(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>sv(a))),u(t,["generatedVideos"],o)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&u(t,["raiMediaFilteredReasons"],l),t}function av(e){const t={},n=s(e,["video"]);return n!=null&&u(t,["video"],pv(n)),t}function sv(e){const t={},n=s(e,["_self"]);return n!=null&&u(t,["video"],mv(n)),t}function uv(e){const t={},n=s(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function rv(e){const t={},n=s(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function cv(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response"]);return a!=null&&u(t,["response"],fv(a)),t}function fv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&u(t,["parent"],i);const l=s(e,["documentName"]);return l!=null&&u(t,["documentName"],l),t}function Ch(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response"]);return a!=null&&u(t,["response"],dv(a)),t}function dv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&u(t,["parent"],i);const l=s(e,["documentName"]);return l!=null&&u(t,["documentName"],l),t}function pv(e){const t={},n=s(e,["uri"]);n!=null&&u(t,["uri"],n);const i=s(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],fr(i));const l=s(e,["encoding"]);return l!=null&&u(t,["mimeType"],l),t}function mv(e){const t={},n=s(e,["gcsUri"]);n!=null&&u(t,["uri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],fr(i));const l=s(e,["mimeType"]);return l!=null&&u(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qc;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qc||(Qc={}));var Xc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Xc||(Xc={}));var Zc;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Zc||(Zc={}));var fe;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(fe||(fe={}));var $c;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})($c||($c={}));var Wc;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wc||(Wc={}));var jc;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(jc||(jc={}));var ef;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ef||(ef={}));var tf;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tf||(tf={}));var nf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(nf||(nf={}));var lf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(lf||(lf={}));var of;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(of||(of={}));var af;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(af||(af={}));var sf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(sf||(sf={}));var uf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(uf||(uf={}));var rf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rf||(rf={}));var cf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cf||(cf={}));var ff;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ff||(ff={}));var df;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(df||(df={}));var Qo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Qo||(Qo={}));var pf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pf||(pf={}));var mf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mf||(mf={}));var hf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hf||(hf={}));var nu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(nu||(nu={}));var gf;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(gf||(gf={}));var yf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yf||(yf={}));var vf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(vf||(vf={}));var Tf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Tf||(Tf={}));var Sf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Sf||(Sf={}));var Ef;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ef||(Ef={}));var _f;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(_f||(_f={}));var Cf;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Cf||(Cf={}));var Af;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Af||(Af={}));var xf;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(xf||(xf={}));var Nf;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Nf||(Nf={}));var Mf;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mf||(Mf={}));var Rf;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rf||(Rf={}));var wf;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wf||(wf={}));var If;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(If||(If={}));var Df;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Df||(Df={}));var Uf;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Uf||(Uf={}));var bf;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(bf||(bf={}));var Lf;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lf||(Lf={}));var Gf;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Gf||(Gf={}));var qf;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(qf||(qf={}));var Hf;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Hf||(Hf={}));var Vf;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vf||(Vf={}));var zf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(zf||(zf={}));var Bf;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bf||(Bf={}));var Pf;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Pf||(Pf={}));var kf;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(kf||(kf={}));var Ff;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ff||(Ff={}));var Of;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Of||(Of={}));var Yf;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Yf||(Yf={}));var li;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(li||(li={}));class iu{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Yi{get text(){var t,n,i,l,o,a,r,c;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const p of(c=(r=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var t,n,i,l,o,a,r,c;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(r=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,l,o,a,r,c;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(r=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,i,l,o,a,r,c,f;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(r=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,l,o,a,r,c,f;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(r=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Jf{}class Kf{}class hv{}class gv{}class yv{}class vv{}class Qf{}class Xf{}class Zf{}class Tv{}class Xo{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Xo;let l;const o=t;return n?l=iv(o):l=nv(o),Object.assign(i,l),i}}class $f{}class Wf{}class jf{}class Sv{}class Ev{}class _v{}class dr{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new dr,o=cv(t);return Object.assign(i,o),i}}class Cv{}class Av{}class xv{}class ed{}class Nv{get text(){var t,n,i;let l="",o=!1;const a=[];for(const r of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;o=!0,l+=r.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var t,n,i;let l="";const o=[];for(const a of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,c]of Object.entries(a))r!=="inlineData"&&c!==null&&o.push(r);a.inlineData&&typeof a.inlineData.data=="string"&&(l+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class Mv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pr{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new pr,o=Ch(t);return Object.assign(i,o),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ah(e,t){const n=K(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function xh(e){return Array.isArray(e)?e.map(t=>Zo(t)):[Zo(e)]}function Zo(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Nh(e){const t=Zo(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Mh(e){const t=Zo(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function td(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Rh(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>td(t)):[td(e)]}function lu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function nd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function id(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ie(e){if(e==null)throw new Error("ContentUnion is required");return lu(e)?e:{role:"user",parts:Rh(e)}}function mr(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Ie(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=Ie(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ie(n)):[Ie(t)]}function st(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(nd(e)||id(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ie(e)]}const t=[],n=[],i=lu(e[0]);for(const l of e){const o=lu(l);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(l);else{if(nd(l)||id(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||t.push({role:"user",parts:Rh(n)}),t}function Rv(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(fe).includes(n[0].toUpperCase())?n[0].toUpperCase():fe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(fe).includes(i.toUpperCase())?i.toUpperCase():fe.TYPE_UNSPECIFIED})}}function di(e){const t={},n=["items"],i=["anyOf"],l=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&Rv(e.type,t);for(const[a,r]of Object.entries(e))if(r!=null)if(a=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;t.type=Object.values(fe).includes(r.toUpperCase())?r.toUpperCase():fe.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=di(r);else if(i.includes(a)){const c=[];for(const f of r){if(f.type=="null"){t.nullable=!0;continue}c.push(di(f))}t[a]=c}else if(l.includes(a)){const c={};for(const[f,d]of Object.entries(r))c[f]=di(d);t[a]=c}else{if(a==="additionalProperties")continue;t[a]=r}return t}function hr(e){return di(e)}function gr(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function yr(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Gi(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=di(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=di(t.response));return e}function qi(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function wv(e,t,n,i=1){const l=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:l?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:l?`${n}/${t}`:t}function Ft(e,t){if(typeof t!="string")throw new Error("name must be a string");return wv(e,t,"cachedContents")}function wh(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function vn(e){return fr(e)}function Iv(e){return e!=null&&typeof e=="object"&&"name"in e}function Dv(e){return e!=null&&typeof e=="object"&&"video"in e}function Uv(e){return e!=null&&typeof e=="object"&&"uri"in e}function Ih(e){var t;let n;if(Iv(e)&&(n=e.name),!(Uv(e)&&(n=e.uri,n===void 0))&&!(Dv(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Dh(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Uh(e){for(const t of["models","tunedModels","publisherModels"])if(bv(e,t))return e[t];return[]}function bv(e,t){return e!==null&&typeof e=="object"&&t in e}function Lv(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function Gv(e,t={}){const n=[],i=new Set;for(const l of e){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const a=Lv(l,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function bh(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,l=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(l>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function qv(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Lh(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const l=n.inlinedResponses;if(!Array.isArray(l)||l.length===0)return e;let o=!1;for(const a of l){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Hi(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Gh(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hv(e){const t={},n=s(e,["responsesFile"]);n!=null&&u(t,["fileName"],n);const i=s(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>yT(a))),u(t,["inlinedResponses"],o)}const l=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["inlinedEmbedContentResponses"],o)}return t}function Vv(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&u(t,["format"],n);const i=s(e,["gcsDestination","outputUriPrefix"]);i!=null&&u(t,["gcsUri"],i);const l=s(e,["bigqueryDestination","outputUri"]);return l!=null&&u(t,["bigqueryUri"],l),t}function zv(e){const t={},n=s(e,["format"]);n!=null&&u(t,["predictionsFormat"],n);const i=s(e,["gcsUri"]);i!=null&&u(t,["gcsDestination","outputUriPrefix"],i);const l=s(e,["bigqueryUri"]);if(l!=null&&u(t,["bigqueryDestination","outputUri"],l),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function yo(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata","displayName"]);i!=null&&u(t,["displayName"],i);const l=s(e,["metadata","state"]);l!=null&&u(t,["state"],Gh(l));const o=s(e,["metadata","createTime"]);o!=null&&u(t,["createTime"],o);const a=s(e,["metadata","endTime"]);a!=null&&u(t,["endTime"],a);const r=s(e,["metadata","updateTime"]);r!=null&&u(t,["updateTime"],r);const c=s(e,["metadata","model"]);c!=null&&u(t,["model"],c);const f=s(e,["metadata","output"]);return f!=null&&u(t,["dest"],Hv(Lh(f))),t}function ou(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["displayName"]);i!=null&&u(t,["displayName"],i);const l=s(e,["state"]);l!=null&&u(t,["state"],Gh(l));const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["createTime"]);a!=null&&u(t,["createTime"],a);const r=s(e,["startTime"]);r!=null&&u(t,["startTime"],r);const c=s(e,["endTime"]);c!=null&&u(t,["endTime"],c);const f=s(e,["updateTime"]);f!=null&&u(t,["updateTime"],f);const d=s(e,["model"]);d!=null&&u(t,["model"],d);const m=s(e,["inputConfig"]);m!=null&&u(t,["src"],Bv(m));const p=s(e,["outputConfig"]);p!=null&&u(t,["dest"],Vv(Lh(p)));const h=s(e,["completionStats"]);return h!=null&&u(t,["completionStats"],h),t}function Bv(e){const t={},n=s(e,["instancesFormat"]);n!=null&&u(t,["format"],n);const i=s(e,["gcsSource","uris"]);i!=null&&u(t,["gcsUri"],i);const l=s(e,["bigquerySource","inputUri"]);return l!=null&&u(t,["bigqueryUri"],l),t}function Pv(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(t,["fileName"]);i!=null&&u(n,["fileName"],i);const l=s(t,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>gT(e,a))),u(n,["requests","requests"],o)}return n}function kv(e){const t={},n=s(e,["format"]);n!=null&&u(t,["instancesFormat"],n);const i=s(e,["gcsUri"]);i!=null&&u(t,["gcsSource","uris"],i);const l=s(e,["bigqueryUri"]);if(l!=null&&u(t,["bigquerySource","inputUri"],l),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Fv(e){const t={},n=s(e,["data"]);if(n!=null&&u(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Ov(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Hi(e,i)),n}function Yv(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Hi(e,i)),n}function Jv(e){const t={},n=s(e,["content"]);n!=null&&u(t,["content"],n);const i=s(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],Kv(i));const l=s(e,["tokenCount"]);l!=null&&u(t,["tokenCount"],l);const o=s(e,["finishReason"]);o!=null&&u(t,["finishReason"],o);const a=s(e,["avgLogprobs"]);a!=null&&u(t,["avgLogprobs"],a);const r=s(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);const c=s(e,["index"]);c!=null&&u(t,["index"],c);const f=s(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);const d=s(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),u(t,["safetyRatings"],p)}const m=s(e,["urlContextMetadata"]);return m!=null&&u(t,["urlContextMetadata"],m),t}function Kv(e){const t={},n=s(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l)),u(t,["citations"],i)}return t}function qh(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>AT(o))),u(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&u(t,["role"],i),t}function Qv(e,t){const n={},i=s(e,["displayName"]);if(t!==void 0&&i!=null&&u(t,["batch","displayName"],i),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Xv(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const l=s(e,["dest"]);return t!==void 0&&l!=null&&u(t,["outputConfig"],zv(qv(l))),n}function ld(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["src"]);l!=null&&u(n,["batch","inputConfig"],Pv(e,bh(e,l)));const o=s(t,["config"]);return o!=null&&Qv(o,n),n}function Zv(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["model"],K(e,i));const l=s(t,["src"]);l!=null&&u(n,["inputConfig"],kv(bh(e,l)));const o=s(t,["config"]);return o!=null&&Xv(o,n),n}function $v(e,t){const n={},i=s(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["batch","displayName"],i),n}function Wv(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["src"]);l!=null&&u(n,["batch","inputConfig"],oT(e,l));const o=s(t,["config"]);return o!=null&&$v(o,n),n}function jv(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Hi(e,i)),n}function eT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Hi(e,i)),n}function tT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["name"]);i!=null&&u(t,["name"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);return o!=null&&u(t,["error"],o),t}function nT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["name"]);i!=null&&u(t,["name"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);return o!=null&&u(t,["error"],o),t}function iT(e,t){const n={},i=s(t,["contents"]);if(i!=null){let o=mr(e,i);Array.isArray(o)&&(o=o.map(a=>a)),u(n,["requests[]","request","content"],o)}const l=s(t,["config"]);return l!=null&&(u(n,["_self"],lT(l,n)),ev(n,{"requests[].*":"requests[].request.*"})),n}function lT(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);const l=s(e,["title"]);t!==void 0&&l!=null&&u(t,["requests[]","title"],l);const o=s(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&u(t,["requests[]","outputDimensionality"],o),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oT(e,t){const n={},i=s(t,["fileName"]);i!=null&&u(n,["file_name"],i);const l=s(t,["inlinedRequests"]);return l!=null&&u(n,["requests"],iT(e,l)),n}function aT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function sT(e){const t={},n=s(e,["id"]);n!=null&&u(t,["id"],n);const i=s(e,["args"]);i!=null&&u(t,["args"],i);const l=s(e,["name"]);if(l!=null&&u(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uT(e){const t={},n=s(e,["mode"]);n!=null&&u(t,["mode"],n);const i=s(e,["allowedFunctionNames"]);if(i!=null&&u(t,["allowedFunctionNames"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rT(e,t,n){const i={},l=s(t,["systemInstruction"]);n!==void 0&&l!=null&&u(n,["systemInstruction"],qh(Ie(l)));const o=s(t,["temperature"]);o!=null&&u(i,["temperature"],o);const a=s(t,["topP"]);a!=null&&u(i,["topP"],a);const r=s(t,["topK"]);r!=null&&u(i,["topK"],r);const c=s(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=s(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=s(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const m=s(t,["responseLogprobs"]);m!=null&&u(i,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&u(i,["logprobs"],p);const h=s(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);const E=s(t,["frequencyPenalty"]);E!=null&&u(i,["frequencyPenalty"],E);const _=s(t,["seed"]);_!=null&&u(i,["seed"],_);const w=s(t,["responseMimeType"]);w!=null&&u(i,["responseMimeType"],w);const T=s(t,["responseSchema"]);T!=null&&u(i,["responseSchema"],hr(T));const y=s(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(G=>xT(G))),u(n,["safetySettings"],x)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let x=qi(S);Array.isArray(x)&&(x=x.map(G=>MT(Gi(G)))),u(n,["tools"],x)}const N=s(t,["toolConfig"]);if(n!==void 0&&N!=null&&u(n,["toolConfig"],NT(N)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&u(n,["cachedContent"],Ft(e,I));const C=s(t,["responseModalities"]);C!=null&&u(i,["responseModalities"],C);const b=s(t,["mediaResolution"]);b!=null&&u(i,["mediaResolution"],b);const R=s(t,["speechConfig"]);if(R!=null&&u(i,["speechConfig"],gr(R)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=s(t,["thinkingConfig"]);U!=null&&u(i,["thinkingConfig"],U);const A=s(t,["imageConfig"]);return A!=null&&u(i,["imageConfig"],hT(A)),i}function cT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Jv(f))),u(t,["candidates"],c)}const l=s(e,["modelVersion"]);l!=null&&u(t,["modelVersion"],l);const o=s(e,["promptFeedback"]);o!=null&&u(t,["promptFeedback"],o);const a=s(e,["responseId"]);a!=null&&u(t,["responseId"],a);const r=s(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function fT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Hi(e,i)),n}function dT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Hi(e,i)),n}function pT(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function mT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function hT(e){const t={},n=s(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);const i=s(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function gT(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["request","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let r=st(l);Array.isArray(r)&&(r=r.map(c=>qh(c))),u(n,["request","contents"],r)}const o=s(t,["metadata"]);o!=null&&u(n,["metadata"],o);const a=s(t,["config"]);return a!=null&&u(n,["request","generationConfig"],rT(e,a,s(n,["request"],{}))),n}function yT(e){const t={},n=s(e,["response"]);n!=null&&u(t,["response"],cT(n));const i=s(e,["error"]);return i!=null&&u(t,["error"],i),t}function vT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);if(t!==void 0&&l!=null&&u(t,["_query","pageToken"],l),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function TT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);t!==void 0&&l!=null&&u(t,["_query","pageToken"],l);const o=s(e,["filter"]);return t!==void 0&&o!=null&&u(t,["_query","filter"],o),n}function ST(e){const t={},n=s(e,["config"]);return n!=null&&vT(n,t),t}function ET(e){const t={},n=s(e,["config"]);return n!=null&&TT(n,t),t}function _T(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["operations"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>yo(a))),u(t,["batchJobs"],o)}return t}function CT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["batchPredictionJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>ou(a))),u(t,["batchJobs"],o)}return t}function AT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&u(t,["executableCode"],l);const o=s(e,["fileData"]);o!=null&&u(t,["fileData"],aT(o));const a=s(e,["functionCall"]);a!=null&&u(t,["functionCall"],sT(a));const r=s(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=s(e,["inlineData"]);c!=null&&u(t,["inlineData"],Fv(c));const f=s(e,["text"]);f!=null&&u(t,["text"],f);const d=s(e,["thought"]);d!=null&&u(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function xT(e){const t={},n=s(e,["category"]);if(n!=null&&u(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function NT(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&u(t,["functionCallingConfig"],uT(n));const i=s(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],i),t}function MT(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);l!=null&&u(t,["computerUse"],l);const o=s(e,["fileSearch"]);o!=null&&u(t,["fileSearch"],o);const a=s(e,["codeExecution"]);if(a!=null&&u(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],pT(r));const c=s(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],mT(c));const f=s(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Bt||(Bt={}));class Bn{constructor(t,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,l)}init(t,n,i){var l,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(l=a.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RT extends kt{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Bn(Bt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=ld(this.apiClient,t),i=n._url,l=L("{model}:batchGenerateContent",i),r=n.batch.inputConfig.requests,c=r.requests,f=[];for(const d of c){const m=Object.assign({},d);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}f.push(m)}return r.requests=f,delete n.config,delete n._url,delete n._query,{path:l,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},l=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${l}`),i.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${l}`;else if(a)i.dest=`${a}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=Zv(this.apiClient,t);return r=L("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>ou(d))}else{const f=ld(this.apiClient,t);return r=L("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>yo(d))}}async createEmbeddingsInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Wv(this.apiClient,t);return o=L("{model}:asyncBatchEmbedContent",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>yo(c))}}async get(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=dT(this.apiClient,t);return r=L("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>ou(d))}else{const f=fT(this.apiClient,t);return r=L("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>yo(d))}}async cancel(t){var n,i,l,o;let a="",r={};if(this.apiClient.isVertexAI()){const c=Yv(this.apiClient,t);a=L("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=Ov(this.apiClient,t);a=L("batches/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=ET(t);return r=L("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=CT(d),p=new ed;return Object.assign(p,m),p})}else{const f=ST(t);return r=L("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=_T(d),p=new ed;return Object.assign(p,m),p})}}async delete(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=eT(this.apiClient,t);return r=L("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>nT(d))}else{const f=jv(this.apiClient,t);return r=L("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>tT(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(e){const t={},n=s(e,["data"]);if(n!=null&&u(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function od(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>WT(o))),u(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&u(t,["role"],i),t}function IT(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const l=s(e,["expireTime"]);t!==void 0&&l!=null&&u(t,["expireTime"],l);const o=s(e,["displayName"]);t!==void 0&&o!=null&&u(t,["displayName"],o);const a=s(e,["contents"]);if(t!==void 0&&a!=null){let d=st(a);Array.isArray(d)&&(d=d.map(m=>od(m))),u(t,["contents"],d)}const r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],od(Ie(r)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>eS(m))),u(t,["tools"],d)}const f=s(e,["toolConfig"]);if(t!==void 0&&f!=null&&u(t,["toolConfig"],jT(f)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function DT(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const l=s(e,["expireTime"]);t!==void 0&&l!=null&&u(t,["expireTime"],l);const o=s(e,["displayName"]);t!==void 0&&o!=null&&u(t,["displayName"],o);const a=s(e,["contents"]);if(t!==void 0&&a!=null){let m=st(a);Array.isArray(m)&&(m=m.map(p=>p)),u(t,["contents"],m)}const r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],Ie(r));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>tS(p))),u(t,["tools"],m)}const f=s(e,["toolConfig"]);t!==void 0&&f!=null&&u(t,["toolConfig"],f);const d=s(e,["kmsKeyName"]);return t!==void 0&&d!=null&&u(t,["encryption_spec","kmsKeyName"],d),n}function UT(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["model"],Ah(e,i));const l=s(t,["config"]);return l!=null&&IT(l,n),n}function bT(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["model"],Ah(e,i));const l=s(t,["config"]);return l!=null&&DT(l,n),n}function LT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Ft(e,i)),n}function GT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Ft(e,i)),n}function qT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function HT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function VT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function zT(e){const t={},n=s(e,["id"]);n!=null&&u(t,["id"],n);const i=s(e,["args"]);i!=null&&u(t,["args"],i);const l=s(e,["name"]);if(l!=null&&u(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BT(e){const t={},n=s(e,["mode"]);n!=null&&u(t,["mode"],n);const i=s(e,["allowedFunctionNames"]);if(i!=null&&u(t,["allowedFunctionNames"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function PT(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&u(t,["description"],n);const i=s(e,["name"]);i!=null&&u(t,["name"],i);const l=s(e,["parameters"]);l!=null&&u(t,["parameters"],l);const o=s(e,["parametersJsonSchema"]);o!=null&&u(t,["parametersJsonSchema"],o);const a=s(e,["response"]);a!=null&&u(t,["response"],a);const r=s(e,["responseJsonSchema"]);return r!=null&&u(t,["responseJsonSchema"],r),t}function kT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Ft(e,i)),n}function FT(e,t){const n={},i=s(t,["name"]);return i!=null&&u(n,["_url","name"],Ft(e,i)),n}function OT(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function YT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function JT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&u(t,["_query","pageToken"],l),n}function KT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&u(t,["_query","pageToken"],l),n}function QT(e){const t={},n=s(e,["config"]);return n!=null&&JT(n,t),t}function XT(e){const t={},n=s(e,["config"]);return n!=null&&KT(n,t),t}function ZT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["cachedContents"],o)}return t}function $T(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["cachedContents"],o)}return t}function WT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&u(t,["executableCode"],l);const o=s(e,["fileData"]);o!=null&&u(t,["fileData"],VT(o));const a=s(e,["functionCall"]);a!=null&&u(t,["functionCall"],zT(a));const r=s(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=s(e,["inlineData"]);c!=null&&u(t,["inlineData"],wT(c));const f=s(e,["text"]);f!=null&&u(t,["text"],f);const d=s(e,["thought"]);d!=null&&u(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function jT(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&u(t,["functionCallingConfig"],BT(n));const i=s(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],i),t}function eS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);l!=null&&u(t,["computerUse"],l);const o=s(e,["fileSearch"]);o!=null&&u(t,["fileSearch"],o);const a=s(e,["codeExecution"]);if(a!=null&&u(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],OT(r));const c=s(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],YT(c));const f=s(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function tS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>PT(p))),u(t,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&u(t,["retrieval"],i);const l=s(e,["googleSearchRetrieval"]);l!=null&&u(t,["googleSearchRetrieval"],l);const o=s(e,["computerUse"]);if(o!=null&&u(t,["computerUse"],o),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&u(t,["codeExecution"],a);const r=s(e,["enterpriseWebSearch"]);r!=null&&u(t,["enterpriseWebSearch"],r);const c=s(e,["googleMaps"]);c!=null&&u(t,["googleMaps"],c);const f=s(e,["googleSearch"]);f!=null&&u(t,["googleSearch"],f);const d=s(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function nS(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const l=s(e,["expireTime"]);return t!==void 0&&l!=null&&u(t,["expireTime"],l),n}function iS(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const l=s(e,["expireTime"]);return t!==void 0&&l!=null&&u(t,["expireTime"],l),n}function lS(e,t){const n={},i=s(t,["name"]);i!=null&&u(n,["_url","name"],Ft(e,i));const l=s(t,["config"]);return l!=null&&nS(l,n),n}function oS(e,t){const n={},i=s(t,["name"]);i!=null&&u(n,["_url","name"],Ft(e,i));const l=s(t,["config"]);return l!=null&&iS(l,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aS extends kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bn(Bt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=bT(this.apiClient,t);return r=L("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=UT(this.apiClient,t);return r=L("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=FT(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=kT(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=GT(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=HT(d),p=new Wf;return Object.assign(p,m),p})}else{const f=LT(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=qT(d),p=new Wf;return Object.assign(p,m),p})}}async update(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=oS(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=lS(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=XT(t);return r=L("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=$T(d),p=new jf;return Object.assign(p,m),p})}else{const f=QT(t);return r=L("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=ZT(d),p=new jf;return Object.assign(p,m),p})}}}function ad(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(e){return this instanceof ie?(this.v=e,this):new ie(e)}function pi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",a),l[Symbol.asyncIterator]=function(){return this},l;function a(h){return function(E){return Promise.resolve(E).then(h,m)}}function r(h,E){i[h]&&(l[h]=function(_){return new Promise(function(w,T){o.push([h,_,w,T])>1||c(h,_)})},E&&(l[h]=E(l[h])))}function c(h,E){try{f(i[h](E))}catch(_){p(o[0][3],_)}}function f(h){h.value instanceof ie?Promise.resolve(h.value.v).then(d,m):p(o[0][2],h)}function d(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ad=="function"?ad(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(a){return new Promise(function(r,c){a=e[o](a),l(r,c,a.done,a.value)})}}function l(o,a,r,c){Promise.resolve(c).then(function(f){o({value:f,done:r})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sS(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Hh(n)}function Hh(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function uS(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function sd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const l=[];let o=!0;for(;i<n&&e[i].role==="model";)l.push(e[i]),o&&!Hh(e[i])&&(o=!1),i++;o?t.push(...l):t.pop()}return t}class rS{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new cS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class cS{constructor(t,n,i,l={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),uS(o)}async sendMessage(t){var n;await this.sendPromise;const i=Ie(t.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,r;const c=await l,f=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];d!=null&&(p=(r=d.slice(m))!==null&&r!==void 0?r:[]);const h=f?[f]:[];this.recordHistory(i,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(t){var n;await this.sendPromise;const i=Ie(t.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(t=!1){const n=t?sd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,l;return pi(this,arguments,function*(){var a,r,c,f;const d=[];try{for(var m=!0,p=fl(t),h;h=yield ie(p.next()),a=h.done,!a;m=!0){f=h.value,m=!1;const E=f;if(sS(E)){const _=(l=(i=E.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;_!==void 0&&d.push(_)}yield yield ie(E)}}catch(E){r={error:E}}finally{try{!m&&!a&&(c=p.return)&&(yield ie(c.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...sd(i)):this.history.push(t),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ya extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ya.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(e){const t={},n=s(e,["file"]);return n!=null&&u(t,["file"],n),t}function dS(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function pS(e){const t={},n=s(e,["name"]);return n!=null&&u(t,["_url","file"],Ih(n)),t}function mS(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function hS(e){const t={},n=s(e,["name"]);return n!=null&&u(t,["_url","file"],Ih(n)),t}function gS(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&u(t,["_query","pageToken"],l),n}function yS(e){const t={},n=s(e,["config"]);return n!=null&&gS(n,t),t}function vS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TS extends kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bn(Bt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=yS(t);return o=L("files",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>{const f=vS(c),d=new Cv;return Object.assign(d,f),d})}}async createInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=fS(t);return o=L("upload/v1beta/files",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=dS(c),d=new Av;return Object.assign(d,f),d})}}async get(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=hS(t);return o=L("files/{file}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>c)}}async delete(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=pS(t);return o=L("files/{file}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>{const f=mS(c),d=new xv;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vo(e){const t={},n=s(e,["data"]);if(n!=null&&u(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function SS(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>qS(o))),u(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&u(t,["role"],i),t}function ES(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function _S(e){const t={},n=s(e,["id"]);n!=null&&u(t,["id"],n);const i=s(e,["args"]);i!=null&&u(t,["args"],i);const l=s(e,["name"]);if(l!=null&&u(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CS(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&u(t,["description"],n);const i=s(e,["name"]);i!=null&&u(t,["name"],i);const l=s(e,["parameters"]);l!=null&&u(t,["parameters"],l);const o=s(e,["parametersJsonSchema"]);o!=null&&u(t,["parametersJsonSchema"],o);const a=s(e,["response"]);a!=null&&u(t,["response"],a);const r=s(e,["responseJsonSchema"]);return r!=null&&u(t,["responseJsonSchema"],r),t}function AS(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);const i=s(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);const l=s(e,["audioTimestamp"]);l!=null&&u(t,["audioTimestamp"],l);const o=s(e,["candidateCount"]);o!=null&&u(t,["candidateCount"],o);const a=s(e,["enableAffectiveDialog"]);a!=null&&u(t,["enableAffectiveDialog"],a);const r=s(e,["frequencyPenalty"]);r!=null&&u(t,["frequencyPenalty"],r);const c=s(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);const f=s(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);const d=s(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);const m=s(e,["presencePenalty"]);m!=null&&u(t,["presencePenalty"],m);const p=s(e,["responseLogprobs"]);p!=null&&u(t,["responseLogprobs"],p);const h=s(e,["responseMimeType"]);h!=null&&u(t,["responseMimeType"],h);const E=s(e,["responseModalities"]);E!=null&&u(t,["responseModalities"],E);const _=s(e,["responseSchema"]);_!=null&&u(t,["responseSchema"],_);const w=s(e,["routingConfig"]);w!=null&&u(t,["routingConfig"],w);const T=s(e,["seed"]);T!=null&&u(t,["seed"],T);const y=s(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],Vh(y));const v=s(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);const S=s(e,["temperature"]);S!=null&&u(t,["temperature"],S);const N=s(e,["thinkingConfig"]);N!=null&&u(t,["thinkingConfig"],N);const I=s(e,["topK"]);I!=null&&u(t,["topK"],I);const C=s(e,["topP"]);if(C!=null&&u(t,["topP"],C),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function xS(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function NS(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function MS(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);const l=s(e,["responseModalities"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","responseModalities"],l);const o=s(e,["temperature"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","temperature"],o);const a=s(e,["topP"]);t!==void 0&&a!=null&&u(t,["setup","generationConfig","topP"],a);const r=s(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const d=s(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","speechConfig"],yr(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","thinkingConfig"],p);const h=s(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&u(t,["setup","systemInstruction"],SS(Ie(E)));const _=s(e,["tools"]);if(t!==void 0&&_!=null){let I=qi(_);Array.isArray(I)&&(I=I.map(C=>VS(Gi(C)))),u(t,["setup","tools"],I)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&u(t,["setup","sessionResumption"],HS(w));const T=s(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&u(t,["setup","inputAudioTranscription"],T);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&u(t,["setup","contextWindowCompression"],S);const N=s(e,["proactivity"]);return t!==void 0&&N!=null&&u(t,["setup","proactivity"],N),n}function RS(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],AS(i));const l=s(e,["responseModalities"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","responseModalities"],l);const o=s(e,["temperature"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","temperature"],o);const a=s(e,["topP"]);t!==void 0&&a!=null&&u(t,["setup","generationConfig","topP"],a);const r=s(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const d=s(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","speechConfig"],Vh(yr(m)));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","thinkingConfig"],p);const h=s(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&u(t,["setup","systemInstruction"],Ie(E));const _=s(e,["tools"]);if(t!==void 0&&_!=null){let I=qi(_);Array.isArray(I)&&(I=I.map(C=>zS(Gi(C)))),u(t,["setup","tools"],I)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&u(t,["setup","sessionResumption"],w);const T=s(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&u(t,["setup","inputAudioTranscription"],T);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&u(t,["setup","contextWindowCompression"],S);const N=s(e,["proactivity"]);return t!==void 0&&N!=null&&u(t,["setup","proactivity"],N),n}function wS(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["setup","model"],K(e,i));const l=s(t,["config"]);return l!=null&&u(n,["config"],MS(l,n)),n}function IS(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["setup","model"],K(e,i));const l=s(t,["config"]);return l!=null&&u(n,["config"],RS(l,n)),n}function DS(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&u(t,["musicGenerationConfig"],n),t}function US(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l)),u(t,["weightedPrompts"],i)}return t}function bS(e){const t={},n=s(e,["media"]);if(n!=null){let f=xh(n);Array.isArray(f)&&(f=f.map(d=>vo(d))),u(t,["mediaChunks"],f)}const i=s(e,["audio"]);i!=null&&u(t,["audio"],vo(Mh(i)));const l=s(e,["audioStreamEnd"]);l!=null&&u(t,["audioStreamEnd"],l);const o=s(e,["video"]);o!=null&&u(t,["video"],vo(Nh(o)));const a=s(e,["text"]);a!=null&&u(t,["text"],a);const r=s(e,["activityStart"]);r!=null&&u(t,["activityStart"],r);const c=s(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function LS(e){const t={},n=s(e,["media"]);if(n!=null){let f=xh(n);Array.isArray(f)&&(f=f.map(d=>d)),u(t,["mediaChunks"],f)}const i=s(e,["audio"]);i!=null&&u(t,["audio"],Mh(i));const l=s(e,["audioStreamEnd"]);l!=null&&u(t,["audioStreamEnd"],l);const o=s(e,["video"]);o!=null&&u(t,["video"],Nh(o));const a=s(e,["text"]);a!=null&&u(t,["text"],a);const r=s(e,["activityStart"]);r!=null&&u(t,["activityStart"],r);const c=s(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function GS(e){const t={},n=s(e,["setupComplete"]);n!=null&&u(t,["setupComplete"],n);const i=s(e,["serverContent"]);i!=null&&u(t,["serverContent"],i);const l=s(e,["toolCall"]);l!=null&&u(t,["toolCall"],l);const o=s(e,["toolCallCancellation"]);o!=null&&u(t,["toolCallCancellation"],o);const a=s(e,["usageMetadata"]);a!=null&&u(t,["usageMetadata"],BS(a));const r=s(e,["goAway"]);r!=null&&u(t,["goAway"],r);const c=s(e,["sessionResumptionUpdate"]);return c!=null&&u(t,["sessionResumptionUpdate"],c),t}function qS(e){const t={},n=s(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&u(t,["executableCode"],l);const o=s(e,["fileData"]);o!=null&&u(t,["fileData"],ES(o));const a=s(e,["functionCall"]);a!=null&&u(t,["functionCall"],_S(a));const r=s(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=s(e,["inlineData"]);c!=null&&u(t,["inlineData"],vo(c));const f=s(e,["text"]);f!=null&&u(t,["text"],f);const d=s(e,["thought"]);d!=null&&u(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function HS(e){const t={},n=s(e,["handle"]);if(n!=null&&u(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Vh(e){const t={},n=s(e,["languageCode"]);n!=null&&u(t,["languageCode"],n);const i=s(e,["voiceConfig"]);if(i!=null&&u(t,["voiceConfig"],i),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function VS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);l!=null&&u(t,["computerUse"],l);const o=s(e,["fileSearch"]);o!=null&&u(t,["fileSearch"],o);const a=s(e,["codeExecution"]);if(a!=null&&u(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],xS(r));const c=s(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],NS(c));const f=s(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function zS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>CS(p))),u(t,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&u(t,["retrieval"],i);const l=s(e,["googleSearchRetrieval"]);l!=null&&u(t,["googleSearchRetrieval"],l);const o=s(e,["computerUse"]);if(o!=null&&u(t,["computerUse"],o),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&u(t,["codeExecution"],a);const r=s(e,["enterpriseWebSearch"]);r!=null&&u(t,["enterpriseWebSearch"],r);const c=s(e,["googleMaps"]);c!=null&&u(t,["googleMaps"],c);const f=s(e,["googleSearch"]);f!=null&&u(t,["googleSearch"],f);const d=s(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function BS(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&u(t,["promptTokenCount"],n);const i=s(e,["cachedContentTokenCount"]);i!=null&&u(t,["cachedContentTokenCount"],i);const l=s(e,["candidatesTokenCount"]);l!=null&&u(t,["responseTokenCount"],l);const o=s(e,["toolUsePromptTokenCount"]);o!=null&&u(t,["toolUsePromptTokenCount"],o);const a=s(e,["thoughtsTokenCount"]);a!=null&&u(t,["thoughtsTokenCount"],a);const r=s(e,["totalTokenCount"]);r!=null&&u(t,["totalTokenCount"],r);const c=s(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),u(t,["promptTokensDetails"],h)}const f=s(e,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),u(t,["cacheTokensDetails"],h)}const d=s(e,["candidatesTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),u(t,["responseTokensDetails"],h)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),u(t,["toolUsePromptTokensDetails"],h)}const p=s(e,["trafficType"]);return p!=null&&u(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(e){const t={},n=s(e,["data"]);if(n!=null&&u(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function kS(e){const t={},n=s(e,["content"]);n!=null&&u(t,["content"],n);const i=s(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],FS(i));const l=s(e,["tokenCount"]);l!=null&&u(t,["tokenCount"],l);const o=s(e,["finishReason"]);o!=null&&u(t,["finishReason"],o);const a=s(e,["avgLogprobs"]);a!=null&&u(t,["avgLogprobs"],a);const r=s(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);const c=s(e,["index"]);c!=null&&u(t,["index"],c);const f=s(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);const d=s(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),u(t,["safetyRatings"],p)}const m=s(e,["urlContextMetadata"]);return m!=null&&u(t,["urlContextMetadata"],m),t}function FS(e){const t={},n=s(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l)),u(t,["citations"],i)}return t}function OS(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let o=st(l);Array.isArray(o)&&(o=o.map(a=>a)),u(n,["contents"],o)}return n}function YS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["tokensInfo"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),u(t,["tokensInfo"],l)}return t}function JS(e){const t={},n=s(e,["values"]);n!=null&&u(t,["values"],n);const i=s(e,["statistics"]);return i!=null&&u(t,["statistics"],KS(i)),t}function KS(e){const t={},n=s(e,["truncated"]);n!=null&&u(t,["truncated"],n);const i=s(e,["token_count"]);return i!=null&&u(t,["tokenCount"],i),t}function va(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>n_(o))),u(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&u(t,["role"],i),t}function QS(e){const t={},n=s(e,["controlType"]);n!=null&&u(t,["controlType"],n);const i=s(e,["enableControlImageComputation"]);return i!=null&&u(t,["computeControl"],i),t}function XS(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function ZS(e,t){const n={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],Ie(i));const l=s(e,["tools"]);if(t!==void 0&&l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Fh(r))),u(t,["tools"],a)}const o=s(e,["generationConfig"]);return t!==void 0&&o!=null&&u(t,["generationConfig"],PE(o)),n}function $S(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let a=st(l);Array.isArray(a)&&(a=a.map(r=>va(r))),u(n,["contents"],a)}const o=s(t,["config"]);return o!=null&&XS(o),n}function WS(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let a=st(l);Array.isArray(a)&&(a=a.map(r=>r)),u(n,["contents"],a)}const o=s(t,["config"]);return o!=null&&ZS(o,n),n}function jS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["totalTokens"]);i!=null&&u(t,["totalTokens"],i);const l=s(e,["cachedContentTokenCount"]);return l!=null&&u(t,["cachedContentTokenCount"],l),t}function eE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["totalTokens"]);return i!=null&&u(t,["totalTokens"],i),t}function tE(e,t){const n={},i=s(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function nE(e,t){const n={},i=s(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function iE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function lE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function oE(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const l=s(e,["negativePrompt"]);t!==void 0&&l!=null&&u(t,["parameters","negativePrompt"],l);const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&u(t,["parameters","sampleCount"],o);const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&u(t,["parameters","aspectRatio"],a);const r=s(e,["guidanceScale"]);t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r);const c=s(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&u(t,["parameters","includeSafetyAttributes"],m);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&u(t,["parameters","includeRaiReason"],p);const h=s(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&u(t,["parameters","outputOptions","mimeType"],E);const _=s(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&u(t,["parameters","outputOptions","compressionQuality"],_);const w=s(e,["addWatermark"]);t!==void 0&&w!=null&&u(t,["parameters","addWatermark"],w);const T=s(e,["labels"]);t!==void 0&&T!=null&&u(t,["labels"],T);const y=s(e,["editMode"]);t!==void 0&&y!=null&&u(t,["parameters","editMode"],y);const v=s(e,["baseSteps"]);return t!==void 0&&v!=null&&u(t,["parameters","editConfig","baseSteps"],v),n}function aE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["prompt"]);l!=null&&u(n,["instances[0]","prompt"],l);const o=s(t,["referenceImages"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>u_(c))),u(n,["instances[0]","referenceImages"],r)}const a=s(t,["config"]);return a!=null&&oE(a,n),n}function sE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Ta(o))),u(t,["generatedImages"],l)}return t}function uE(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);const l=s(e,["title"]);t!==void 0&&l!=null&&u(t,["requests[]","title"],l);const o=s(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&u(t,["requests[]","outputDimensionality"],o),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rE(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&u(t,["instances[]","task_type"],i);const l=s(e,["title"]);t!==void 0&&l!=null&&u(t,["instances[]","title"],l);const o=s(e,["outputDimensionality"]);t!==void 0&&o!=null&&u(t,["parameters","outputDimensionality"],o);const a=s(e,["mimeType"]);t!==void 0&&a!=null&&u(t,["instances[]","mimeType"],a);const r=s(e,["autoTruncate"]);return t!==void 0&&r!=null&&u(t,["parameters","autoTruncate"],r),n}function cE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let r=mr(e,l);Array.isArray(r)&&(r=r.map(c=>c)),u(n,["requests[]","content"],r)}const o=s(t,["config"]);o!=null&&uE(o,n);const a=s(t,["model"]);return a!==void 0&&u(n,["requests[]","model"],K(e,a)),n}function fE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let a=mr(e,l);Array.isArray(a)&&(a=a.map(r=>r)),u(n,["instances[]","content"],a)}const o=s(t,["config"]);return o!=null&&rE(o,n),n}function dE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["embeddings"],o)}const l=s(e,["metadata"]);return l!=null&&u(t,["metadata"],l),t}function pE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>JS(a))),u(t,["embeddings"],o)}const l=s(e,["metadata"]);return l!=null&&u(t,["metadata"],l),t}function mE(e){const t={},n=s(e,["endpoint"]);n!=null&&u(t,["name"],n);const i=s(e,["deployedModelId"]);return i!=null&&u(t,["deployedModelId"],i),t}function hE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function gE(e){const t={},n=s(e,["id"]);n!=null&&u(t,["id"],n);const i=s(e,["args"]);i!=null&&u(t,["args"],i);const l=s(e,["name"]);if(l!=null&&u(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yE(e){const t={},n=s(e,["mode"]);n!=null&&u(t,["mode"],n);const i=s(e,["allowedFunctionNames"]);if(i!=null&&u(t,["allowedFunctionNames"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function vE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&u(t,["description"],n);const i=s(e,["name"]);i!=null&&u(t,["name"],i);const l=s(e,["parameters"]);l!=null&&u(t,["parameters"],l);const o=s(e,["parametersJsonSchema"]);o!=null&&u(t,["parametersJsonSchema"],o);const a=s(e,["response"]);a!=null&&u(t,["response"],a);const r=s(e,["responseJsonSchema"]);return r!=null&&u(t,["responseJsonSchema"],r),t}function TE(e,t,n){const i={},l=s(t,["systemInstruction"]);n!==void 0&&l!=null&&u(n,["systemInstruction"],va(Ie(l)));const o=s(t,["temperature"]);o!=null&&u(i,["temperature"],o);const a=s(t,["topP"]);a!=null&&u(i,["topP"],a);const r=s(t,["topK"]);r!=null&&u(i,["topK"],r);const c=s(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=s(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=s(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const m=s(t,["responseLogprobs"]);m!=null&&u(i,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&u(i,["logprobs"],p);const h=s(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);const E=s(t,["frequencyPenalty"]);E!=null&&u(i,["frequencyPenalty"],E);const _=s(t,["seed"]);_!=null&&u(i,["seed"],_);const w=s(t,["responseMimeType"]);w!=null&&u(i,["responseMimeType"],w);const T=s(t,["responseSchema"]);T!=null&&u(i,["responseSchema"],hr(T));const y=s(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(G=>r_(G))),u(n,["safetySettings"],x)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let x=qi(S);Array.isArray(x)&&(x=x.map(G=>g_(Gi(G)))),u(n,["tools"],x)}const N=s(t,["toolConfig"]);if(n!==void 0&&N!=null&&u(n,["toolConfig"],h_(N)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&u(n,["cachedContent"],Ft(e,I));const C=s(t,["responseModalities"]);C!=null&&u(i,["responseModalities"],C);const b=s(t,["mediaResolution"]);b!=null&&u(i,["mediaResolution"],b);const R=s(t,["speechConfig"]);if(R!=null&&u(i,["speechConfig"],gr(R)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=s(t,["thinkingConfig"]);U!=null&&u(i,["thinkingConfig"],U);const A=s(t,["imageConfig"]);return A!=null&&u(i,["imageConfig"],JE(A)),i}function SE(e,t,n){const i={},l=s(t,["systemInstruction"]);n!==void 0&&l!=null&&u(n,["systemInstruction"],Ie(l));const o=s(t,["temperature"]);o!=null&&u(i,["temperature"],o);const a=s(t,["topP"]);a!=null&&u(i,["topP"],a);const r=s(t,["topK"]);r!=null&&u(i,["topK"],r);const c=s(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=s(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=s(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const m=s(t,["responseLogprobs"]);m!=null&&u(i,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&u(i,["logprobs"],p);const h=s(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);const E=s(t,["frequencyPenalty"]);E!=null&&u(i,["frequencyPenalty"],E);const _=s(t,["seed"]);_!=null&&u(i,["seed"],_);const w=s(t,["responseMimeType"]);w!=null&&u(i,["responseMimeType"],w);const T=s(t,["responseSchema"]);T!=null&&u(i,["responseSchema"],hr(T));const y=s(t,["responseJsonSchema"]);y!=null&&u(i,["responseJsonSchema"],y);const v=s(t,["routingConfig"]);v!=null&&u(i,["routingConfig"],v);const S=s(t,["modelSelectionConfig"]);S!=null&&u(i,["modelConfig"],S);const N=s(t,["safetySettings"]);if(n!==void 0&&N!=null){let D=N;Array.isArray(D)&&(D=D.map(q=>q)),u(n,["safetySettings"],D)}const I=s(t,["tools"]);if(n!==void 0&&I!=null){let D=qi(I);Array.isArray(D)&&(D=D.map(q=>Fh(Gi(q)))),u(n,["tools"],D)}const C=s(t,["toolConfig"]);n!==void 0&&C!=null&&u(n,["toolConfig"],C);const b=s(t,["labels"]);n!==void 0&&b!=null&&u(n,["labels"],b);const R=s(t,["cachedContent"]);n!==void 0&&R!=null&&u(n,["cachedContent"],Ft(e,R));const U=s(t,["responseModalities"]);U!=null&&u(i,["responseModalities"],U);const A=s(t,["mediaResolution"]);A!=null&&u(i,["mediaResolution"],A);const x=s(t,["speechConfig"]);x!=null&&u(i,["speechConfig"],kh(gr(x)));const G=s(t,["audioTimestamp"]);G!=null&&u(i,["audioTimestamp"],G);const P=s(t,["thinkingConfig"]);P!=null&&u(i,["thinkingConfig"],P);const se=s(t,["imageConfig"]);return se!=null&&u(i,["imageConfig"],KE(se)),i}function ud(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let a=st(l);Array.isArray(a)&&(a=a.map(r=>va(r))),u(n,["contents"],a)}const o=s(t,["config"]);return o!=null&&u(n,["generationConfig"],TE(e,o,n)),n}function rd(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["contents"]);if(l!=null){let a=st(l);Array.isArray(a)&&(a=a.map(r=>r)),u(n,["contents"],a)}const o=s(t,["config"]);return o!=null&&u(n,["generationConfig"],SE(e,o,n)),n}function cd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>kS(f))),u(t,["candidates"],c)}const l=s(e,["modelVersion"]);l!=null&&u(t,["modelVersion"],l);const o=s(e,["promptFeedback"]);o!=null&&u(t,["promptFeedback"],o);const a=s(e,["responseId"]);a!=null&&u(t,["responseId"],a);const r=s(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function fd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(t,["candidates"],f)}const l=s(e,["createTime"]);l!=null&&u(t,["createTime"],l);const o=s(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);const a=s(e,["promptFeedback"]);a!=null&&u(t,["promptFeedback"],a);const r=s(e,["responseId"]);r!=null&&u(t,["responseId"],r);const c=s(e,["usageMetadata"]);return c!=null&&u(t,["usageMetadata"],c),t}function EE(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&u(t,["parameters","aspectRatio"],l);const o=s(e,["guidanceScale"]);if(t!==void 0&&o!=null&&u(t,["parameters","guidanceScale"],o),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&u(t,["parameters","safetySetting"],a);const r=s(e,["personGeneration"]);t!==void 0&&r!=null&&u(t,["parameters","personGeneration"],r);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&u(t,["parameters","includeSafetyAttributes"],c);const f=s(e,["includeRaiReason"]);t!==void 0&&f!=null&&u(t,["parameters","includeRaiReason"],f);const d=s(e,["language"]);t!==void 0&&d!=null&&u(t,["parameters","language"],d);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&u(t,["parameters","outputOptions","mimeType"],m);const p=s(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&u(t,["parameters","outputOptions","compressionQuality"],p),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=s(e,["imageSize"]);if(t!==void 0&&h!=null&&u(t,["parameters","sampleImageSize"],h),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function _E(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const l=s(e,["negativePrompt"]);t!==void 0&&l!=null&&u(t,["parameters","negativePrompt"],l);const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&u(t,["parameters","sampleCount"],o);const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&u(t,["parameters","aspectRatio"],a);const r=s(e,["guidanceScale"]);t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r);const c=s(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&u(t,["parameters","includeSafetyAttributes"],m);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&u(t,["parameters","includeRaiReason"],p);const h=s(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&u(t,["parameters","outputOptions","mimeType"],E);const _=s(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&u(t,["parameters","outputOptions","compressionQuality"],_);const w=s(e,["addWatermark"]);t!==void 0&&w!=null&&u(t,["parameters","addWatermark"],w);const T=s(e,["labels"]);t!==void 0&&T!=null&&u(t,["labels"],T);const y=s(e,["imageSize"]);t!==void 0&&y!=null&&u(t,["parameters","sampleImageSize"],y);const v=s(e,["enhancePrompt"]);return t!==void 0&&v!=null&&u(t,["parameters","enhancePrompt"],v),n}function CE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["prompt"]);l!=null&&u(n,["instances[0]","prompt"],l);const o=s(t,["config"]);return o!=null&&EE(o,n),n}function AE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["prompt"]);l!=null&&u(n,["instances[0]","prompt"],l);const o=s(t,["config"]);return o!=null&&_E(o,n),n}function xE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>HE(a))),u(t,["generatedImages"],o)}const l=s(e,["positivePromptSafetyAttributes"]);return l!=null&&u(t,["positivePromptSafetyAttributes"],Bh(l)),t}function NE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ta(a))),u(t,["generatedImages"],o)}const l=s(e,["positivePromptSafetyAttributes"]);return l!=null&&u(t,["positivePromptSafetyAttributes"],Ph(l)),t}function ME(e,t){const n={},i=s(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=s(e,["durationSeconds"]);if(t!==void 0&&l!=null&&u(t,["parameters","durationSeconds"],l),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=s(e,["aspectRatio"]);t!==void 0&&o!=null&&u(t,["parameters","aspectRatio"],o);const a=s(e,["resolution"]);t!==void 0&&a!=null&&u(t,["parameters","resolution"],a);const r=s(e,["personGeneration"]);if(t!==void 0&&r!=null&&u(t,["parameters","personGeneration"],r),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);t!==void 0&&c!=null&&u(t,["parameters","negativePrompt"],c);const f=s(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&u(t,["parameters","enhancePrompt"],f),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=s(e,["lastFrame"]);t!==void 0&&d!=null&&u(t,["instances[0]","lastFrame"],Sa(d));const m=s(e,["referenceImages"]);if(t!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>w_(h))),u(t,["instances[0]","referenceImages"],p)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function RE(e,t){const n={},i=s(e,["numberOfVideos"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const l=s(e,["outputGcsUri"]);t!==void 0&&l!=null&&u(t,["parameters","storageUri"],l);const o=s(e,["fps"]);t!==void 0&&o!=null&&u(t,["parameters","fps"],o);const a=s(e,["durationSeconds"]);t!==void 0&&a!=null&&u(t,["parameters","durationSeconds"],a);const r=s(e,["seed"]);t!==void 0&&r!=null&&u(t,["parameters","seed"],r);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&u(t,["parameters","aspectRatio"],c);const f=s(e,["resolution"]);t!==void 0&&f!=null&&u(t,["parameters","resolution"],f);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&u(t,["parameters","pubsubTopic"],m);const p=s(e,["negativePrompt"]);t!==void 0&&p!=null&&u(t,["parameters","negativePrompt"],p);const h=s(e,["enhancePrompt"]);t!==void 0&&h!=null&&u(t,["parameters","enhancePrompt"],h);const E=s(e,["generateAudio"]);t!==void 0&&E!=null&&u(t,["parameters","generateAudio"],E);const _=s(e,["lastFrame"]);t!==void 0&&_!=null&&u(t,["instances[0]","lastFrame"],mt(_));const w=s(e,["referenceImages"]);if(t!==void 0&&w!=null){let v=w;Array.isArray(v)&&(v=v.map(S=>I_(S))),u(t,["instances[0]","referenceImages"],v)}const T=s(e,["mask"]);t!==void 0&&T!=null&&u(t,["instances[0]","mask"],R_(T));const y=s(e,["compressionQuality"]);return t!==void 0&&y!=null&&u(t,["parameters","compressionQuality"],y),n}function wE(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response","generateVideoResponse"]);return a!=null&&u(t,["response"],bE(a)),t}function IE(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response"]);return a!=null&&u(t,["response"],LE(a)),t}function DE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["prompt"]);l!=null&&u(n,["instances[0]","prompt"],l);const o=s(t,["image"]);o!=null&&u(n,["instances[0]","image"],Sa(o));const a=s(t,["video"]);a!=null&&u(n,["instances[0]","video"],Oh(a));const r=s(t,["source"]);r!=null&&GE(r,n);const c=s(t,["config"]);return c!=null&&ME(c,n),n}function UE(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["prompt"]);l!=null&&u(n,["instances[0]","prompt"],l);const o=s(t,["image"]);o!=null&&u(n,["instances[0]","image"],mt(o));const a=s(t,["video"]);a!=null&&u(n,["instances[0]","video"],Yh(a));const r=s(t,["source"]);r!=null&&qE(r,n);const c=s(t,["config"]);return c!=null&&RE(c,n),n}function bE(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>zE(a))),u(t,["generatedVideos"],o)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&u(t,["raiMediaFilteredReasons"],l),t}function LE(e){const t={},n=s(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>BE(a))),u(t,["generatedVideos"],o)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&u(t,["raiMediaFilteredReasons"],l),t}function GE(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const l=s(e,["image"]);t!==void 0&&l!=null&&u(t,["instances[0]","image"],Sa(l));const o=s(e,["video"]);return t!==void 0&&o!=null&&u(t,["instances[0]","video"],Oh(o)),n}function qE(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const l=s(e,["image"]);t!==void 0&&l!=null&&u(t,["instances[0]","image"],mt(l));const o=s(e,["video"]);return t!==void 0&&o!=null&&u(t,["instances[0]","video"],Yh(o)),n}function HE(e){const t={},n=s(e,["_self"]);n!=null&&u(t,["image"],QE(n));const i=s(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);const l=s(e,["_self"]);return l!=null&&u(t,["safetyAttributes"],Bh(l)),t}function Ta(e){const t={},n=s(e,["_self"]);n!=null&&u(t,["image"],zh(n));const i=s(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);const l=s(e,["_self"]);l!=null&&u(t,["safetyAttributes"],Ph(l));const o=s(e,["prompt"]);return o!=null&&u(t,["enhancedPrompt"],o),t}function VE(e){const t={},n=s(e,["_self"]);n!=null&&u(t,["mask"],zh(n));const i=s(e,["labels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),u(t,["labels"],l)}return t}function zE(e){const t={},n=s(e,["video"]);return n!=null&&u(t,["video"],N_(n)),t}function BE(e){const t={},n=s(e,["_self"]);return n!=null&&u(t,["video"],M_(n)),t}function PE(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);const i=s(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);const l=s(e,["audioTimestamp"]);l!=null&&u(t,["audioTimestamp"],l);const o=s(e,["candidateCount"]);o!=null&&u(t,["candidateCount"],o);const a=s(e,["enableAffectiveDialog"]);a!=null&&u(t,["enableAffectiveDialog"],a);const r=s(e,["frequencyPenalty"]);r!=null&&u(t,["frequencyPenalty"],r);const c=s(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);const f=s(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);const d=s(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);const m=s(e,["presencePenalty"]);m!=null&&u(t,["presencePenalty"],m);const p=s(e,["responseLogprobs"]);p!=null&&u(t,["responseLogprobs"],p);const h=s(e,["responseMimeType"]);h!=null&&u(t,["responseMimeType"],h);const E=s(e,["responseModalities"]);E!=null&&u(t,["responseModalities"],E);const _=s(e,["responseSchema"]);_!=null&&u(t,["responseSchema"],_);const w=s(e,["routingConfig"]);w!=null&&u(t,["routingConfig"],w);const T=s(e,["seed"]);T!=null&&u(t,["seed"],T);const y=s(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],kh(y));const v=s(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);const S=s(e,["temperature"]);S!=null&&u(t,["temperature"],S);const N=s(e,["thinkingConfig"]);N!=null&&u(t,["thinkingConfig"],N);const I=s(e,["topK"]);I!=null&&u(t,["topK"],I);const C=s(e,["topP"]);if(C!=null&&u(t,["topP"],C),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kE(e,t){const n={},i=s(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function FE(e,t){const n={},i=s(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function OE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function YE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function JE(e){const t={},n=s(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);const i=s(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function KE(e){const t={},n=s(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);const i=s(e,["imageSize"]);i!=null&&u(t,["imageSize"],i);const l=s(e,["outputMimeType"]);l!=null&&u(t,["imageOutputOptions","mimeType"],l);const o=s(e,["outputCompressionQuality"]);return o!=null&&u(t,["imageOutputOptions","compressionQuality"],o),t}function QE(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&u(t,["imageBytes"],vn(n));const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function zh(e){const t={},n=s(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&u(t,["imageBytes"],vn(i));const l=s(e,["mimeType"]);return l!=null&&u(t,["mimeType"],l),t}function Sa(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&u(t,["bytesBase64Encoded"],vn(n));const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function mt(e){const t={},n=s(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);const i=s(e,["imageBytes"]);i!=null&&u(t,["bytesBase64Encoded"],vn(i));const l=s(e,["mimeType"]);return l!=null&&u(t,["mimeType"],l),t}function XE(e,t,n){const i={},l=s(t,["pageSize"]);n!==void 0&&l!=null&&u(n,["_query","pageSize"],l);const o=s(t,["pageToken"]);n!==void 0&&o!=null&&u(n,["_query","pageToken"],o);const a=s(t,["filter"]);n!==void 0&&a!=null&&u(n,["_query","filter"],a);const r=s(t,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],Dh(e,r)),i}function ZE(e,t,n){const i={},l=s(t,["pageSize"]);n!==void 0&&l!=null&&u(n,["_query","pageSize"],l);const o=s(t,["pageToken"]);n!==void 0&&o!=null&&u(n,["_query","pageToken"],o);const a=s(t,["filter"]);n!==void 0&&a!=null&&u(n,["_query","filter"],a);const r=s(t,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],Dh(e,r)),i}function $E(e,t){const n={},i=s(t,["config"]);return i!=null&&XE(e,i,n),n}function WE(e,t){const n={},i=s(t,["config"]);return i!=null&&ZE(e,i,n),n}function jE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["_self"]);if(l!=null){let o=Uh(l);Array.isArray(o)&&(o=o.map(a=>au(a))),u(t,["models"],o)}return t}function e_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["_self"]);if(l!=null){let o=Uh(l);Array.isArray(o)&&(o=o.map(a=>su(a))),u(t,["models"],o)}return t}function t_(e){const t={},n=s(e,["maskMode"]);n!=null&&u(t,["maskMode"],n);const i=s(e,["segmentationClasses"]);i!=null&&u(t,["maskClasses"],i);const l=s(e,["maskDilation"]);return l!=null&&u(t,["dilation"],l),t}function au(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["displayName"]);i!=null&&u(t,["displayName"],i);const l=s(e,["description"]);l!=null&&u(t,["description"],l);const o=s(e,["version"]);o!=null&&u(t,["version"],o);const a=s(e,["_self"]);a!=null&&u(t,["tunedModelInfo"],y_(a));const r=s(e,["inputTokenLimit"]);r!=null&&u(t,["inputTokenLimit"],r);const c=s(e,["outputTokenLimit"]);c!=null&&u(t,["outputTokenLimit"],c);const f=s(e,["supportedGenerationMethods"]);f!=null&&u(t,["supportedActions"],f);const d=s(e,["temperature"]);d!=null&&u(t,["temperature"],d);const m=s(e,["maxTemperature"]);m!=null&&u(t,["maxTemperature"],m);const p=s(e,["topP"]);p!=null&&u(t,["topP"],p);const h=s(e,["topK"]);h!=null&&u(t,["topK"],h);const E=s(e,["thinking"]);return E!=null&&u(t,["thinking"],E),t}function su(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["displayName"]);i!=null&&u(t,["displayName"],i);const l=s(e,["description"]);l!=null&&u(t,["description"],l);const o=s(e,["versionId"]);o!=null&&u(t,["version"],o);const a=s(e,["deployedModels"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(p=>mE(p))),u(t,["endpoints"],m)}const r=s(e,["labels"]);r!=null&&u(t,["labels"],r);const c=s(e,["_self"]);c!=null&&u(t,["tunedModelInfo"],v_(c));const f=s(e,["defaultCheckpointId"]);f!=null&&u(t,["defaultCheckpointId"],f);const d=s(e,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>p)),u(t,["checkpoints"],m)}return t}function n_(e){const t={},n=s(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&u(t,["executableCode"],l);const o=s(e,["fileData"]);o!=null&&u(t,["fileData"],hE(o));const a=s(e,["functionCall"]);a!=null&&u(t,["functionCall"],gE(a));const r=s(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=s(e,["inlineData"]);c!=null&&u(t,["inlineData"],PS(c));const f=s(e,["text"]);f!=null&&u(t,["text"],f);const d=s(e,["thought"]);d!=null&&u(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function i_(e){const t={},n=s(e,["productImage"]);return n!=null&&u(t,["image"],mt(n)),t}function l_(e,t){const n={},i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const l=s(e,["baseSteps"]);t!==void 0&&l!=null&&u(t,["parameters","baseSteps"],l);const o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&u(t,["parameters","storageUri"],o);const a=s(e,["seed"]);t!==void 0&&a!=null&&u(t,["parameters","seed"],a);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&u(t,["parameters","safetySetting"],r);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&u(t,["parameters","personGeneration"],c);const f=s(e,["addWatermark"]);t!==void 0&&f!=null&&u(t,["parameters","addWatermark"],f);const d=s(e,["outputMimeType"]);t!==void 0&&d!=null&&u(t,["parameters","outputOptions","mimeType"],d);const m=s(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&u(t,["parameters","outputOptions","compressionQuality"],m);const p=s(e,["enhancePrompt"]);t!==void 0&&p!=null&&u(t,["parameters","enhancePrompt"],p);const h=s(e,["labels"]);return t!==void 0&&h!=null&&u(t,["labels"],h),n}function o_(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["source"]);l!=null&&s_(l,n);const o=s(t,["config"]);return o!=null&&l_(o,n),n}function a_(e){const t={},n=s(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Ta(l))),u(t,["generatedImages"],i)}return t}function s_(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const l=s(e,["personImage"]);t!==void 0&&l!=null&&u(t,["instances[0]","personImage","image"],mt(l));const o=s(e,["productImages"]);if(t!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>i_(r))),u(t,["instances[0]","productImages"],a)}return n}function u_(e){const t={},n=s(e,["referenceImage"]);n!=null&&u(t,["referenceImage"],mt(n));const i=s(e,["referenceId"]);i!=null&&u(t,["referenceId"],i);const l=s(e,["referenceType"]);l!=null&&u(t,["referenceType"],l);const o=s(e,["maskImageConfig"]);o!=null&&u(t,["maskImageConfig"],t_(o));const a=s(e,["controlImageConfig"]);a!=null&&u(t,["controlImageConfig"],QS(a));const r=s(e,["styleImageConfig"]);r!=null&&u(t,["styleImageConfig"],r);const c=s(e,["subjectImageConfig"]);return c!=null&&u(t,["subjectImageConfig"],c),t}function Bh(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);const i=s(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);const l=s(e,["contentType"]);return l!=null&&u(t,["contentType"],l),t}function Ph(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);const i=s(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);const l=s(e,["contentType"]);return l!=null&&u(t,["contentType"],l),t}function r_(e){const t={},n=s(e,["category"]);if(n!=null&&u(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function c_(e){const t={},n=s(e,["image"]);return n!=null&&u(t,["image"],mt(n)),t}function f_(e,t){const n={},i=s(e,["mode"]);t!==void 0&&i!=null&&u(t,["parameters","mode"],i);const l=s(e,["maxPredictions"]);t!==void 0&&l!=null&&u(t,["parameters","maxPredictions"],l);const o=s(e,["confidenceThreshold"]);t!==void 0&&o!=null&&u(t,["parameters","confidenceThreshold"],o);const a=s(e,["maskDilation"]);t!==void 0&&a!=null&&u(t,["parameters","maskDilation"],a);const r=s(e,["binaryColorThreshold"]);t!==void 0&&r!=null&&u(t,["parameters","binaryColorThreshold"],r);const c=s(e,["labels"]);return t!==void 0&&c!=null&&u(t,["labels"],c),n}function d_(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["source"]);l!=null&&m_(l,n);const o=s(t,["config"]);return o!=null&&f_(o,n),n}function p_(e){const t={},n=s(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>VE(l))),u(t,["generatedMasks"],i)}return t}function m_(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const l=s(e,["image"]);t!==void 0&&l!=null&&u(t,["instances[0]","image"],mt(l));const o=s(e,["scribbleImage"]);return t!==void 0&&o!=null&&u(t,["instances[0]","scribble"],c_(o)),n}function kh(e){const t={},n=s(e,["languageCode"]);n!=null&&u(t,["languageCode"],n);const i=s(e,["voiceConfig"]);if(i!=null&&u(t,["voiceConfig"],i),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function h_(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&u(t,["functionCallingConfig"],yE(n));const i=s(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],i),t}function g_(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);l!=null&&u(t,["computerUse"],l);const o=s(e,["fileSearch"]);o!=null&&u(t,["fileSearch"],o);const a=s(e,["codeExecution"]);if(a!=null&&u(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],OE(r));const c=s(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],YE(c));const f=s(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function Fh(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>vE(p))),u(t,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&u(t,["retrieval"],i);const l=s(e,["googleSearchRetrieval"]);l!=null&&u(t,["googleSearchRetrieval"],l);const o=s(e,["computerUse"]);if(o!=null&&u(t,["computerUse"],o),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&u(t,["codeExecution"],a);const r=s(e,["enterpriseWebSearch"]);r!=null&&u(t,["enterpriseWebSearch"],r);const c=s(e,["googleMaps"]);c!=null&&u(t,["googleMaps"],c);const f=s(e,["googleSearch"]);f!=null&&u(t,["googleSearch"],f);const d=s(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function y_(e){const t={},n=s(e,["baseModel"]);n!=null&&u(t,["baseModel"],n);const i=s(e,["createTime"]);i!=null&&u(t,["createTime"],i);const l=s(e,["updateTime"]);return l!=null&&u(t,["updateTime"],l),t}function v_(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(t,["baseModel"],n);const i=s(e,["createTime"]);i!=null&&u(t,["createTime"],i);const l=s(e,["updateTime"]);return l!=null&&u(t,["updateTime"],l),t}function T_(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&u(t,["description"],l);const o=s(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&u(t,["defaultCheckpointId"],o),n}function S_(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&u(t,["description"],l);const o=s(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&u(t,["defaultCheckpointId"],o),n}function E_(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","name"],K(e,i));const l=s(t,["config"]);return l!=null&&T_(l,n),n}function __(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["config"]);return l!=null&&S_(l,n),n}function C_(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&u(t,["parameters","safetySetting"],l);const o=s(e,["personGeneration"]);t!==void 0&&o!=null&&u(t,["parameters","personGeneration"],o);const a=s(e,["includeRaiReason"]);t!==void 0&&a!=null&&u(t,["parameters","includeRaiReason"],a);const r=s(e,["outputMimeType"]);t!==void 0&&r!=null&&u(t,["parameters","outputOptions","mimeType"],r);const c=s(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&u(t,["parameters","outputOptions","compressionQuality"],c);const f=s(e,["enhanceInputImage"]);t!==void 0&&f!=null&&u(t,["parameters","upscaleConfig","enhanceInputImage"],f);const d=s(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&u(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const m=s(e,["labels"]);t!==void 0&&m!=null&&u(t,["labels"],m);const p=s(e,["numberOfImages"]);t!==void 0&&p!=null&&u(t,["parameters","sampleCount"],p);const h=s(e,["mode"]);return t!==void 0&&h!=null&&u(t,["parameters","mode"],h),n}function A_(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));const l=s(t,["image"]);l!=null&&u(n,["instances[0]","image"],mt(l));const o=s(t,["upscaleFactor"]);o!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=s(t,["config"]);return a!=null&&C_(a,n),n}function x_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Ta(o))),u(t,["generatedImages"],l)}return t}function N_(e){const t={},n=s(e,["uri"]);n!=null&&u(t,["uri"],n);const i=s(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],vn(i));const l=s(e,["encoding"]);return l!=null&&u(t,["mimeType"],l),t}function M_(e){const t={},n=s(e,["gcsUri"]);n!=null&&u(t,["uri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],vn(i));const l=s(e,["mimeType"]);return l!=null&&u(t,["mimeType"],l),t}function R_(e){const t={},n=s(e,["image"]);n!=null&&u(t,["_self"],mt(n));const i=s(e,["maskMode"]);return i!=null&&u(t,["maskMode"],i),t}function w_(e){const t={},n=s(e,["image"]);n!=null&&u(t,["image"],Sa(n));const i=s(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function I_(e){const t={},n=s(e,["image"]);n!=null&&u(t,["image"],mt(n));const i=s(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function Oh(e){const t={},n=s(e,["uri"]);n!=null&&u(t,["uri"],n);const i=s(e,["videoBytes"]);i!=null&&u(t,["encodedVideo"],vn(i));const l=s(e,["mimeType"]);return l!=null&&u(t,["encoding"],l),t}function Yh(e){const t={},n=s(e,["uri"]);n!=null&&u(t,["gcsUri"],n);const i=s(e,["videoBytes"]);i!=null&&u(t,["bytesBase64Encoded"],vn(i));const l=s(e,["mimeType"]);return l!=null&&u(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D_="Content-Type",U_="X-Server-Timeout",b_="User-Agent",uu="x-goog-api-client",L_="1.30.0",G_=`google-genai-sdk/${L_}`,q_="v1beta1",H_="v1beta",dd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class V_{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:q_,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:H_,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),t!==""&&l.push(t),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[a,r]of Object.entries(t.queryParams))l.searchParams.append(a,String(r));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,l.toString(),t.abortSignal),this.unaryApiCall(l,o,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[l,o]of Object.entries(n))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,l.toString(),t.abortSignal),this.streamApiCall(l,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,l){if(n&&n.timeout||l){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>o.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}l&&l.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&z_(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await pd(l),new iu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await pd(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(t){var n;return pi(this,arguments,function*(){const l=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let a="";for(;;){const{done:r,value:c}=yield ie(l.read());if(r){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),h=p.status,E=p.code,_=`got status: ${h}. ${JSON.stringify(m)}`;if(E>=400&&E<600)throw new ya({message:_,status:E})}}catch(m){if(m.name==="ApiError")throw m}a+=f;let d=a.match(dd);for(;d;){const m=d[1];try{const p=new Response(m,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ie(new iu(p)),a=a.slice(d[0].length),d=a.match(dd)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{l.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=G_+" "+this.clientOptions.userAgentExtra;return t[b_]=n,t[uu]=n,t[D_]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[l,o]of Object.entries(t.headers))i.append(l,o);t.timeout&&t.timeout>0&&i.append(U_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);l.sizeBytes=String(a.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=r;const c={file:l},f=this.getFileName(t),d=L("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(d,l.sizeBytes,l.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var l;const o=this.clientOptions.uploader,a=await o.stat(n),r=String(a.size),c=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),m={};i!=null&&i.customMetadata&&(m.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(m.chunkingConfig=i.chunkingConfig);const p=await this.fetchUploadUrl(f,r,c,d,m,i==null?void 0:i.httpOptions);return o.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,l,o,a){var r;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},l?{"X-Goog-Upload-File-Name":l}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function pd(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new ya({message:l,status:n}):new Error(l)}}function z_(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,a){const r=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}const l=i(n,t);e.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B_="mcp_used/unknown";let P_=!1;function Jh(e){for(const t of e)if(k_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return P_}function Kh(e){var t;const n=(t=e[uu])!==null&&t!==void 0?t:"";e[uu]=(n+` ${B_}`).trimStart()}function k_(e){return e!==null&&typeof e=="object"&&e instanceof vr}function F_(e,t=100){return pi(this,arguments,function*(){let i,l=0;for(;l<t;){const o=yield ie(e.listTools({cursor:i}));for(const a of o.tools)yield yield ie(a),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class vr{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new vr(t,n)}async initialize(){var t,n,i,l;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var r=!0,c=(n=void 0,fl(F_(d))),f;f=await c.next(),t=f.done,!t;r=!0){l=f.value,r=!1;const m=l;a.push(m);const p=m.name;if(o[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);o[p]=d}}catch(m){n={error:m}}finally{try{!r&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Gv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await l.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function O_(e,t,n){const i=new Mv;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),Object.assign(i,l),t(i)}class Y_{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Q_(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const d=new Promise(v=>{f=v}),m=t.callbacks,p=function(){f({})},h=this.apiClient,E={onopen:p,onmessage:v=>{O_(h,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(v){}},_=this.webSocketFactory.create(c,K_(a),E);_.connect(),await d;const y={setup:{model:K(this.apiClient,t.model)}};return _.send(JSON.stringify(y)),new J_(_,this.apiClient)}}class J_{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=US(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=DS(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(li.PLAY)}pause(){this.sendPlaybackControl(li.PAUSE)}stop(){this.sendPlaybackControl(li.STOP)}resetContext(){this.sendPlaybackControl(li.RESET_CONTEXT)}close(){this.conn.close()}}function K_(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function Q_(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Z_(e,t,n){const i=new Nv;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const o=JSON.parse(l);if(e.isVertexAI()){const a=GS(o);Object.assign(i,a)}else Object.assign(i,o);t(i)}class $_{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new Y_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,l,o,a,r;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Jh(t.config.tools)&&Kh(m);const p=tC(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const R=this.apiClient.getApiKey();let U="BidiGenerateContent",A="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",A="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${U}?${A}=${R}`}let h=()=>{};const E=new Promise(R=>{h=R}),_=t.callbacks,w=function(){var R;(R=_==null?void 0:_.onopen)===null||R===void 0||R.call(_),h({})},T=this.apiClient,y={onopen:w,onmessage:R=>{Z_(T,_.onmessage,R)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(R){}},v=this.webSocketFactory.create(d,eC(p),y);v.connect(),await E;let S=K(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const R=this.apiClient.getProject(),U=this.apiClient.getLocation();S=`projects/${R}/locations/${U}/`+S}let N={};this.apiClient.isVertexAI()&&((l=t.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Qo.AUDIO]}:t.config.responseModalities=[Qo.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(r=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&r!==void 0?r:[],C=[];for(const R of I)if(this.isCallableTool(R)){const U=R;C.push(await U.tool())}else C.push(R);C.length>0&&(t.config.tools=C);const b={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?N=IS(this.apiClient,b):N=wS(this.apiClient,b),delete N.config,v.send(JSON.stringify(N)),new j_(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const W_={turnComplete:!0};class j_{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=st(n.turns),t.isVertexAI()||(i=i.map(l=>va(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(X_)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},W_),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:LS(t)}:n={realtimeInput:bS(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function eC(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function tC(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const md=10;function hd(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let l=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(mi(a)){l=!0;break}if(!l)return!0;const o=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function mi(e){return"callTool"in e&&typeof e.callTool=="function"}function nC(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(l=>mi(l)))!==null&&i!==void 0?i:!1}function gd(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,l)=>{if(mi(i))return;const o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(l)}),n}function yd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC extends kt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,l,o,a,r;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!nC(n)||hd(n.config))return await this.generateContentInternal(c);const f=gd(n);if(f.length>0){const _=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let d,m;const p=st(c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:md;let E=0;for(;E<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const _=d.candidates[0].content,w=[];for(const T of(r=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&r!==void 0?r:[])if(mi(T)){const v=await T.callTool(d.functionCalls);w.push(...v)}E++,m={role:"user",parts:w},c.contents=st(c.contents),c.contents.push(_),c.contents.push(m),yd(c.config)&&(p.push(_),p.push(m))}return yd(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var i,l,o,a,r;if(this.maybeMoveToResponseJsonSchem(n),hd(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=gd(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(l=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(r=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let o;const a=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let r;return o?r={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Bn(Bt.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(a),a)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)},this.generateVideos=async n=>{var i,l,o,a,r,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((l=n.video)===null||l===void 0)&&l.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((c=(r=n.source)===null||r===void 0?void 0:r.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,l;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async c=>mi(c)?await c.tool():c)),r={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(r.config.tools=a,t.config&&t.config.tools&&Jh(t.config.tools)){const c=(l=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Kh(f),r.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(t){var n,i,l;const o=new Map;for(const a of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(mi(a)){const r=a,c=await r.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,r)}}return o}async processAfcStream(t){var n,i,l;const o=(l=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:md;let a=!1,r=0;const c=await this.initAfcToolsMap(t);return function(f,d,m){var p,h;return pi(this,arguments,function*(){for(var E,_,w,T;r<o;){a&&(r++,a=!1);const N=yield ie(f.processParamsMaybeAddMcpUsage(m)),I=yield ie(f.generateContentStreamInternal(N)),C=[],b=[];try{for(var y=!0,v=(_=void 0,fl(I)),S;S=yield ie(v.next()),E=S.done,!E;y=!0){T=S.value,y=!1;const R=T;if(yield yield ie(R),R.candidates&&(!((p=R.candidates[0])===null||p===void 0)&&p.content)){b.push(R.candidates[0].content);for(const U of(h=R.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(r<o&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(U.functionCall.name)){const A=yield ie(d.get(U.functionCall.name).callTool([U.functionCall]));C.push(...A)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(R){_={error:R}}finally{try{!y&&!E&&(w=v.return)&&(yield ie(w.call(v)))}finally{if(_)throw _.error}}if(C.length>0){a=!0;const R=new Yi;R.candidates=[{content:{role:"user",parts:C}}],yield yield ie(R);const U=[];U.push(...b),U.push({role:"user",parts:C});const A=st(m.contents).concat(U);m.contents=A}else break}})}(this,c,t)}async generateContentInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=rd(this.apiClient,t);return r=L("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=fd(d),p=new Yi;return Object.assign(p,m),p})}else{const f=ud(this.apiClient,t);return r=L("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=cd(d),p=new Yi;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=rd(this.apiClient,t);return r=L("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(m){return pi(this,arguments,function*(){var p,h,E,_;try{for(var w=!0,T=fl(m),y;y=yield ie(T.next()),p=y.done,!p;w=!0){_=y.value,w=!1;const v=_,S=fd(yield ie(v.json()));S.sdkHttpResponse={headers:v.headers};const N=new Yi;Object.assign(N,S),yield yield ie(N)}}catch(v){h={error:v}}finally{try{!w&&!p&&(E=T.return)&&(yield ie(E.call(T)))}finally{if(h)throw h.error}}})})}else{const f=ud(this.apiClient,t);return r=L("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(m){return pi(this,arguments,function*(){var p,h,E,_;try{for(var w=!0,T=fl(m),y;y=yield ie(T.next()),p=y.done,!p;w=!0){_=y.value,w=!1;const v=_,S=cd(yield ie(v.json()));S.sdkHttpResponse={headers:v.headers};const N=new Yi;Object.assign(N,S),yield yield ie(N)}}catch(v){h={error:v}}finally{try{!w&&!p&&(E=T.return)&&(yield ie(E.call(T)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=fE(this.apiClient,t);return r=L("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=pE(d),p=new Jf;return Object.assign(p,m),p})}else{const f=cE(this.apiClient,t);return r=L("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=dE(d),p=new Jf;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=AE(this.apiClient,t);return r=L("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=NE(d),p=new Kf;return Object.assign(p,m),p})}else{const f=CE(this.apiClient,t);return r=L("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=xE(d),p=new Kf;return Object.assign(p,m),p})}}async editImageInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=aE(this.apiClient,t);return o=L("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>{const f=sE(c),d=new hv;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=A_(this.apiClient,t);return o=L("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>{const f=x_(c),d=new gv;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=o_(this.apiClient,t);return o=L("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=a_(c),d=new yv;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=d_(this.apiClient,t);return o=L("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=p_(c),d=new vv;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=FE(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>su(d))}else{const f=kE(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>au(d))}}async listInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=WE(this.apiClient,t);return r=L("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=e_(d),p=new Qf;return Object.assign(p,m),p})}else{const f=$E(this.apiClient,t);return r=L("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=jE(d),p=new Qf;return Object.assign(p,m),p})}}async update(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=__(this.apiClient,t);return r=L("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>su(d))}else{const f=E_(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>au(d))}}async delete(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=nE(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=lE(d),p=new Xf;return Object.assign(p,m),p})}else{const f=tE(this.apiClient,t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=iE(d),p=new Xf;return Object.assign(p,m),p})}}async countTokens(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=WS(this.apiClient,t);return r=L("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=eE(d),p=new Zf;return Object.assign(p,m),p})}else{const f=$S(this.apiClient,t);return r=L("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=jS(d),p=new Zf;return Object.assign(p,m),p})}}async computeTokens(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=OS(this.apiClient,t);return o=L("{model}:computeTokens",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>{const f=YS(c),d=new Tv;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=UE(this.apiClient,t);return r=L("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const m=IE(d),p=new Xo;return Object.assign(p,m),p})}else{const f=DE(this.apiClient,t);return r=L("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const m=wE(d),p=new Xo;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lC extends kt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=rv(t);return r=L("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const f=uv(t);return r=L("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=tv(t);return o=L("{resourceName}:fetchPredictOperation",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oC(e){const t={},n=s(e,["data"]);if(n!=null&&u(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function aC(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>hC(o))),u(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&u(t,["role"],i),t}function sC(e,t,n){const i={},l=s(t,["expireTime"]);n!==void 0&&l!=null&&u(n,["expireTime"],l);const o=s(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&u(n,["newSessionExpireTime"],o);const a=s(t,["uses"]);n!==void 0&&a!=null&&u(n,["uses"],a);const r=s(t,["liveConnectConstraints"]);n!==void 0&&r!=null&&u(n,["bidiGenerateContentSetup"],mC(e,r));const c=s(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function uC(e,t){const n={},i=s(t,["config"]);return i!=null&&u(n,["config"],sC(e,i,n)),n}function rC(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function cC(e){const t={},n=s(e,["id"]);n!=null&&u(t,["id"],n);const i=s(e,["args"]);i!=null&&u(t,["args"],i);const l=s(e,["name"]);if(l!=null&&u(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function dC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function pC(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);const l=s(e,["responseModalities"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","responseModalities"],l);const o=s(e,["temperature"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","temperature"],o);const a=s(e,["topP"]);t!==void 0&&a!=null&&u(t,["setup","generationConfig","topP"],a);const r=s(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const d=s(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","speechConfig"],yr(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","thinkingConfig"],p);const h=s(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&u(t,["setup","systemInstruction"],aC(Ie(E)));const _=s(e,["tools"]);if(t!==void 0&&_!=null){let I=qi(_);Array.isArray(I)&&(I=I.map(C=>yC(Gi(C)))),u(t,["setup","tools"],I)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&u(t,["setup","sessionResumption"],gC(w));const T=s(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&u(t,["setup","inputAudioTranscription"],T);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&u(t,["setup","contextWindowCompression"],S);const N=s(e,["proactivity"]);return t!==void 0&&N!=null&&u(t,["setup","proactivity"],N),n}function mC(e,t){const n={},i=s(t,["model"]);i!=null&&u(n,["setup","model"],K(e,i));const l=s(t,["config"]);return l!=null&&u(n,["config"],pC(l,n)),n}function hC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&u(t,["executableCode"],l);const o=s(e,["fileData"]);o!=null&&u(t,["fileData"],rC(o));const a=s(e,["functionCall"]);a!=null&&u(t,["functionCall"],cC(a));const r=s(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=s(e,["inlineData"]);c!=null&&u(t,["inlineData"],oC(c));const f=s(e,["text"]);f!=null&&u(t,["text"],f);const d=s(e,["thought"]);d!=null&&u(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function gC(e){const t={},n=s(e,["handle"]);if(n!=null&&u(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);l!=null&&u(t,["computerUse"],l);const o=s(e,["fileSearch"]);o!=null&&u(t,["fileSearch"],o);const a=s(e,["codeExecution"]);if(a!=null&&u(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],fC(r));const c=s(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],dC(c));const f=s(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${n}.${o}`);t.push(...l)}else t.push(n)}return t.join(",")}function TC(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const l=e.fieldMask;if(n){const o=vC(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];l.length>0&&(r=l.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),r.length>0&&c.push(...r),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?e.fieldMask=l.join(","):delete e.fieldMask;return e}class SC extends kt{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=uC(this.apiClient,t);o=L("auth_tokens",r._url),a=r._query,delete r.config,delete r._url,delete r._query;const c=TC(r,t.config);return l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(e,t){const n={},i=s(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["displayName"],i),n}function _C(e){const t={},n=s(e,["config"]);return n!=null&&EC(n,t),t}function CC(e,t){const n={},i=s(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function AC(e){const t={},n=s(e,["name"]);n!=null&&u(t,["_url","name"],n);const i=s(e,["config"]);return i!=null&&CC(i,t),t}function xC(e){const t={},n=s(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function NC(e,t){const n={},i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["customMetadata"],o)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&u(t,["chunkingConfig"],l),n}function MC(e){const t={},n=s(e,["name"]);n!=null&&u(t,["name"],n);const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["done"]);l!=null&&u(t,["done"],l);const o=s(e,["error"]);o!=null&&u(t,["error"],o);const a=s(e,["response"]);return a!=null&&u(t,["response"],wC(a)),t}function RC(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);const i=s(e,["fileName"]);i!=null&&u(t,["fileName"],i);const l=s(e,["config"]);return l!=null&&NC(l,t),t}function wC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&u(t,["parent"],i);const l=s(e,["documentName"]);return l!=null&&u(t,["documentName"],l),t}function IC(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&u(t,["_query","pageToken"],l),n}function DC(e){const t={},n=s(e,["config"]);return n!=null&&IC(n,t),t}function UC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["fileSearchStores"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["fileSearchStores"],o)}return t}function bC(e,t){const n={},i=s(e,["mimeType"]);t!==void 0&&i!=null&&u(t,["mimeType"],i);const l=s(e,["displayName"]);t!==void 0&&l!=null&&u(t,["displayName"],l);const o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>c)),u(t,["customMetadata"],r)}const a=s(e,["chunkingConfig"]);return t!==void 0&&a!=null&&u(t,["chunkingConfig"],a),n}function LC(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);const i=s(e,["config"]);return i!=null&&bC(i,t),t}function GC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qC(e,t){const n={},i=s(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function HC(e){const t={},n=s(e,["name"]);n!=null&&u(t,["_url","name"],n);const i=s(e,["config"]);return i!=null&&qC(i,t),t}function VC(e){const t={},n=s(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function zC(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&u(t,["_query","pageToken"],l),n}function BC(e){const t={},n=s(e,["parent"]);n!=null&&u(t,["_url","parent"],n);const i=s(e,["config"]);return i!=null&&zC(i,t),t}function PC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const l=s(e,["documents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>a)),u(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC extends kt{constructor(t){super(),this.apiClient=t,this.list=async n=>new Bn(Bt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=VC(t);return o=L("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>c)}}async delete(t){var n,i;let l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=HC(t);l=L("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=BC(t);return o=L("{parent}/documents",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=PC(c),d=new Sv;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends kt{constructor(t,n=new kC(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Bn(Bt.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=_C(t);return o=L("fileSearchStores",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>c)}}async get(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=xC(t);return o=L("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>c)}}async delete(t){var n,i;let l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=AC(t);l=L("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=DC(t);return o=L("fileSearchStores",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=UC(c),d=new Ev;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=LC(t);return o=L("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=GC(c),d=new _v;return Object.assign(d,f),d})}}async importFile(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=RC(t);return o=L("{file_search_store_name}:importFile",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=MC(c),d=new dr;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(e,t){const n={},i=s(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function YC(e,t){const n={},i=s(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function JC(e,t,n){const i={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&u(t,["displayName"],l),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=s(e,["epochCount"]);t!==void 0&&o!=null&&u(t,["tuningTask","hyperparameters","epochCount"],o);const a=s(e,["learningRateMultiplier"]);if(a!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=s(e,["batchSize"]);t!==void 0&&r!=null&&u(t,["tuningTask","hyperparameters","batchSize"],r);const c=s(e,["learningRate"]);if(t!==void 0&&c!=null&&u(t,["tuningTask","hyperparameters","learningRate"],c),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function KC(e,t,n){const i={};let l=s(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=s(e,["validationDataset"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec"],vd(h))}else if(l==="PREFERENCE_TUNING"){const h=s(e,["validationDataset"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec"],vd(h))}const o=s(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&u(t,["tunedModelDisplayName"],o);const a=s(e,["description"]);t!==void 0&&a!=null&&u(t,["description"],a);let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=s(e,["epochCount"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(r==="PREFERENCE_TUNING"){const h=s(e,["epochCount"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=s(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){const h=s(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=s(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(f==="PREFERENCE_TUNING"){const h=s(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=s(e,["adapterSize"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(d==="PREFERENCE_TUNING"){const h=s(e,["adapterSize"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(e,["labels"]);t!==void 0&&m!=null&&u(t,["labels"],m);const p=s(e,["beta"]);return t!==void 0&&p!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function QC(e,t){const n={},i=s(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);const l=s(e,["preTunedModel"]);l!=null&&u(n,["preTunedModel"],l);const o=s(e,["trainingDataset"]);o!=null&&oA(o);const a=s(e,["config"]);return a!=null&&JC(a,n),n}function XC(e,t){const n={},i=s(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);const l=s(e,["preTunedModel"]);l!=null&&u(n,["preTunedModel"],l);const o=s(e,["trainingDataset"]);o!=null&&aA(o,n,t);const a=s(e,["config"]);return a!=null&&KC(a,n,t),n}function ZC(e,t){const n={},i=s(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function $C(e,t){const n={},i=s(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function WC(e,t,n){const i={},l=s(e,["pageSize"]);t!==void 0&&l!=null&&u(t,["_query","pageSize"],l);const o=s(e,["pageToken"]);t!==void 0&&o!=null&&u(t,["_query","pageToken"],o);const a=s(e,["filter"]);return t!==void 0&&a!=null&&u(t,["_query","filter"],a),i}function jC(e,t,n){const i={},l=s(e,["pageSize"]);t!==void 0&&l!=null&&u(t,["_query","pageSize"],l);const o=s(e,["pageToken"]);t!==void 0&&o!=null&&u(t,["_query","pageToken"],o);const a=s(e,["filter"]);return t!==void 0&&a!=null&&u(t,["_query","filter"],a),i}function eA(e,t){const n={},i=s(e,["config"]);return i!=null&&WC(i,n),n}function tA(e,t){const n={},i=s(e,["config"]);return i!=null&&jC(i,n),n}function nA(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const l=s(e,["nextPageToken"]);l!=null&&u(n,["nextPageToken"],l);const o=s(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Qh(r))),u(n,["tuningJobs"],a)}return n}function iA(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const l=s(e,["nextPageToken"]);l!=null&&u(n,["nextPageToken"],l);const o=s(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>ru(r))),u(n,["tuningJobs"],a)}return n}function lA(e,t){const n={},i=s(e,["name"]);i!=null&&u(n,["model"],i);const l=s(e,["name"]);return l!=null&&u(n,["endpoint"],l),n}function oA(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),u(n,["examples","examples"],l)}return n}function aA(e,t,n){const i={};let l=s(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const a=s(e,["gcsUri"]);t!==void 0&&a!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(l==="PREFERENCE_TUNING"){const a=s(e,["gcsUri"]);t!==void 0&&a!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=s(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=s(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Qh(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const l=s(e,["name"]);l!=null&&u(n,["name"],l);const o=s(e,["state"]);o!=null&&u(n,["state"],wh(o));const a=s(e,["createTime"]);a!=null&&u(n,["createTime"],a);const r=s(e,["tuningTask","startTime"]);r!=null&&u(n,["startTime"],r);const c=s(e,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);const f=s(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=s(e,["description"]);d!=null&&u(n,["description"],d);const m=s(e,["baseModel"]);m!=null&&u(n,["baseModel"],m);const p=s(e,["_self"]);return p!=null&&u(n,["tunedModel"],lA(p)),n}function ru(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const l=s(e,["name"]);l!=null&&u(n,["name"],l);const o=s(e,["state"]);o!=null&&u(n,["state"],wh(o));const a=s(e,["createTime"]);a!=null&&u(n,["createTime"],a);const r=s(e,["startTime"]);r!=null&&u(n,["startTime"],r);const c=s(e,["endTime"]);c!=null&&u(n,["endTime"],c);const f=s(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=s(e,["error"]);d!=null&&u(n,["error"],d);const m=s(e,["description"]);m!=null&&u(n,["description"],m);const p=s(e,["baseModel"]);p!=null&&u(n,["baseModel"],p);const h=s(e,["tunedModel"]);h!=null&&u(n,["tunedModel"],h);const E=s(e,["preTunedModel"]);E!=null&&u(n,["preTunedModel"],E);const _=s(e,["supervisedTuningSpec"]);_!=null&&u(n,["supervisedTuningSpec"],_);const w=s(e,["preferenceOptimizationSpec"]);w!=null&&u(n,["preferenceOptimizationSpec"],w);const T=s(e,["tuningDataStats"]);T!=null&&u(n,["tuningDataStats"],T);const y=s(e,["encryptionSpec"]);y!=null&&u(n,["encryptionSpec"],y);const v=s(e,["partnerModelTuningSpec"]);v!=null&&u(n,["partnerModelTuningSpec"],v);const S=s(e,["customBaseModel"]);S!=null&&u(n,["customBaseModel"],S);const N=s(e,["experiment"]);N!=null&&u(n,["experiment"],N);const I=s(e,["labels"]);I!=null&&u(n,["labels"],I);const C=s(e,["outputUri"]);C!=null&&u(n,["outputUri"],C);const b=s(e,["pipelineJob"]);b!=null&&u(n,["pipelineJob"],b);const R=s(e,["serviceAccount"]);R!=null&&u(n,["serviceAccount"],R);const U=s(e,["tunedModelDisplayName"]);U!=null&&u(n,["tunedModelDisplayName"],U);const A=s(e,["veoTuningSpec"]);return A!=null&&u(n,["veoTuningSpec"],A),n}function sA(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const l=s(e,["name"]);l!=null&&u(n,["name"],l);const o=s(e,["metadata"]);o!=null&&u(n,["metadata"],o);const a=s(e,["done"]);a!=null&&u(n,["done"],a);const r=s(e,["error"]);return r!=null&&u(n,["error"],r),n}function vd(e,t){const n={},i=s(e,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);const l=s(e,["vertexDatasetResource"]);return l!=null&&u(n,["validationDatasetUri"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends kt{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Bn(Bt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const l={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(l.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:l});return o.baseModel=void 0,await this.tuneInternal(o)}else{const l=Object.assign({},n);return await this.tuneInternal(l)}else{const l=Object.assign({},n),o=await this.tuneMldevInternal(l);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:nu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=$C(t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>ru(d))}else{const f=ZC(t);return r=L("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>Qh(d))}}async listInternal(t){var n,i,l,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=tA(t);return r=L("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=iA(d),p=new $f;return Object.assign(p,m),p})}else{const f=eA(t);return r=L("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=nA(d),p=new $f;return Object.assign(p,m),p})}}async cancel(t){var n,i,l,o;let a="",r={};if(this.apiClient.isVertexAI()){const c=YC(t);a=L("{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=OC(t);a=L("{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=XC(t,t);return o=L("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>ru(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let l,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=QC(t);return o=L("tunedModels",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),l.then(c=>sA(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rA{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cA=1024*1024*8,fA=3,dA=1e3,pA=2,$o="x-goog-upload-status";async function mA(e,t,n){var i;const l=await Xh(e,t,n),o=await(l==null?void 0:l.json());if(((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[$o])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function hA(e,t,n){var i;const l=await Xh(e,t,n),o=await(l==null?void 0:l.json());if(((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[$o])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=Ch(o),r=new pr;return Object.assign(r,a),r}async function Xh(e,t,n){var i,l;let o=0,a=0,r=new iu(new Response),c="upload";for(o=e.size;a<o;){const f=Math.min(cA,o-a),d=e.slice(a,a+f);a+f>=o&&(c+=", finalize");let m=0,p=dA;for(;m<fA&&(r=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((i=r==null?void 0:r.headers)===null||i===void 0)&&i[$o]));)m++,await yA(p),p=p*pA;if(a+=f,((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[$o])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return r}async function gA(e){return{size:e.size,type:e.type}}function yA(e){return new Promise(t=>setTimeout(t,e))}class vA{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mA(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hA(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TA{create(t,n,i){return new SA(t,n,i)}}class SA{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Td="x-goog-api-key";class EA{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Td)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Td,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _A="gl-node/";class Tr{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=j0(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const l=new EA(this.apiKey);this.apiClient=new V_({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:_A+"web",uploader:new vA,downloader:new rA}),this.models=new iC(this.apiClient),this.live=new $_(this.apiClient,l,new TA),this.batches=new RT(this.apiClient),this.chats=new rS(this.models,this.apiClient),this.caches=new aS(this.apiClient),this.files=new TS(this.apiClient),this.operations=new lC(this.apiClient),this.authTokens=new SC(this.apiClient),this.tunings=new uA(this.apiClient),this.fileSearchStores=new FC(this.apiClient)}}const CA=async e=>{try{const t=/[\u0E00-\u0E7F]/.test(e),n="auto",i=t?"en":"th",l="https://translate.googleapis.com/translate_a/single",o=new URLSearchParams;o.append("client","gtx"),o.append("sl",n),o.append("tl",i),o.append("dt","t"),o.append("dt","rm"),o.append("q",e);const a=await fetch(`${l}?${o.toString()}`);if(!a.ok)throw new Error(`Translation API failed with status ${a.status}`);const c=(await a.json())[0];let f="",d="";c&&c.length>0&&(f=c.map(p=>p[0]).filter(p=>p).join(""));const m=c[c.length-1];return t?m&&m.length>=3&&m[3]&&(d=m[3]):m&&m.length>=3&&m[2]&&(d=m[2]),{translatedText:f||"Translation failed",transliteration:d||""}}catch(t){return console.warn("Google Translate API blocked (likely CORS). Falling back to Gemini...",t),AA(e)}},AA=async e=>{const t=new Tr({apiKey:"AIzaSyA0wGs51F7D7RXeBwZ166tpHeTZOAWwQg4"}),n=`Translate to ${/[\u0E00-\u0E7F]/.test(e)?"English":"Thai"}. Return JSON: { "translatedText": "...", "transliteration": "..." }`,i=await t.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json"}}),l=JSON.parse(i.text||"{}");return{translatedText:l.translatedText||"Translation Error",transliteration:l.transliteration||""}},xA=async(e,t)=>{const n=new Tr({apiKey:"AIzaSyA0wGs51F7D7RXeBwZ166tpHeTZOAWwQg4"}),i=`
    Context: Input "${e}", Translation "${t}".
    1. Segment the Thai text (source or translation) into individual words.
    2. For each segment provide:
       - Thai word
       - Transliteration
       - English meaning: MUST provide the primary literal dictionary definition FIRST. If the word has a different meaning in this specific context, include it after in parentheses. Example: for '' (in 'straight on time'), return 'straight (context: on time)'.
       - Part of Speech.
    3. Generate ONE simple example sentence using the main keyword.
    4. IMPORTANT: If the original transliteration was missing, ensure segments have accurate transliteration.
  `,o=(await n.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:fe.OBJECT,properties:{segments:{type:fe.ARRAY,items:{type:fe.OBJECT,properties:{thai:{type:fe.STRING},transliteration:{type:fe.STRING},english:{type:fe.STRING},partOfSpeech:{type:fe.STRING}},required:["thai","transliteration","english","partOfSpeech"]}},exampleSentenceThai:{type:fe.STRING},exampleSentenceEnglish:{type:fe.STRING}},required:["segments","exampleSentenceThai","exampleSentenceEnglish"]}}})).text;return o?JSON.parse(o):{segments:[],exampleSentenceThai:"",exampleSentenceEnglish:""}},NA=async e=>{if(!e||e.length===0)return e;const t=new Tr({apiKey:"AIzaSyA0wGs51F7D7RXeBwZ166tpHeTZOAWwQg4"}),l=`
      For the following Thai words: ${e.slice(0,8).map(o=>o.thai).join(", ")}
      Provide 2-3 synonyms for each.
      Return a JSON array of objects with 'word' and 'synonyms'.
    `;try{const o=await t.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:fe.ARRAY,items:{type:fe.OBJECT,properties:{word:{type:fe.STRING},synonyms:{type:fe.ARRAY,items:{type:fe.STRING}}},required:["word","synonyms"]}}}}),a=JSON.parse(o.text||"[]");return e.map(r=>{const c=a.find(f=>f.word===r.thai);return{...r,synonyms:c?c.synonyms:[]}})}catch(o){return console.error("Failed to fetch synonyms",o),e}},hi=({text:e,className:t="",size:n="md"})=>{const[i,l]=O.useState(!1),[o,a]=O.useState(!1),r=O.useRef(null);O.useEffect(()=>()=>{r.current&&(r.current.pause(),r.current=null),window.speechSynthesis.cancel()},[]);const c=m=>{if(m.stopPropagation(),i||!e)return;a(!0);const p=/[\u0E00-\u0E7F]/.test(e),h=p?"th-TH":"en-US";if("speechSynthesis"in window){window.speechSynthesis.cancel();const E=new SpeechSynthesisUtterance(e);E.lang=h,E.rate=.9,E.onstart=()=>{a(!1),l(!0)},E.onend=()=>{l(!1),a(!1)},E.onerror=_=>{console.warn("Native TTS Error",_),f(p?"th":"en")},window.speechSynthesis.speak(E),setTimeout(()=>{!window.speechSynthesis.speaking&&!i&&o&&(console.log("Native TTS timeout, switching to fallback..."),window.speechSynthesis.cancel(),f(p?"th":"en"))},500);return}f(p?"th":"en")},f=m=>{const p=`https://translate.googleapis.com/translate_tts?client=gtx&ie=UTF-8&tl=${m}&q=${encodeURIComponent(e)}`;r.current&&r.current.pause();const h=new Audio(p);r.current=h,h.oncanplaythrough=()=>{a(!1),l(!0),h.play().catch(E=>{console.error("Fallback Audio playback failed",E),l(!1),a(!1)})},h.onended=()=>{l(!1),a(!1)},h.onerror=E=>{console.error("Fallback Audio load error",E),a(!1),l(!1)},h.load()},d=n==="sm"?"w-4 h-4":n==="lg"?"w-8 h-8":"w-6 h-6";return g.jsx("button",{onClick:c,disabled:o||i,className:`text-thai-600 hover:text-thai-700 hover:bg-thai-50 rounded-full p-2 transition-colors focus:outline-none active:bg-thai-100 ${t}`,title:"Play Pronunciation",children:o?g.jsxs("svg",{className:`animate-spin ${d}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i?g.jsx("svg",{className:d,fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):g.jsx("svg",{className:d,fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})},MA=({onAddToVocab:e,vocabulary:t,folders:n})=>{var U;const[i,l]=O.useState(""),[o,a]=O.useState(Pe.IDLE),[r,c]=O.useState(null),[f,d]=O.useState(""),[m,p]=O.useState(!1),h=O.useRef(null),E=O.useRef("");O.useEffect(()=>{function A(x){h.current&&!h.current.contains(x.target)&&p(!1)}return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const _=async()=>{if(!i.trim())return;const A=i.trim();E.current=A,c(null),a(Pe.LOADING);try{const x=await CA(A);if(E.current!==A)return;const G={originalText:A,translatedText:x.translatedText,transliteration:x.transliteration,segments:[],exampleSentenceThai:"",exampleSentenceEnglish:""};c(G),a(Pe.PARTIAL_SUCCESS);const P=await xA(A,x.translatedText);if(E.current!==A)return;const se={...G,segments:P.segments,exampleSentenceThai:P.exampleSentenceThai,exampleSentenceEnglish:P.exampleSentenceEnglish};c(se),a(Pe.SUCCESS);try{const D=await NA(P.segments);if(E.current!==A)return;c(q=>q?{...q,segments:D}:null)}catch(D){console.warn("Background synonym fetch failed",D)}}catch(x){console.error(x),a(Pe.ERROR)}},w=A=>{A.key==="Enter"&&_()},T=A=>A?t.some(x=>x.thai.trim()===A.trim()):!1,y=A=>{if(T(A.thai))return;const x={id:Date.now().toString()+Math.random().toString(),thai:A.thai,transliteration:A.transliteration,english:A.english,partOfSpeech:A.partOfSpeech,dateAdded:Date.now(),folderId:f||void 0};e(x)},v=()=>{if(!r)return;const A=/[\u0E00-\u0E7F]/.test(r.originalText),x=A?r.originalText:r.translatedText;if(T(x))return;const G=A?r.translatedText:r.originalText,P={id:Date.now().toString(),thai:x,transliteration:r.transliteration,english:G,exampleThai:r.exampleSentenceThai,exampleEnglish:r.exampleSentenceEnglish,dateAdded:Date.now(),folderId:f||void 0};e(P)},S=r?/[\u0E00-\u0E7F]/.test(r.originalText):!1,N=r?S?r.originalText:r.translatedText:"",I=r?S?r.translatedText:r.originalText:"",C=T(N),b=f?((U=n.find(A=>A.id===f))==null?void 0:U.name)||"Unknown":"General",R=o!==Pe.IDLE&&(o===Pe.LOADING||r!==null);return g.jsxs("div",{className:`max-w-2xl mx-auto pb-20 transition-all duration-500 ease-in-out ${R?"":"h-[70vh] flex flex-col justify-center"}`,children:[g.jsxs("div",{className:`
          bg-white rounded-3xl shadow-xl border border-gray-100 transition-all duration-500 ease-in-out z-20
          ${R?"p-3 sticky top-4 mb-4 shadow-md":"p-8 mb-0"}
      `,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Translate"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Save to"}),g.jsxs("div",{className:"relative",ref:h,children:[g.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 bg-thai-50 hover:bg-thai-100 text-thai-700 px-2 py-1 rounded-full text-[10px] font-bold transition-colors outline-none",title:"Select folder to save words",children:[g.jsx("span",{className:"truncate max-w-[80px]",children:b}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-3 w-3 transition-transform ${m?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&g.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-50 animate-fade-in",children:[g.jsx("div",{className:"text-xs font-bold text-gray-300 uppercase px-4 py-2 bg-gray-50",children:"Save to..."}),g.jsxs("div",{className:"max-h-48 overflow-y-auto p-1",children:[g.jsxs("button",{onClick:()=>{d(""),p(!1)},className:`w-full text-left px-3 py-2 rounded-xl text-sm flex items-center gap-2 ${f===""?"bg-thai-50 text-thai-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${f===""?"bg-thai-500":"bg-gray-300"}`}),"General"]}),n.map(A=>g.jsxs("button",{onClick:()=>{d(A.id),p(!1)},className:`w-full text-left px-3 py-2 rounded-xl text-sm flex items-center gap-2 ${f===A.id?"bg-thai-50 text-thai-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${f===A.id?"bg-thai-500":"bg-gray-300"}`}),g.jsx("span",{className:"truncate",children:A.name})]},A.id))]})]})]})]})]}),g.jsx("div",{className:"relative group mb-2",children:g.jsx("input",{type:"text",value:i,onChange:A=>l(A.target.value),onKeyDown:w,placeholder:"",className:`w-full text-center font-medium text-gray-800 placeholder-gray-300 border-b border-gray-100 focus:border-thai-500 bg-transparent py-1 outline-none transition-all font-thai
                ${R?"text-lg":"text-2xl"}
            `,autoFocus:!1})}),g.jsx("button",{onClick:_,disabled:o===Pe.LOADING,className:`w-full bg-thai-600 text-white rounded-2xl font-bold hover:bg-thai-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-70 transform active:scale-95 flex items-center justify-center gap-2
                ${R?"py-2 text-xs":"py-4 text-xl"}
            `,children:o===Pe.LOADING?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Translating..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),g.jsx("span",{children:"Translate"})]})})]}),(o===Pe.SUCCESS||o===Pe.PARTIAL_SUCCESS)&&r&&g.jsxs("div",{className:"space-y-3 animate-fade-in pt-1 pb-20",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-thai-500"}),g.jsxs("div",{className:"flex justify-between items-center mb-2 pl-3",children:[g.jsx("span",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-wider",children:"Translation"}),g.jsx("button",{onClick:v,disabled:C,className:`text-[10px] px-2 py-1 rounded-lg transition flex items-center gap-1 font-medium ${C?"bg-green-100 text-green-700 cursor-default":"bg-thai-50 text-thai-700 hover:bg-thai-100"}`,children:C?g.jsxs(g.Fragment,{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Saved"]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Save"]})})]}),g.jsxs("div",{className:"flex items-start gap-3 pl-3",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("h2",{className:"text-2xl font-bold text-thai-700 font-thai mb-0.5 leading-tight",children:N}),g.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:r.transliteration}),g.jsx("p",{className:"text-lg font-medium text-gray-900 leading-tight",children:I})]}),g.jsx("div",{className:"pt-0.5",children:g.jsx(hi,{text:N,size:"md",className:"text-white bg-thai-500 hover:bg-thai-600 shadow-sm p-1.5"})})]}),(r.exampleSentenceThai||r.exampleSentenceEnglish)&&g.jsxs("div",{className:"mt-2 bg-gray-50 p-2.5 rounded-xl border border-gray-100 ml-3",children:[g.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"Example"}),g.jsxs("p",{className:"text-sm text-gray-800 font-thai mb-0.5 flex items-center gap-2 leading-snug",children:[r.exampleSentenceThai,g.jsx(hi,{text:r.exampleSentenceThai,size:"sm"})]}),g.jsx("p",{className:"text-xs text-gray-600 italic leading-snug",children:r.exampleSentenceEnglish})]})]}),o===Pe.PARTIAL_SUCCESS?g.jsxs("div",{className:"space-y-2 opacity-60 px-1",children:[g.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Breakdown"}),g.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 animate-pulse flex gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),g.jsxs("div",{className:"flex-1 space-y-1.5 py-1",children:[g.jsx("div",{className:"h-2.5 bg-gray-200 rounded w-1/4"}),g.jsx("div",{className:"h-2 bg-gray-200 rounded w-1/2"})]})]}),g.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 animate-pulse flex gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),g.jsxs("div",{className:"flex-1 space-y-1.5 py-1",children:[g.jsx("div",{className:"h-2.5 bg-gray-200 rounded w-1/3"}),g.jsx("div",{className:"h-2 bg-gray-200 rounded w-1/2"})]})]})]}):r.segments.length>0&&g.jsxs("div",{className:"space-y-2 animate-fade-in px-1",children:[g.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Breakdown"}),g.jsx("div",{className:"grid gap-2",children:r.segments.map((A,x)=>{const G=T(A.thai);return g.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 flex items-start justify-between group transition-all",children:[g.jsxs("div",{className:"flex items-start gap-2.5",children:[g.jsx("div",{className:"mt-0.5",children:g.jsx(hi,{text:A.thai,size:"sm",className:"text-gray-300 hover:text-thai-600 bg-gray-50"})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[g.jsx("span",{className:"text-base font-bold text-thai-700 font-thai",children:A.thai}),g.jsx("span",{className:"text-[9px] text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded uppercase font-bold",children:A.partOfSpeech})]}),g.jsxs("div",{className:"text-gray-600 mt-0.5 text-xs",children:[g.jsx("span",{className:"font-medium text-gray-900",children:A.english}),g.jsx("span",{className:"text-gray-300 mx-1.5",children:"|"}),g.jsx("span",{className:"italic text-gray-500",children:A.transliteration})]}),A.synonyms&&A.synonyms.length>0&&g.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1 animate-fade-in",children:A.synonyms.slice(0,4).map((P,se)=>g.jsx("button",{onClick:()=>l(P),className:"text-[9px] text-gray-500 bg-gray-50 hover:bg-thai-50 hover:text-thai-600 px-1.5 py-0.5 rounded border border-gray-100 transition-colors",children:P},se))})]})]}),g.jsx("button",{onClick:()=>y(A),disabled:G,className:`p-1.5 rounded-lg transition-all ${G?"text-green-500 bg-green-50":"text-gray-300 hover:text-thai-600 hover:bg-thai-50"}`,children:G?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]},x)})})]})]})]})},RA=({vocabulary:e,folders:t,onDelete:n,onCreateFolder:i,onDeleteFolder:l,onMoveCard:o,onImport:a})=>{var A;const[r,c]=O.useState("ROOT"),[f,d]=O.useState(!1),[m,p]=O.useState(""),[h,E]=O.useState(""),_=O.useRef(null),w=x=>e.filter(G=>G.folderId===x).length,T=x=>{x.preventDefault(),m.trim()&&(i(m.trim()),p(""),d(!1))},y=(x,G,P)=>{P.stopPropagation(),window.confirm(`Are you sure you want to delete folder "${G}"? Cards inside will be moved to General.`)&&l(x)},v=()=>{const x=JSON.stringify({vocabulary:e,folders:t},null,2),G=new Blob([x],{type:"application/json"}),P=URL.createObjectURL(G),se=document.createElement("a");se.href=P,se.download=`tuktuk-thai-backup-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(P)},S=()=>{var x;(x=_.current)==null||x.click()},N=x=>{var se;const G=(se=x.target.files)==null?void 0:se[0];if(!G)return;const P=new FileReader;P.onload=D=>{var q;try{const H=JSON.parse((q=D.target)==null?void 0:q.result);H.vocabulary&&Array.isArray(H.vocabulary)?a(H.vocabulary,H.folders||[]):alert("Invalid file format: Missing vocabulary data.")}catch(H){console.error(H),alert("Failed to parse JSON file.")}_.current&&(_.current.value="")},P.readAsText(G)},I=x=>{var G;return g.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white pl-2",children:[g.jsxs("div",{className:"relative group/move",children:[g.jsx("button",{className:"text-gray-300 hover:text-thai-600 p-1",title:"Move to Folder",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),g.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-xl border border-gray-100 hidden group-hover/move:block z-10 overflow-hidden",children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 px-3 py-2 bg-gray-50 uppercase",children:"Move to..."}),g.jsxs("button",{onClick:()=>o({...x,folderId:void 0}),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-thai-50 hover:text-thai-700 flex items-center gap-2",children:[x.folderId!==void 0&&g.jsx("span",{className:"text-green-500 text-xs",children:""}),"General"]}),t.map(P=>g.jsxs("button",{onClick:()=>o({...x,folderId:P.id}),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-thai-50 hover:text-thai-700 flex items-center gap-2",children:[P.id!==x.folderId&&g.jsx("span",{className:"text-green-500 text-xs",children:""}),P.name]},P.id))]})]}),g.jsx("button",{onClick:()=>n(x.id),className:"text-gray-300 hover:text-red-500 p-1",title:"Remove",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),g.jsx("div",{className:"flex justify-between items-start",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("h3",{className:"text-xl font-bold text-thai-700 font-thai",children:x.thai}),g.jsx(hi,{text:x.thai,size:"sm"}),h&&g.jsx("span",{className:"text-xs bg-gray-100 text-gray-400 px-2 py-0.5 rounded-full",children:x.folderId?(G=t.find(P=>P.id===x.folderId))==null?void 0:G.name:"General"})]}),g.jsx("p",{className:"text-sm text-thai-500 font-medium mb-2",children:x.transliteration}),g.jsx("p",{className:"text-gray-800 font-medium border-t border-dashed border-gray-200 pt-2 mt-2",children:x.english}),x.exampleThai&&g.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-lg text-sm",children:[g.jsxs("p",{className:"font-thai text-gray-700 mb-1 flex items-center gap-2",children:[x.exampleThai,g.jsx(hi,{text:x.exampleThai,size:"sm"})]}),g.jsx("p",{className:"text-gray-500 italic",children:x.exampleEnglish})]})]})}),g.jsx("div",{className:"mt-2 text-xs text-gray-300 text-right",children:new Date(x.dateAdded).toLocaleDateString()})]},x.id)},C=e.filter(x=>x.thai.toLowerCase().includes(h.toLowerCase())||x.english.toLowerCase().includes(h.toLowerCase())||x.transliteration.toLowerCase().includes(h.toLowerCase())),b=r==="GENERAL"?void 0:r,R=r==="GENERAL"?"General":((A=t.find(x=>x.id===r))==null?void 0:A.name)||"Unknown",U=e.filter(x=>x.folderId===b);return g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-40",children:[" ",g.jsx("input",{type:"file",accept:".json",ref:_,onChange:N,className:"hidden"}),h?g.jsxs("div",{className:"space-y-4 animate-fade-in",children:[g.jsxs("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-2 flex justify-between",children:[g.jsx("span",{children:"Search Results"}),g.jsx("span",{className:"bg-thai-100 text-thai-700 px-2 py-0.5 rounded-full text-xs",children:C.length})]}),C.length===0?g.jsx("div",{className:"text-center py-12 text-gray-400",children:"No matching words found."}):g.jsx("div",{className:"grid gap-4",children:C.map(I)})]}):g.jsxs(g.Fragment,{children:[r==="ROOT"&&g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"flex justify-between items-center px-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Collections"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:S,className:"p-2 text-gray-500 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:text-thai-600 transition-colors shadow-sm",title:"Import Backup",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),g.jsx("button",{onClick:v,className:"p-2 text-gray-500 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:text-thai-600 transition-colors shadow-sm",title:"Export Backup",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),g.jsxs("button",{onClick:()=>d(!0),className:"bg-thai-600 text-white hover:bg-thai-700 px-4 py-2 rounded-xl font-medium text-sm flex items-center gap-2 transition-all shadow-sm",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Folder"]})]})]}),f&&g.jsxs("form",{onSubmit:T,className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col sm:flex-row gap-3 animate-fade-in",children:[g.jsxs("div",{className:"relative flex-1 w-full",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),g.jsx("input",{type:"text",autoFocus:!0,placeholder:"Folder Name (e.g. Travel)",className:"w-full border-2 border-gray-200 bg-gray-50 rounded-xl pl-10 pr-4 py-3 focus:bg-white focus:border-thai-500 focus:ring-4 focus:ring-thai-100 outline-none text-lg font-medium transition-all",value:m,onChange:x=>p(x.target.value)})]}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[g.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 sm:flex-none px-4 py-3 text-gray-600 font-medium bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",className:"flex-1 sm:flex-none bg-thai-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-thai-700 shadow-sm transition-colors",children:"Create"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[g.jsxs("div",{onClick:()=>c("GENERAL"),className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all cursor-pointer group flex flex-col items-center text-center",children:[g.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-full flex items-center justify-center text-gray-400 mb-3 group-hover:bg-thai-50 group-hover:text-thai-500 transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),g.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"General"}),g.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[w(void 0)," words"]})]}),t.map(x=>g.jsxs("div",{onClick:()=>c(x.id),className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all cursor-pointer group flex flex-col items-center text-center relative",children:[g.jsx("button",{onClick:G=>y(x.id,x.name,G),className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-sm text-gray-400 hover:text-red-500 hover:bg-red-50 transition-all z-10",title:"Delete Folder",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),g.jsx("div",{className:"w-14 h-14 bg-amber-50 rounded-full flex items-center justify-center text-amber-500 mb-3 group-hover:bg-amber-100 transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),g.jsx("h3",{className:"font-bold text-gray-800 truncate w-full px-2 text-lg",children:x.name}),g.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[w(x.id)," words"]})]},x.id))]})]}),r!=="ROOT"&&g.jsxs("div",{className:"space-y-4 animate-fade-in",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("button",{onClick:()=>c("ROOT"),className:"p-2 rounded-full hover:bg-gray-200 text-gray-500 transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:R}),g.jsxs("p",{className:"text-sm text-gray-500",children:[U.length," cards"]})]})]}),U.length===0?g.jsx("div",{className:"text-center py-12 text-gray-400 bg-white rounded-2xl border border-dashed border-gray-200",children:g.jsx("p",{children:"No cards in this folder yet."})}):g.jsx("div",{className:"grid gap-4",children:U.slice().reverse().map(I)})]})]}),g.jsx("div",{className:"fixed bottom-20 left-0 right-0 px-4 pb-4 pt-2 bg-gradient-to-t from-gray-100 via-gray-50 to-transparent z-30 pointer-events-none",children:g.jsx("div",{className:"max-w-2xl mx-auto pointer-events-auto",children:g.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-lg border border-gray-200 relative",children:g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:h,onChange:x=>E(x.target.value),placeholder:"Search vocabulary...",className:"w-full pl-12 pr-10 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900 placeholder-gray-400 focus:bg-white focus:border-thai-500 focus:ring-2 focus:ring-thai-100 outline-none text-lg font-thai font-medium transition-all"}),g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),h&&g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx("button",{onClick:()=>E(""),className:"hover:text-gray-600 p-1 bg-gray-200 rounded-full",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})})})]})},wA=({vocabulary:e,folders:t})=>{const[n,i]=O.useState("SETUP"),[l,o]=O.useState([]),[a,r]=O.useState(null),[c,f]=O.useState(0),[d,m]=O.useState(0),[p,h]=O.useState(null),[E,_]=O.useState(null),w=O.useRef(new Set),T=A=>{const x={correct:"https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3",wrong:"https://assets.mixkit.co/active_storage/sfx/2994/2994-preview.mp3",complete:"https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"};try{const G=new Audio(x[A]);G.volume=.4,G.play().catch(P=>console.log("Audio play prevented",P))}catch(G){console.error("Sound error",G)}},y=O.useCallback(()=>l.length===0?[]:e.filter(A=>l.includes("GENERAL")&&A.folderId===void 0?!0:A.folderId&&l.includes(A.folderId)),[e,l]),v=O.useCallback(()=>{const A=y();if(A.length<4)return null;let x=A.filter(rt=>!w.current.has(rt.id));x.length===0&&(x=A);const G=Math.floor(Math.random()*x.length),P=x[G];w.current.add(P.id);const se=Math.random()>.5?"THAI_TO_ENG":"ENG_TO_THAI",D=se==="THAI_TO_ENG"?P.thai:P.english,q=se==="THAI_TO_ENG"?P.english:P.thai,H=new Set;H.add(q);const he=[...A.filter(rt=>rt.id!==P.id)].sort(()=>Math.random()-.5);for(const rt of he){if(H.size>=4)break;const Et=se==="THAI_TO_ENG"?rt.english:rt.thai;Et&&Et!==q&&Et.trim()!==""&&H.add(Et)}return{question:D,correctAnswer:q,options:Array.from(H).sort(()=>Math.random()-.5),type:se,card:P}},[y]),S=()=>{w.current.clear(),f(0),m(0);const A=v();A&&(r(A),i("PLAYING"))},N=A=>{if(p!==null)return;_(A);const x=A===(a==null?void 0:a.correctAnswer);h(x?"CORRECT":"WRONG"),x?(f(G=>G+1),T("correct")):T("wrong"),setTimeout(()=>{if(m(G=>G+1),d>=9)i("SUMMARY"),h(null),_(null),T("complete");else{const G=v();G?(r(G),h(null),_(null)):(i("SUMMARY"),T("complete"))}},1200)},I=A=>{o(x=>x.includes(A)?x.filter(G=>G!==A):[...x,A])},C=["GENERAL",...t.map(A=>A.id)],b=C.length>0&&C.every(A=>l.includes(A)),R=()=>{o(b?[]:C)};if(n==="SETUP"){const A=y().length,x=A>=4;return g.jsx("div",{className:"max-w-2xl mx-auto flex flex-col h-[calc(100vh-160px)] pb-2 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col h-full",children:[g.jsxs("div",{className:"text-center space-y-1 flex-none mb-2",children:[g.jsx("div",{className:"w-10 h-10 bg-thai-50 rounded-full flex items-center justify-center mx-auto text-thai-600",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),g.jsx("h2",{className:"text-lg font-bold text-gray-900 font-thai",children:"Start Quiz"}),g.jsx("p",{className:"text-[10px] text-gray-500 max-w-xs mx-auto",children:"Select decks (min 4 words total)."})]}),g.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:g.jsxs("div",{className:"bg-gray-50 rounded-xl p-2 border border-gray-200 flex-1 overflow-y-auto",children:[g.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 sticky top-0 bg-gray-50 pb-1 z-10",children:"Select Decks"}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("label",{className:"flex items-center gap-2 p-2 bg-thai-50 rounded-lg border border-thai-200 hover:border-thai-300 cursor-pointer transition-all shadow-sm",children:[g.jsx("input",{type:"checkbox",checked:b,onChange:R,className:"w-4 h-4 rounded border-gray-300 text-thai-600 focus:ring-thai-500 transition-colors cursor-pointer accent-thai-600"}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-bold text-xs text-thai-800",children:"Select All"})})]}),g.jsxs("label",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border border-gray-200 hover:border-thai-300 cursor-pointer transition-all shadow-sm",children:[g.jsx("input",{type:"checkbox",checked:l.includes("GENERAL"),onChange:()=>I("GENERAL"),className:"w-4 h-4 rounded border-gray-300 text-thai-600 focus:ring-thai-500 transition-colors cursor-pointer accent-thai-600"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium text-xs text-gray-800",children:"General"}),g.jsxs("div",{className:"text-[10px] text-gray-400",children:[e.filter(G=>G.folderId===void 0).length," words"]})]})]}),t.map(G=>g.jsxs("label",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border border-gray-200 hover:border-thai-300 cursor-pointer transition-all shadow-sm",children:[g.jsx("input",{type:"checkbox",checked:l.includes(G.id),onChange:()=>I(G.id),className:"w-4 h-4 rounded border-gray-300 text-thai-600 focus:ring-thai-500 transition-colors cursor-pointer accent-thai-600"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium text-xs text-gray-800",children:G.name}),g.jsxs("div",{className:"text-[10px] text-gray-400",children:[e.filter(P=>P.folderId===G.id).length," words"]})]})]},G.id))]})]})}),g.jsx("div",{className:"pt-3 flex-none",children:g.jsxs("button",{onClick:S,disabled:!x,className:"w-full bg-thai-600 text-white py-3 rounded-xl font-bold text-sm hover:bg-thai-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95",children:["Start Quiz (",A," words)"]})})]})})}if(n==="SUMMARY"){const A=Math.round(c/10*100);return g.jsx("div",{className:"max-w-2xl mx-auto py-10 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl text-center border border-gray-100 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-thai-400 to-thai-600"}),g.jsx("div",{className:"mb-6 animate-pop",children:g.jsx("span",{className:"text-6xl",children:A>=80?"":A>=50?"":""})}),g.jsx("h2",{className:"text-4xl font-bold text-gray-800 font-thai mb-2",children:"Quiz Complete!"}),g.jsx("p",{className:"text-gray-500 mb-8",children:"Here is how you did today"}),g.jsxs("div",{className:"flex justify-center items-center gap-8 mb-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl font-bold text-thai-600",children:c}),g.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Correct"})]}),g.jsx("div",{className:"w-px h-12 bg-gray-200"}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl font-bold text-gray-800",children:"10"}),g.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Total"})]})]}),g.jsx("button",{onClick:()=>i("SETUP"),className:"bg-thai-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-thai-700 transition-all shadow-md w-full sm:w-auto",children:"Play Again"})]})})}if(!a)return null;const U=a.type==="ENG_TO_THAI";return g.jsxs("div",{className:"max-w-2xl mx-auto flex flex-col h-[calc(100vh-160px)] pb-2",children:[g.jsx("style",{children:`
         @keyframes shake {
           0%, 100% { transform: translateX(0); }
           10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
           20%, 40%, 60%, 80% { transform: translateX(4px); }
         }
         @keyframes pop {
           0% { transform: scale(1); }
           50% { transform: scale(1.05); }
           100% { transform: scale(1); }
         }
         @keyframes slide-up {
           from { opacity: 0; transform: translateY(10px); }
           to { opacity: 1; transform: translateY(0); }
         }
         .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
         .animate-pop { animation: pop 0.3s ease-out; }
         .animate-slide-up { animation: slide-up 0.4s ease-out forwards; }
       `}),g.jsxs("div",{className:"flex-none mb-2",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-gray-400 mb-1.5 px-1 uppercase tracking-wide",children:[g.jsxs("span",{children:["Question ",d+1," / 10"]}),g.jsxs("span",{className:"bg-thai-50 text-thai-600 px-2 py-0.5 rounded-full",children:["Score: ",c]})]}),g.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-thai-500 rounded-full transition-all duration-500 ease-out",style:{width:`${d/10*100}%`}})})]}),g.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center bg-white rounded-3xl p-6 shadow-lg border border-gray-100 text-center mb-4 animate-slide-up relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-thai-500"}),g.jsx("h3",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-widest mb-3",children:a.type==="THAI_TO_ENG"?"Translate to English":"Translate to Thai"}),g.jsx("div",{className:"text-4xl font-bold text-gray-800 font-thai mb-2 leading-tight break-words max-w-full",children:a.question}),a.card&&g.jsx("div",{className:"mt-2",children:g.jsx(hi,{text:a.card.thai,size:"md",className:"text-thai-500 bg-thai-50 hover:bg-thai-100"})})]},a.question),g.jsx("div",{className:`grid ${U?"grid-cols-2":"grid-cols-1"} gap-2 flex-none`,children:a.options.map((A,x)=>{let G="bg-white border-gray-200 text-gray-600 hover:border-thai-300 hover:bg-gray-50";return E===A?p==="CORRECT"?G="bg-green-50 border-green-500 text-green-700 animate-pop":p==="WRONG"&&(G="bg-red-50 border-red-500 text-red-700 animate-shake"):p==="WRONG"&&A===a.correctAnswer&&(G="bg-green-50 border-green-500 text-green-700 opacity-80"),g.jsxs("button",{onClick:()=>N(A),disabled:p!==null,className:`
                    relative p-3 rounded-xl border-2 font-medium text-base shadow-sm transition-all 
                    ${U?"font-thai h-16 flex items-center justify-center text-center":"text-left pl-4"}
                    ${G}
                 `,children:[g.jsx("div",{className:`
                    absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full border-2
                    ${U?"hidden":"block"} 
                    ${E===A?p==="CORRECT"?"border-green-500 bg-green-500":"border-red-500 bg-red-500":"border-gray-200"}
                 `}),g.jsx("span",{className:U?"":"ml-6",children:A})]},x)})})]})};function IA(){const[e,t]=O.useState(ft.TRANSLATE),[n,i]=O.useState([]),[l,o]=O.useState([]),[a,r]=O.useState(!1),[c,f]=O.useState("");O.useEffect(()=>{const y=localStorage.getItem("thaiMasterData");if(y)try{const v=JSON.parse(y);v.vocabulary&&i(v.vocabulary),v.folders&&o(v.folders)}catch(v){console.error("Error parsing local storage data",v)}},[]);const d=(y,v)=>{localStorage.setItem("thaiMasterData",JSON.stringify({vocabulary:y,folders:v}))},m=y=>{const v=[...n,y];i(v),d(v,l),f("Saved to Flashcards"),r(!0),setTimeout(()=>r(!1),2e3)},p=y=>{const v=n.filter(S=>S.id!==y);i(v),d(v,l)},h=y=>{const v=n.map(S=>S.id===y.id?y:S);i(v),d(v,l)},E=y=>{const v={id:Date.now().toString(),name:y,createdAt:Date.now()},S=[...l,v];o(S),d(n,S)},_=y=>{const v=l.filter(N=>N.id!==y);o(v);const S=n.map(N=>{if(N.folderId===y){const{folderId:I,...C}=N;return C}return N});i(S),d(S,v)},w=y=>{h(y)},T=(y,v)=>{let S=0;const N=new Set(n.map(R=>R.id)),I=[...n];y.forEach(R=>{N.has(R.id)||(I.push(R),S++)});const C=new Set(l.map(R=>R.id)),b=[...l];v.forEach(R=>{C.has(R.id)||b.push(R)}),i(I),o(b),d(I,b),f(`Imported ${S} new cards`),r(!0),setTimeout(()=>r(!1),2e3)};return g.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans selection:bg-thai-100 selection:text-thai-800 pb-20",children:[g.jsx("header",{className:"bg-white sticky top-0 z-30 border-b border-gray-100 shadow-sm backdrop-blur-md bg-opacity-90",children:g.jsxs("div",{className:"max-w-2xl mx-auto px-4 h-16 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-thai-600 to-thai-400 rounded-lg flex items-center justify-center text-white font-bold shadow-md",children:""}),g.jsx("h1",{className:"text-xl font-bold tracking-tight text-gray-900",children:"TukTuk Thai"})]}),g.jsxs("div",{className:"text-xs font-medium text-gray-400 bg-gray-50 px-2 py-1 rounded-lg border border-gray-100",children:[n.length," words"]})]})}),g.jsx("div",{className:`fixed top-20 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-full shadow-2xl z-50 transition-all transform ${a?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}`,children:g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),c]})}),g.jsxs("main",{className:"p-4 max-w-2xl mx-auto min-h-[calc(100vh-140px)]",children:[g.jsx("div",{className:e===ft.TRANSLATE?"block":"hidden",children:g.jsx(MA,{onAddToVocab:m,vocabulary:n,folders:l})}),g.jsx("div",{className:e===ft.VOCABULARY?"block":"hidden",children:g.jsx(RA,{vocabulary:n,folders:l,onDelete:p,onCreateFolder:E,onDeleteFolder:_,onMoveCard:w,onImport:T})}),g.jsx("div",{className:e===ft.QUIZ?"block":"hidden",children:g.jsx(wA,{vocabulary:n,folders:l})})]}),g.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 pb-safe pt-2 px-6 z-40 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:g.jsxs("div",{className:"max-w-md mx-auto flex justify-around items-center pb-4",children:[g.jsxs("button",{onClick:()=>t(ft.TRANSLATE),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all w-20 ${e===ft.TRANSLATE?"text-thai-600 bg-thai-50":"text-gray-400 hover:text-gray-600"}`,children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),g.jsx("span",{className:"text-[10px] font-bold",children:"Translate"})]}),g.jsxs("button",{onClick:()=>t(ft.VOCABULARY),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all w-20 ${e===ft.VOCABULARY?"text-thai-600 bg-thai-50":"text-gray-400 hover:text-gray-600"}`,children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),g.jsx("span",{className:"text-[10px] font-bold",children:"Flashcards"})]}),g.jsxs("button",{onClick:()=>t(ft.QUIZ),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all w-20 ${e===ft.QUIZ?"text-thai-600 bg-thai-50":"text-gray-400 hover:text-gray-600"}`,children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),g.jsx("span",{className:"text-[10px] font-bold",children:"Quiz"})]})]})})]})}const Zh=document.getElementById("root");if(!Zh)throw new Error("Could not find root element to mount to");const DA=X0.createRoot(Zh);DA.render(g.jsx(hg.StrictMode,{children:g.jsx(IA,{})}));
